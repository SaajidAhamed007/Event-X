(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function VA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Sm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function LA(){if(G_)return zl;G_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=t,zl.jsxs=t,zl}var K_;function UA(){return K_||(K_=1,Sm.exports=LA()),Sm.exports}var w=UA(),Rm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function jA(){if($_)return Re;$_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function B(O,ie,le){this.props=O,this.context=ie,this.refs=U,this.updater=le||I}B.prototype.isReactComponent={},B.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function Q(O,ie,le){this.props=O,this.context=ie,this.refs=U,this.updater=le||I}var ne=Q.prototype=new Y;ne.constructor=Q,N(ne,B.prototype),ne.isPureReactComponent=!0;var ae=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function M(O,ie,le,re,ge,Ce){return le=Ce.ref,{$$typeof:i,type:O,key:ie,ref:le!==void 0?le:null,props:Ce}}function R(O,ie){return M(O.type,ie,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function k(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ie[le]})}var V=/\/+/g;function j(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):ie.toString(36)}function D(){}function Pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ot(O,ie,le,re,ge){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case v:return we=O._init,ot(we(O._payload),ie,le,re,ge)}}if(we)return ge=ge(O),we=re===""?"."+j(O,0):re,ae(ge)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),ot(ge,ie,le,"",function(ei){return ei})):ge!=null&&(x(ge)&&(ge=R(ge,le+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+we)),ie.push(ge)),1;we=0;var xt=re===""?".":re+":";if(ae(O))for(var Ze=0;Ze<O.length;Ze++)re=O[Ze],Ce=xt+j(re,Ze),we+=ot(re,ie,le,Ce,ge);else if(Ze=T(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(re=O.next()).done;)re=re.value,Ce=xt+j(re,Ze++),we+=ot(re,ie,le,Ce,ge);else if(Ce==="object"){if(typeof O.then=="function")return ot(Pt(O),ie,le,re,ge);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(O,ie,le){if(O==null)return O;var re=[],ge=0;return ot(O,re,"","",function(Ce){return ie.call(le,Ce,ge++)}),re}function oe(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return Re.Children={map:X,forEach:function(O,ie,le){X(O,function(){ie.apply(this,arguments)},le)},count:function(O){var ie=0;return X(O,function(){ie++}),ie},toArray:function(O){return X(O,function(ie){return ie})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=B,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ie,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=N({},O.props),ge=O.key,Ce=void 0;if(ie!=null)for(we in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ge=""+ie.key),ie)!ve.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(re[we]=ie[we]);var we=arguments.length-2;if(we===1)re.children=le;else if(1<we){for(var xt=Array(we),Ze=0;Ze<we;Ze++)xt[Ze]=arguments[Ze+2];re.children=xt}return M(O.type,ge,void 0,void 0,Ce,re)},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ie,le){var re,ge={},Ce=null;if(ie!=null)for(re in ie.key!==void 0&&(Ce=""+ie.key),ie)ve.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=ie[re]);var we=arguments.length-2;if(we===1)ge.children=le;else if(1<we){for(var xt=Array(we),Ze=0;Ze<we;Ze++)xt[Ze]=arguments[Ze+2];ge.children=xt}if(O&&O.defaultProps)for(re in we=O.defaultProps,we)ge[re]===void 0&&(ge[re]=we[re]);return M(O,Ce,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:d,render:O}},Re.isValidElement=x,Re.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:oe}},Re.memo=function(O,ie){return{$$typeof:g,type:O,compare:ie===void 0?null:ie}},Re.startTransition=function(O){var ie=ue.T,le={};ue.T=le;try{var re=O(),ge=ue.S;ge!==null&&ge(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,me)}catch(Ce){me(Ce)}finally{ue.T=ie}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(O){return ue.H.use(O)},Re.useActionState=function(O,ie,le){return ue.H.useActionState(O,ie,le)},Re.useCallback=function(O,ie){return ue.H.useCallback(O,ie)},Re.useContext=function(O){return ue.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ie){return ue.H.useDeferredValue(O,ie)},Re.useEffect=function(O,ie,le){var re=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,ie)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(O,ie,le){return ue.H.useImperativeHandle(O,ie,le)},Re.useInsertionEffect=function(O,ie){return ue.H.useInsertionEffect(O,ie)},Re.useLayoutEffect=function(O,ie){return ue.H.useLayoutEffect(O,ie)},Re.useMemo=function(O,ie){return ue.H.useMemo(O,ie)},Re.useOptimistic=function(O,ie){return ue.H.useOptimistic(O,ie)},Re.useReducer=function(O,ie,le){return ue.H.useReducer(O,ie,le)},Re.useRef=function(O){return ue.H.useRef(O)},Re.useState=function(O){return ue.H.useState(O)},Re.useSyncExternalStore=function(O,ie,le){return ue.H.useSyncExternalStore(O,ie,le)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.1.0",Re}var Y_;function Rp(){return Y_||(Y_=1,Rm.exports=jA()),Rm.exports}var z=Rp();const Q_=VA(z);var xm={exports:{}},Bl={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function zA(){return X_||(X_=1,function(i){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var ze=me-1>>>1,O=X[ze];if(0<o(O,oe))X[ze]=oe,X[me]=O,me=ze;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var ze=0,O=X.length,ie=O>>>1;ze<ie;){var le=2*(ze+1)-1,re=X[le],ge=le+1,Ce=X[ge];if(0>o(re,me))ge<O&&0>o(Ce,re)?(X[ze]=Ce,X[ge]=me,ze=ge):(X[ze]=re,X[le]=me,ze=le);else if(ge<O&&0>o(Ce,me))X[ze]=Ce,X[ge]=me,ze=ge;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,b=null,T=3,I=!1,N=!1,U=!1,B=!1,Y=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function ue(X){if(U=!1,ae(X),!N)if(t(p)!==null)N=!0,ve||(ve=!0,j());else{var oe=t(g);oe!==null&&ot(ue,oe.startTime-X)}}var ve=!1,M=-1,R=5,x=-1;function k(){return B?!0:!(i.unstable_now()-x<R)}function V(){if(B=!1,ve){var X=i.unstable_now();x=X;var oe=!0;try{e:{N=!1,U&&(U=!1,Q(M),M=-1),I=!0;var me=T;try{t:{for(ae(X),b=t(p);b!==null&&!(b.expirationTime>X&&k());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,T=b.priorityLevel;var O=ze(b.expirationTime<=X);if(X=i.unstable_now(),typeof O=="function"){b.callback=O,ae(X),oe=!0;break t}b===t(p)&&s(p),ae(X)}else s(p);b=t(p)}if(b!==null)oe=!0;else{var ie=t(g);ie!==null&&ot(ue,ie.startTime-X),oe=!1}}break e}finally{b=null,T=me,I=!1}oe=void 0}}finally{oe?j():ve=!1}}}var j;if(typeof ne=="function")j=function(){ne(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Pt=D.port2;D.port1.onmessage=V,j=function(){Pt.postMessage(null)}}else j=function(){Y(V,0)};function ot(X,oe){M=Y(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(X){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var me=T;T=oe;try{return X()}finally{T=me}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=T;T=X;try{return oe()}finally{T=me}},i.unstable_scheduleCallback=function(X,oe,me){var ze=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,X={id:v++,callback:oe,priorityLevel:X,startTime:me,expirationTime:O,sortIndex:-1},me>ze?(X.sortIndex=me,e(g,X),t(p)===null&&X===t(g)&&(U?(Q(M),M=-1):U=!0,ot(ue,me-ze))):(X.sortIndex=O,e(p,X),N||I||(N=!0,ve||(ve=!0,j()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var oe=T;return function(){var me=T;T=oe;try{return X.apply(this,arguments)}finally{T=me}}}}(Cm)),Cm}var W_;function BA(){return W_||(W_=1,Im.exports=zA()),Im.exports}var Nm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function HA(){if(Z_)return $t;Z_=1;var i=Rp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},$t.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:I}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},$t.useFormStatus=function(){return h.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var J_;function qA(){if(J_)return Nm.exports;J_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=HA(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function FA(){if(e0)return Bl;e0=1;var i=BA(),e=Rp(),t=qA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,l=m;break}if(A===l){E=!0,l=f,a=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===a){E=!0,a=m,l=f;break}if(A===l){E=!0,l=m,a=f;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case Q:return(n._context.displayName||"Context")+".Consumer";case ae:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:Pt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return Pt(n(r))}catch{}}return null}var ot=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function ie(n){return{current:n}}function le(n){0>O||(n.current=ze[O],ze[O]=null,O--)}function re(n,r){O++,ze[O]=n.current,n.current=r}var ge=ie(null),Ce=ie(null),we=ie(null),xt=ie(null);function Ze(n,r){switch(re(we,r),re(Ce,n),re(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?__(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=__(r),n=E_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ge),re(ge,n)}function ei(){le(ge),le(Ce),le(we)}function dr(n){n.memoizedState!==null&&re(xt,n);var r=ge.current,a=E_(r,n.type);r!==a&&(re(Ce,n),re(ge,a))}function Ii(n){Ce.current===n&&(le(ge),le(Ce)),xt.current===n&&(le(xt),Pl._currentValue=me)}var ds=Object.prototype.hasOwnProperty,ms=i.unstable_scheduleCallback,ps=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,Pu=i.unstable_requestPaint,An=i.unstable_now,Sf=i.unstable_getCurrentPriorityLevel,ko=i.unstable_ImmediatePriority,da=i.unstable_UserBlockingPriority,gs=i.unstable_NormalPriority,Rf=i.unstable_LowPriority,ma=i.unstable_IdlePriority,Mo=i.log,Vu=i.unstable_setDisableYieldValue,lt=null,Fe=null;function dn(n){if(typeof Mo=="function"&&Vu(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,n)}catch{}}var Gt=Math.clz32?Math.clz32:ys,Lu=Math.log,xf=Math.LN2;function ys(n){return n>>>=0,n===0?32:31-(Lu(n)/xf|0)|0}var vs=256,_s=4194304;function zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pa(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=zn(l):(E&=A,E!==0?f=zn(E):a||(a=A&~n,a!==0&&(f=zn(a))))):(A=l&~m,A!==0?f=zn(A):E!==0?f=zn(E):a||(a=l&~n,a!==0&&(f=zn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Es(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Po(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),n}function Lo(){var n=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),n}function Ci(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ni(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uo(n,r,a,l,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,C=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Gt(a),J=1<<W;A[W]=0,C[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&ti(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function ti(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Gt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function jo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Gt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function mr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ga(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pr(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:j_(n.type))}function Uu(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var tt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+tt,pt="__reactProps$"+tt,Sn="__reactContainer$"+tt,zo="__reactEvents$"+tt,If="__reactListeners$"+tt,gr="__reactHandles$"+tt,ju="__reactResources$"+tt,Ts="__reactMarker$"+tt;function yr(n){delete n[Tt],delete n[pt],delete n[zo],delete n[If],delete n[gr]}function Di(n){var r=n[Tt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Sn]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=A_(n);n!==null;){if(a=n[Tt])return a;n=A_(n)}return r}n=a,a=n.parentNode}return null}function ni(n){if(n=n[Tt]||n[Sn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ii(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Jt(n){var r=n[ju];return r||(r=n[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(n){n[Ts]=!0}var Bo=new Set,ya={};function Bn(n,r){Oi(n,r),Oi(n+"Capture",r)}function Oi(n,r){for(ya[n]=r,n=0;n<r.length;n++)Bo.add(r[n])}var zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},bs={};function Hu(n){return ds.call(bs,n)?!0:ds.call(Bu,n)?!1:zu.test(n)?bs[n]=!0:(Bu[n]=!0,!1)}function vr(n,r,a){if(Hu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ri(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Vt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ws,qu;function ki(n){if(ws===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ws=r&&r[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+n+qu}var va=!1;function _a(n,r){if(!n||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var G=K}Reflect.construct(n,[],J)}else{try{J.call()}catch(K){G=K}n.call(J.prototype)}}else{try{throw Error()}catch(K){G=K}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var C=E.split(`
`),F=A.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===F.length)for(l=C.length-1,f=F.length-1;1<=l&&0<=f&&C[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==F[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ki(a):""}function Ho(n){switch(n.tag){case 26:case 27:case 5:return ki(n.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return _a(n.type,!1);case 11:return _a(n.type.render,!1);case 1:return _a(n.type,!0);case 31:return ki("Activity");default:return""}}function Ea(n){try{var r="";do r+=Ho(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cf(n){var r=qo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ta(n){n._valueTracker||(n._valueTracker=Cf(n))}function Fo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=qo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function As(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Nf=/[\n"\\]/g;function gt(n){return n.replace(Nf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,m,E,A){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+en(r)):n.value!==""+en(r)&&(n.value=""+en(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?_r(n,E,en(r)):a!=null?_r(n,E,en(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+en(A):n.removeAttribute("name")}function Ss(n,r,a,l,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+en(a):"",r=r!=null?""+en(r):a,A||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function _r(n,r,a){r==="number"&&As(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+en(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $e(n,r,a){if(r!=null&&(r=""+en(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+en(a):""}function Rs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=en(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Rn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||xs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Go(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Fu(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Fu(n,m,r[m])}function Ko(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(n){return Of.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Pi=null;function xn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vi=null,Li=null;function $o(n){var r=ni(n);if(r&&(n=r.stateNode)){var a=n[pt]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[pt]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Fo(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mi(n,!!a.multiple,r,!1)}}}var si=!1;function Gu(n,r,a){if(si)return n(r,a);si=!0;try{var l=n(r);return l}finally{if(si=!1,(Vi!==null||Li!==null)&&(Uc(),Vi&&(r=Vi,n=Li,Li=Vi=null,$o(r),n)))for(r=0;r<n.length;r++)$o(n[r])}}function Is(n,r){var a=n.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Hn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){In=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{In=!1}var ai=null,Er=null,Ui=null;function Yo(){if(Ui)return Ui;var n,r=Er,a=r.length,l,f="value"in ai?ai.value:ai.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[m-l];l++);return Ui=f.slice(n,1<l?1-l:void 0)}function oi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function li(){return!0}function Qo(){return!1}function It(n){function r(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?li:Qo,this.isPropagationStopped=Qo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=It(He),Ns=v({},He,{view:0,detail:0}),Ku=It(Ns),Aa,Sa,ui,Ds=v({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ui&&(ui&&n.type==="mousemove"?(Aa=n.screenX-ui.screenX,Sa=n.screenY-ui.screenY):Sa=Aa=0,ui=n),Aa)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),Cn=It(Ds),$u=v({},Ds,{dataTransfer:0}),kf=It($u),Os=v({},Ns,{relatedTarget:0}),Ra=It(Os),Xo=v({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=It(Xo),Yu=v({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ia=It(Yu),Mf=v({},He,{data:0}),Wo=It(Mf),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Xu[n])?!!r[n]:!1}function Ms(){return Zo}var Wu=v({},Ns,{key:function(n){if(n.key){var r=ks[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=oi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(n){return n.type==="keypress"?oi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?oi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ca=It(Wu),Zu=v({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=It(Zu),ji=v({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Ju=It(ji),ec=v({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),tc=It(ec),nc=v({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=It(nc),tn=v({},He,{newState:0,oldState:0}),ic=It(tn),rc=[9,13,27,32],ci=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!ci||c&&8<c&&11>=c),S=" ",H=!1;function $(n,r){switch(n){case"keyup":return rc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function bt(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return n=r.data,n===S&&H?null:n;default:return null}}function Ve(n,r){if(Pe)return n==="compositionend"||!ci&&$(n,r)?(n=Yo(),Ui=Er=ai=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ct={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ct[n.type]:r==="textarea"}function zi(n,r,a,l){Vi?Li?Li.push(l):Li=[l]:Vi=l,r=Fc(r,"onChange"),0<r.length&&(a=new wa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Lt=null,hi=null;function el(n){m_(n,0)}function sc(n){var r=ii(n);if(Fo(r))return n}function Pg(n,r){if(n==="change")return r}var Vg=!1;if(Hn){var Pf;if(Hn){var Vf="oninput"in document;if(!Vf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Vf=typeof Lg.oninput=="function"}Pf=Vf}else Pf=!1;Vg=Pf&&(!document.documentMode||9<document.documentMode)}function Ug(){Lt&&(Lt.detachEvent("onpropertychange",jg),hi=Lt=null)}function jg(n){if(n.propertyName==="value"&&sc(hi)){var r=[];zi(r,hi,n,xn(n)),Gu(el,r)}}function f1(n,r,a){n==="focusin"?(Ug(),Lt=r,hi=a,Lt.attachEvent("onpropertychange",jg)):n==="focusout"&&Ug()}function d1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sc(hi)}function m1(n,r){if(n==="click")return sc(r)}function p1(n,r){if(n==="input"||n==="change")return sc(r)}function g1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:g1;function tl(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ds.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function zg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bg(n,r){var a=zg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function Hg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Hg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function qg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=As(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=As(n.document)}return r}function Lf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var y1=Hn&&"documentMode"in document&&11>=document.documentMode,Da=null,Uf=null,nl=null,jf=!1;function Fg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||Da==null||Da!==As(l)||(l=Da,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Fc(Uf,"onSelect"),0<l.length&&(r=new wa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Da)))}function Ps(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Oa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},zf={},Gg={};Hn&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Vs(n){if(zf[n])return zf[n];if(!Oa[n])return n;var r=Oa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Gg)return zf[n]=r[a];return n}var Kg=Vs("animationend"),$g=Vs("animationiteration"),Yg=Vs("animationstart"),v1=Vs("transitionrun"),_1=Vs("transitionstart"),E1=Vs("transitioncancel"),Qg=Vs("transitionend"),Xg=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function qn(n,r){Xg.set(n,r),Bn(r,[n])}var Wg=new WeakMap;function Nn(n,r){if(typeof n=="object"&&n!==null){var a=Wg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ea(r)},Wg.set(n,r),r)}return{value:n,source:r,stack:Ea(r)}}var Dn=[],ka=0,Hf=0;function ac(){for(var n=ka,r=Hf=ka=0;r<n;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var f=Dn[r];Dn[r++]=null;var m=Dn[r];if(Dn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Zg(a,f,m)}}function oc(n,r,a,l){Dn[ka++]=n,Dn[ka++]=r,Dn[ka++]=a,Dn[ka++]=l,Hf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function qf(n,r,a,l){return oc(n,r,a,l),lc(n)}function Ma(n,r){return oc(n,null,null,r),lc(n)}function Zg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Gt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function lc(n){if(50<xl)throw xl=0,Qd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Pa={};function T1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new T1(n,r,a,l)}function Ff(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bi(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Jg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function uc(n,r,a,l,f,m){var E=0;if(l=n,typeof n=="function")Ff(n)&&(E=1);else if(typeof n=="string")E=wA(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=gn(31,a,r,f),n.elementType=x,n.lanes=m,n;case N:return Ls(a.children,f,m,r);case U:E=8,f|=24;break;case B:return n=gn(12,a,r,f|2),n.elementType=B,n.lanes=m,n;case ue:return n=gn(13,a,r,f),n.elementType=ue,n.lanes=m,n;case ve:return n=gn(19,a,r,f),n.elementType=ve,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case ne:E=10;break e;case Q:E=9;break e;case ae:E=11;break e;case M:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Ls(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function Gf(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function Kf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Va=[],La=0,cc=null,hc=0,On=[],kn=0,Us=null,Hi=1,qi="";function js(n,r){Va[La++]=hc,Va[La++]=cc,cc=n,hc=r}function ey(n,r,a){On[kn++]=Hi,On[kn++]=qi,On[kn++]=Us,Us=n;var l=Hi;n=qi;var f=32-Gt(l)-1;l&=~(1<<f),a+=1;var m=32-Gt(r)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Hi=1<<32-Gt(r)+f|a<<f|l,qi=m+n}else Hi=1<<m|a<<f|l,qi=n}function $f(n){n.return!==null&&(js(n,1),ey(n,1,0))}function Yf(n){for(;n===cc;)cc=Va[--La],Va[La]=null,hc=Va[--La],Va[La]=null;for(;n===Us;)Us=On[--kn],On[kn]=null,qi=On[--kn],On[kn]=null,Hi=On[--kn],On[kn]=null}var nn=null,ut=null,Be=!1,zs=null,fi=!1,Qf=Error(s(519));function Bs(n){var r=Error(s(418,""));throw sl(Nn(r,n)),Qf}function ty(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Tt]=n,r[pt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Oe(Cl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ss(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Rs(r,l.value,l.defaultValue,l.children),Ta(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||v_(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Gc),r=!0):r=!1,r||Bs(n)}function ny(n){for(nn=n.return;nn;)switch(nn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:nn=nn.return}}function il(n){if(n!==nn)return!1;if(!Be)return ny(n),Be=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||hm(n.type,n.memoizedProps)),a=!a),a&&ut&&Bs(n),ny(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ut=Gn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ut=null}}else r===27?(r=ut,Vr(n.type)?(n=pm,pm=null,ut=n):ut=r):ut=nn?Gn(n.stateNode.nextSibling):null;return!0}function rl(){ut=nn=null,Be=!1}function iy(){var n=zs;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),zs=null),n}function sl(n){zs===null?zs=[n]:zs.push(n)}var Xf=ie(null),Hs=null,Fi=null;function Tr(n,r,a){re(Xf,r._currentValue),r._currentValue=a}function Gi(n){n._currentValue=Xf.current,le(Xf)}function Wf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Zf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var C=0;C<r.length;C++)if(A.context===r[C]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Wf(m.return,a,n),l||(E=null);break e}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Wf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function al(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=f.type;pn(f.pendingProps.value,E.value)||(n!==null?n.push(A):n=[A])}}else if(f===xt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Pl):n=[Pl])}f=f.return}n!==null&&Zf(r,n,a,l),r.flags|=262144}function fc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qs(n){Hs=n,Fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return ry(Hs,n)}function dc(n,r){return Hs===null&&qs(n),ry(n,r)}function ry(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fi===null){if(n===null)throw Error(s(308));Fi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Fi=Fi.next=r;return a}var b1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},w1=i.unstable_scheduleCallback,A1=i.unstable_NormalPriority,At={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new b1,data:new Map,refCount:0}}function ol(n){n.refCount--,n.refCount===0&&w1(A1,function(){n.controller.abort()})}var ll=null,ed=0,Ua=0,ja=null;function S1(n,r){if(ll===null){var a=ll=[];ed=0,Ua=nm(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ed++,r.then(sy,sy),r}function sy(){if(--ed===0&&ll!==null){ja!==null&&(ja.status="fulfilled");var n=ll;ll=null,Ua=0,ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function R1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ay=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&S1(n,r),ay!==null&&ay(n,r)};var Fs=ie(null);function td(){var n=Fs.current;return n!==null?n:Je.pooledCache}function mc(n,r){r===null?re(Fs,Fs.current):re(Fs,r.pool)}function oy(){var n=td();return n===null?null:{parent:At._currentValue,pool:n}}var ul=Error(s(460)),ly=Error(s(474)),pc=Error(s(542)),nd={then:function(){}};function uy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gc(){}function cy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(gc,gc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,fy(n),n;default:if(typeof r.status=="string")r.then(gc,gc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,fy(n),n}throw cl=r,ul}}var cl=null;function hy(){if(cl===null)throw Error(s(459));var n=cl;return cl=null,n}function fy(n){if(n===ul||n===pc)throw Error(s(483))}var br=!1;function id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ar(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=lc(n),Zg(n,null,a),r}return oc(n,l,r,a),lc(n)}function hl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,jo(n,a)}}function sd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var ad=!1;function fl(){if(ad){var n=ja;if(n!==null)throw n}}function dl(n,r,a,l){ad=!1;var f=n.updateQueue;br=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,F=C.next;C.next=null,E===null?m=F:E.next=F,E=C;var W=n.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==E&&(A===null?W.firstBaseUpdate=F:A.next=F,W.lastBaseUpdate=C))}if(m!==null){var J=f.baseState;E=0,W=F=C=null,A=m;do{var G=A.lane&-536870913,K=G!==A.lane;if(K?(Le&G)===G:(l&G)===G){G!==0&&G===Ua&&(ad=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=n,ye=A;G=r;var Xe=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){J=be.call(Xe,J,G);break e}J=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,G=typeof be=="function"?be.call(Xe,J,G):be,G==null)break e;J=v({},J,G);break e;case 2:br=!0}}G=A.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(F=W=K,C=J):W=W.next=K,E|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(C=J),f.baseState=C,f.firstBaseUpdate=F,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Or|=E,n.lanes=E,n.memoizedState=J}}function dy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function my(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)dy(a[n],r)}var za=ie(null),yc=ie(0);function py(n,r){n=Zi,re(yc,n),re(za,r),Zi=n|r.baseLanes}function od(){re(yc,Zi),re(za,za.current)}function ld(){Zi=yc.current,le(za),le(yc)}var Sr=0,xe=null,Ye=null,yt=null,vc=!1,Ba=!1,Gs=!1,_c=0,ml=0,Ha=null,x1=0;function ft(){throw Error(s(321))}function ud(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function cd(n,r,a,l,f,m){return Sr=m,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?Zy:Jy,Gs=!1,m=a(l,f),Gs=!1,Ba&&(m=yy(r,a,l,f)),gy(n),m}function gy(n){X.H=Sc;var r=Ye!==null&&Ye.next!==null;if(Sr=0,yt=Ye=xe=null,vc=!1,ml=0,Ha=null,r)throw Error(s(300));n===null||Nt||(n=n.dependencies,n!==null&&fc(n)&&(Nt=!0))}function yy(n,r,a,l){xe=n;var f=0;do{if(Ba&&(Ha=null),ml=0,Ba=!1,25<=f)throw Error(s(301));if(f+=1,yt=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=M1,m=r(a,l)}while(Ba);return m}function I1(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?pl(r):r,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(xe.flags|=1024),r}function hd(){var n=_c!==0;return _c=0,n}function fd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function dd(n){if(vc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}vc=!1}Sr=0,yt=Ye=xe=null,Ba=!1,ml=_c=0,Ha=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=n:yt=yt.next=n,yt}function vt(){if(Ye===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var r=yt===null?xe.memoizedState:yt.next;if(r!==null)yt=r,Ye=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?xe.memoizedState=yt=n:yt=yt.next=n}return yt}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(n){var r=ml;return ml+=1,Ha===null&&(Ha=[]),n=cy(Ha,n,r),r=xe,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Zy:Jy),n}function Ec(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pl(n);if(n.$$typeof===ne)return Kt(n)}throw Error(s(438,String(n)))}function pd(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=md(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=k;return r.index++,a}function Ki(n,r){return typeof r=="function"?r(n):r}function Tc(n){var r=vt();return gd(r,Ye,n)}function gd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var A=E=null,C=null,F=r,W=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Le&J)===J:(Sr&J)===J){var G=F.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Ua&&(W=!0);else if((Sr&G)===G){F=F.next,G===Ua&&(W=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(A=C=J,E=m):C=C.next=J,xe.lanes|=G,Or|=G;J=F.action,Gs&&a(m,J),m=F.hasEagerState?F.eagerState:a(m,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(A=C=G,E=m):C=C.next=G,xe.lanes|=J,Or|=J;F=F.next}while(F!==null&&F!==r);if(C===null?E=m:C.next=A,!pn(m,n.memoizedState)&&(Nt=!0,W&&(a=ja,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=C,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function yd(n){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);pn(m,r.memoizedState)||(Nt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function vy(n,r,a){var l=xe,f=vt(),m=Be;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pn((Ye||f).memoizedState,a);E&&(f.memoizedState=a,Nt=!0),f=f.queue;var A=Ty.bind(null,l,f,n);if(gl(2048,8,A,[n]),f.getSnapshot!==r||E||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,qa(9,bc(),Ey.bind(null,l,f,a,r),null),Je===null)throw Error(s(349));m||(Sr&124)!==0||_y(l,r,a)}return a}function _y(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=md(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ey(n,r,a,l){r.value=a,r.getSnapshot=l,by(r)&&wy(n)}function Ty(n,r,a){return a(function(){by(r)&&wy(n)})}function by(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function wy(n){var r=Ma(n,2);r!==null&&Tn(r,n,2)}function vd(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),Gs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:n},r}function Ay(n,r,a,l){return n.baseState=a,gd(n,Ye,typeof l=="function"?l:Ki)}function C1(n,r,a,l,f){if(Ac(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Sy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Sy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=X.T,E={};X.T=E;try{var A=a(f,l),C=X.S;C!==null&&C(E,A),Ry(n,r,A)}catch(F){_d(n,r,F)}finally{X.T=m}}else try{m=a(f,l),Ry(n,r,m)}catch(F){_d(n,r,F)}}function Ry(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xy(n,r,l)},function(l){return _d(n,r,l)}):xy(n,r,a)}function xy(n,r,a){r.status="fulfilled",r.value=a,Iy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Sy(n,a)))}function _d(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Iy(r),r=r.next;while(r!==l)}n.action=null}function Iy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Cy(n,r){return r}function Ny(n,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=xe;if(Be){if(ut){t:{for(var f=ut,m=fi;f.nodeType!==8;){if(!m){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ut=Gn(f.nextSibling),l=f.data==="F!";break e}}Bs(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=l,a=Qy.bind(null,xe,l),l.dispatch=a,l=vd(!1),m=Ad.bind(null,xe,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=C1.bind(null,xe,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Dy(n){var r=vt();return Oy(r,Ye,n)}function Oy(n,r,a){if(r=gd(n,r,Cy)[0],n=Tc(Ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(E){throw E===ul?pc:E}else l=r;r=vt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,qa(9,bc(),N1.bind(null,f,a),null)),[l,m,n]}function N1(n,r){n.action=r}function ky(n){var r=vt(),a=Ye;if(a!==null)return Oy(r,a,n);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function qa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=md(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function bc(){return{destroy:void 0,resource:void 0}}function My(){return vt().memoizedState}function wc(n,r,a,l){var f=an();l=l===void 0?null:l,xe.flags|=n,f.memoizedState=qa(1|r,bc(),a,l)}function gl(n,r,a,l){var f=vt();l=l===void 0?null:l;var m=f.memoizedState.inst;Ye!==null&&l!==null&&ud(l,Ye.memoizedState.deps)?f.memoizedState=qa(r,m,a,l):(xe.flags|=n,f.memoizedState=qa(1|r,m,a,l))}function Py(n,r){wc(8390656,8,n,r)}function Vy(n,r){gl(2048,8,n,r)}function Ly(n,r){return gl(4,2,n,r)}function Uy(n,r){return gl(4,4,n,r)}function jy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function zy(n,r,a){a=a!=null?a.concat([n]):null,gl(4,4,jy.bind(null,r,n),a)}function Ed(){}function By(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ud(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Hy(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ud(r,l[1]))return l[0];if(l=n(),Gs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function Td(n,r,a){return a===void 0||(Sr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Gv(),xe.lanes|=n,Or|=n,a)}function qy(n,r,a,l){return pn(a,r)?a:za.current!==null?(n=Td(n,a,l),pn(n,r)||(Nt=!0),n):(Sr&42)===0?(Nt=!0,n.memoizedState=a):(n=Gv(),xe.lanes|=n,Or|=n,r)}function Fy(n,r,a,l,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var E=X.T,A={};X.T=A,Ad(n,!1,r,a);try{var C=f(),F=X.S;if(F!==null&&F(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=R1(C,l);yl(n,r,W,En(n))}else yl(n,r,l,En(n))}catch(J){yl(n,r,{then:function(){},status:"rejected",reason:J},En())}finally{oe.p=m,X.T=E}}function D1(){}function bd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Gy(n).queue;Fy(n,f,r,me,a===null?D1:function(){return Ky(n),a(l)})}function Gy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ky(n){var r=Gy(n).next.queue;yl(n,r,{},En())}function wd(){return Kt(Pl)}function $y(){return vt().memoizedState}function Yy(){return vt().memoizedState}function O1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=wr(a);var l=Ar(r,n,a);l!==null&&(Tn(l,r,a),hl(l,r,a)),r={cache:Jf()},n.payload=r;return}r=r.return}}function k1(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(n)?Xy(r,a):(a=qf(n,r,a,l),a!==null&&(Tn(a,n,l),Wy(a,r,l)))}function Qy(n,r,a){var l=En();yl(n,r,a,l)}function yl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(n))Xy(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,A=m(E,a);if(f.hasEagerState=!0,f.eagerState=A,pn(A,E))return oc(n,r,f,0),Je===null&&ac(),!1}catch{}finally{}if(a=qf(n,r,f,l),a!==null)return Tn(a,n,l),Wy(a,r,l),!0}return!1}function Ad(n,r,a,l){if(l={lane:2,revertLane:nm(),action:l,hasEagerState:!1,eagerState:null,next:null},Ac(n)){if(r)throw Error(s(479))}else r=qf(n,a,l,2),r!==null&&Tn(r,n,2)}function Ac(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function Xy(n,r){Ba=vc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Wy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,jo(n,a)}}var Sc={readContext:Kt,use:Ec,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},Zy={readContext:Kt,use:Ec,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:Py,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,wc(4194308,4,jy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return wc(4194308,4,n,r)},useInsertionEffect:function(n,r){wc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(Gs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(Gs){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=k1.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=vd(n);var r=n.queue,a=Qy.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Ed,useDeferredValue:function(n,r){var a=an();return Td(a,n,r)},useTransition:function(){var n=vd(!1);return n=Fy.bind(null,xe,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,f=an();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||_y(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Py(Ty.bind(null,l,m,n),[n]),l.flags|=2048,qa(9,bc(),Ey.bind(null,l,m,a,r),null),a},useId:function(){var n=an(),r=Je.identifierPrefix;if(Be){var a=qi,l=Hi;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=x1++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:wd,useFormState:Ny,useActionState:Ny,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ad.bind(null,xe,!0,a),a.dispatch=r,[n,r]},useMemoCache:pd,useCacheRefresh:function(){return an().memoizedState=O1.bind(null,xe)}},Jy={readContext:Kt,use:Ec,useCallback:By,useContext:Kt,useEffect:Vy,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:Hy,useReducer:Tc,useRef:My,useState:function(){return Tc(Ki)},useDebugValue:Ed,useDeferredValue:function(n,r){var a=vt();return qy(a,Ye.memoizedState,n,r)},useTransition:function(){var n=Tc(Ki)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:vy,useId:$y,useHostTransitionStatus:wd,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,r){var a=vt();return Ay(a,Ye,n,r)},useMemoCache:pd,useCacheRefresh:Yy},M1={readContext:Kt,use:Ec,useCallback:By,useContext:Kt,useEffect:Vy,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:Hy,useReducer:yd,useRef:My,useState:function(){return yd(Ki)},useDebugValue:Ed,useDeferredValue:function(n,r){var a=vt();return Ye===null?Td(a,n,r):qy(a,Ye.memoizedState,n,r)},useTransition:function(){var n=yd(Ki)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:vy,useId:$y,useHostTransitionStatus:wd,useFormState:ky,useActionState:ky,useOptimistic:function(n,r){var a=vt();return Ye!==null?Ay(a,Ye,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:pd,useCacheRefresh:Yy},Fa=null,vl=0;function Rc(n){var r=vl;return vl+=1,Fa===null&&(Fa=[]),cy(Fa,n,r)}function _l(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function xc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ev(n){var r=n._init;return r(n._payload)}function tv(n){function r(L,P){if(n){var q=L.deletions;q===null?(L.deletions=[P],L.flags|=16):q.push(P)}}function a(L,P){if(!n)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function f(L,P){return L=Bi(L,P),L.index=0,L.sibling=null,L}function m(L,P,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<P?(L.flags|=67108866,P):q):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function A(L,P,q,Z){return P===null||P.tag!==6?(P=Gf(q,L.mode,Z),P.return=L,P):(P=f(P,q),P.return=L,P)}function C(L,P,q,Z){var fe=q.type;return fe===N?W(L,P,q.props.children,Z,q.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&ev(fe)===P.type)?(P=f(P,q.props),_l(P,q),P.return=L,P):(P=uc(q.type,q.key,q.props,null,L.mode,Z),_l(P,q),P.return=L,P)}function F(L,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Kf(q,L.mode,Z),P.return=L,P):(P=f(P,q.children||[]),P.return=L,P)}function W(L,P,q,Z,fe){return P===null||P.tag!==7?(P=Ls(q,L.mode,Z,fe),P.return=L,P):(P=f(P,q),P.return=L,P)}function J(L,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Gf(""+P,L.mode,q),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return q=uc(P.type,P.key,P.props,null,L.mode,q),_l(q,P),q.return=L,q;case I:return P=Kf(P,L.mode,q),P.return=L,P;case R:var Z=P._init;return P=Z(P._payload),J(L,P,q)}if(ot(P)||j(P))return P=Ls(P,L.mode,q,null),P.return=L,P;if(typeof P.then=="function")return J(L,Rc(P),q);if(P.$$typeof===ne)return J(L,dc(L,P),q);xc(L,P)}return null}function G(L,P,q,Z){var fe=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:A(L,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===fe?C(L,P,q,Z):null;case I:return q.key===fe?F(L,P,q,Z):null;case R:return fe=q._init,q=fe(q._payload),G(L,P,q,Z)}if(ot(q)||j(q))return fe!==null?null:W(L,P,q,Z,null);if(typeof q.then=="function")return G(L,P,Rc(q),Z);if(q.$$typeof===ne)return G(L,P,dc(L,q),Z);xc(L,q)}return null}function K(L,P,q,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,A(P,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return L=L.get(Z.key===null?q:Z.key)||null,C(P,L,Z,fe);case I:return L=L.get(Z.key===null?q:Z.key)||null,F(P,L,Z,fe);case R:var Ne=Z._init;return Z=Ne(Z._payload),K(L,P,q,Z,fe)}if(ot(Z)||j(Z))return L=L.get(q)||null,W(P,L,Z,fe,null);if(typeof Z.then=="function")return K(L,P,q,Rc(Z),fe);if(Z.$$typeof===ne)return K(L,P,q,dc(P,Z),fe);xc(P,Z)}return null}function be(L,P,q,Z){for(var fe=null,Ne=null,de=P,_e=P=0,Ot=null;de!==null&&_e<q.length;_e++){de.index>_e?(Ot=de,de=null):Ot=de.sibling;var je=G(L,de,q[_e],Z);if(je===null){de===null&&(de=Ot);break}n&&de&&je.alternate===null&&r(L,de),P=m(je,P,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je,de=Ot}if(_e===q.length)return a(L,de),Be&&js(L,_e),fe;if(de===null){for(;_e<q.length;_e++)de=J(L,q[_e],Z),de!==null&&(P=m(de,P,_e),Ne===null?fe=de:Ne.sibling=de,Ne=de);return Be&&js(L,_e),fe}for(de=l(de);_e<q.length;_e++)Ot=K(de,L,_e,q[_e],Z),Ot!==null&&(n&&Ot.alternate!==null&&de.delete(Ot.key===null?_e:Ot.key),P=m(Ot,P,_e),Ne===null?fe=Ot:Ne.sibling=Ot,Ne=Ot);return n&&de.forEach(function(Br){return r(L,Br)}),Be&&js(L,_e),fe}function ye(L,P,q,Z){if(q==null)throw Error(s(151));for(var fe=null,Ne=null,de=P,_e=P=0,Ot=null,je=q.next();de!==null&&!je.done;_e++,je=q.next()){de.index>_e?(Ot=de,de=null):Ot=de.sibling;var Br=G(L,de,je.value,Z);if(Br===null){de===null&&(de=Ot);break}n&&de&&Br.alternate===null&&r(L,de),P=m(Br,P,_e),Ne===null?fe=Br:Ne.sibling=Br,Ne=Br,de=Ot}if(je.done)return a(L,de),Be&&js(L,_e),fe;if(de===null){for(;!je.done;_e++,je=q.next())je=J(L,je.value,Z),je!==null&&(P=m(je,P,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return Be&&js(L,_e),fe}for(de=l(de);!je.done;_e++,je=q.next())je=K(de,L,_e,je.value,Z),je!==null&&(n&&je.alternate!==null&&de.delete(je.key===null?_e:je.key),P=m(je,P,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return n&&de.forEach(function(PA){return r(L,PA)}),Be&&js(L,_e),fe}function Xe(L,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var fe=q.key;P!==null;){if(P.key===fe){if(fe=q.type,fe===N){if(P.tag===7){a(L,P.sibling),Z=f(P,q.props.children),Z.return=L,L=Z;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&ev(fe)===P.type){a(L,P.sibling),Z=f(P,q.props),_l(Z,q),Z.return=L,L=Z;break e}a(L,P);break}else r(L,P);P=P.sibling}q.type===N?(Z=Ls(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=uc(q.type,q.key,q.props,null,L.mode,Z),_l(Z,q),Z.return=L,L=Z)}return E(L);case I:e:{for(fe=q.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(L,P.sibling),Z=f(P,q.children||[]),Z.return=L,L=Z;break e}else{a(L,P);break}else r(L,P);P=P.sibling}Z=Kf(q,L.mode,Z),Z.return=L,L=Z}return E(L);case R:return fe=q._init,q=fe(q._payload),Xe(L,P,q,Z)}if(ot(q))return be(L,P,q,Z);if(j(q)){if(fe=j(q),typeof fe!="function")throw Error(s(150));return q=fe.call(q),ye(L,P,q,Z)}if(typeof q.then=="function")return Xe(L,P,Rc(q),Z);if(q.$$typeof===ne)return Xe(L,P,dc(L,q),Z);xc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(L,P.sibling),Z=f(P,q),Z.return=L,L=Z):(a(L,P),Z=Gf(q,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,P)}return function(L,P,q,Z){try{vl=0;var fe=Xe(L,P,q,Z);return Fa=null,fe}catch(de){if(de===ul||de===pc)throw de;var Ne=gn(29,de,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ga=tv(!0),nv=tv(!1),Mn=ie(null),di=null;function Rr(n){var r=n.alternate;re(St,St.current&1),re(Mn,n),di===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(di=n)}function iv(n){if(n.tag===22){if(re(St,St.current),re(Mn,n),di===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(di=n)}}else xr()}function xr(){re(St,St.current),re(Mn,Mn.current)}function $i(n){le(Mn),di===n&&(di=null),le(St)}var St=ie(0);function Ic(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||mm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Sd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Rd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=wr(l);f.payload=r,a!=null&&(f.callback=a),r=Ar(n,f,l),r!==null&&(Tn(r,n,l),hl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=wr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ar(n,f,l),r!==null&&(Tn(r,n,l),hl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=wr(a);l.tag=2,r!=null&&(l.callback=r),r=Ar(n,l,a),r!==null&&(Tn(r,n,a),hl(r,n,a))}};function rv(n,r,a,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(f,m):!0}function sv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Rd.enqueueReplaceState(r,r.state,null)}function Ks(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function av(n){Cc(n)}function ov(n){console.error(n)}function lv(n){Cc(n)}function Nc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function uv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xd(n,r,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(n,r)},a}function cv(n){return n=wr(n),n.tag=3,n}function hv(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){uv(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){uv(r,a,l),typeof f!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function P1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&al(r,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return di===null?Wd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===nd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Jd(n,l,f)),!1;case 22:return a.flags|=65536,l===nd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Jd(n,l,f)),!1}throw Error(s(435,a.tag))}return Jd(n,l,f),Wd(),!1}if(Be)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Qf&&(n=Error(s(422),{cause:l}),sl(Nn(n,a)))):(l!==Qf&&(r=Error(s(423),{cause:l}),sl(Nn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Nn(l,a),f=xd(n.stateNode,l,f),sd(n,f),ct!==4&&(ct=2)),!1;var m=Error(s(520),{cause:l});if(m=Nn(m,a),Rl===null?Rl=[m]:Rl.push(m),ct!==4&&(ct=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=xd(a.stateNode,l,n),sd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kr===null||!kr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cv(f),hv(f,n,a,l),sd(a,f),!1}a=a.return}while(a!==null);return!1}var fv=Error(s(461)),Nt=!1;function Ut(n,r,a,l){r.child=n===null?nv(r,null,a,l):Ga(r,n.child,a,l)}function dv(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return qs(r),l=cd(n,r,a,E,m,f),A=hd(),n!==null&&!Nt?(fd(n,r,f),Yi(n,r,f)):(Be&&A&&$f(r),r.flags|=1,Ut(n,r,l,f),r.child)}function mv(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Ff(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,pv(n,r,m,l,f)):(n=uc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Pd(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(E,l)&&n.ref===r.ref)return Yi(n,r,f)}return r.flags|=1,n=Bi(m,l),n.ref=r.ref,n.return=r,r.child=n}function pv(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(tl(m,l)&&n.ref===r.ref)if(Nt=!1,r.pendingProps=l=m,Pd(n,f))(n.flags&131072)!==0&&(Nt=!0);else return r.lanes=n.lanes,Yi(n,r,f)}return Id(n,r,a,l,f)}function gv(n,r,a){var l=r.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return yv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&mc(r,m!==null?m.cachePool:null),m!==null?py(r,m):od(),iv(r);else return r.lanes=r.childLanes=536870912,yv(n,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(mc(r,m.cachePool),py(r,m),xr(),r.memoizedState=null):(n!==null&&mc(r,null),od(),xr());return Ut(n,r,f,a),r.child}function yv(n,r,a,l){var f=td();return f=f===null?null:{parent:At._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&mc(r,null),od(),iv(r),n!==null&&al(n,r,l,!0),null}function Dc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Id(n,r,a,l,f){return qs(r),a=cd(n,r,a,l,void 0,f),l=hd(),n!==null&&!Nt?(fd(n,r,f),Yi(n,r,f)):(Be&&l&&$f(r),r.flags|=1,Ut(n,r,a,f),r.child)}function vv(n,r,a,l,f,m){return qs(r),r.updateQueue=null,a=yy(r,l,a,f),gy(n),l=hd(),n!==null&&!Nt?(fd(n,r,m),Yi(n,r,m)):(Be&&l&&$f(r),r.flags|=1,Ut(n,r,a,m),r.child)}function _v(n,r,a,l,f){if(qs(r),r.stateNode===null){var m=Pa,E=a.contextType;typeof E=="object"&&E!==null&&(m=Kt(E)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Rd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},id(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?Kt(E):Pa,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Sd(r,a,E,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Rd.enqueueReplaceState(m,m.state,null),dl(r,l,m,f),fl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var A=r.memoizedProps,C=Ks(a,A);m.props=C;var F=m.context,W=a.contextType;E=Pa,typeof W=="object"&&W!==null&&(E=Kt(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||F!==E)&&sv(r,m,l,E),br=!1;var G=r.memoizedState;m.state=G,dl(r,l,m,f),fl(),F=r.memoizedState,A||G!==F||br?(typeof J=="function"&&(Sd(r,a,J,l),F=r.memoizedState),(C=br||rv(r,a,C,l,G,F,E))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=E,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,rd(n,r),E=r.memoizedProps,W=Ks(a,E),m.props=W,J=r.pendingProps,G=m.context,F=a.contextType,C=Pa,typeof F=="object"&&F!==null&&(C=Kt(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==J||G!==C)&&sv(r,m,l,C),br=!1,G=r.memoizedState,m.state=G,dl(r,l,m,f),fl();var K=r.memoizedState;E!==J||G!==K||br||n!==null&&n.dependencies!==null&&fc(n.dependencies)?(typeof A=="function"&&(Sd(r,a,A,l),K=r.memoizedState),(W=br||rv(r,a,W,l,G,K,C)||n!==null&&n.dependencies!==null&&fc(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),m.props=l,m.state=K,m.context=C,l=W):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Dc(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=Ga(r,n.child,null,f),r.child=Ga(r,null,a,f)):Ut(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Yi(n,r,f),n}function Ev(n,r,a,l){return rl(),r.flags|=256,Ut(n,r,a,l),r.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(n){return{baseLanes:n,cachePool:oy()}}function Dd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Pn),n}function Tv(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Be){if(f?Rr(r):xr(),Be){var A=ut,C;if(C=A){e:{for(C=A,A=fi;C.nodeType!==8;){if(!A){A=null;break e}if(C=Gn(C.nextSibling),C===null){A=null;break e}}A=C}A!==null?(r.memoizedState={dehydrated:A,treeContext:Us!==null?{id:Hi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=A,C.return=r,r.child=C,nn=r,ut=null,C=!0):C=!1}C||Bs(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return mm(A)?r.lanes=32:r.lanes=536870912,null;$i(r)}return A=l.children,l=l.fallback,f?(xr(),f=r.mode,A=Oc({mode:"hidden",children:A},f),l=Ls(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,f=r.child,f.memoizedState=Nd(a),f.childLanes=Dd(n,E,a),r.memoizedState=Cd,l):(Rr(r),Od(r,A))}if(C=n.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(m)r.flags&256?(Rr(r),r.flags&=-257,r=kd(n,r,a)):r.memoizedState!==null?(xr(),r.child=n.child,r.flags|=128,r=null):(xr(),f=l.fallback,A=r.mode,l=Oc({mode:"visible",children:l.children},A),f=Ls(f,A,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ga(r,n.child,null,a),l=r.child,l.memoizedState=Nd(a),l.childLanes=Dd(n,E,a),r.memoizedState=Cd,r=f);else if(Rr(r),mm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,sl({value:l,source:null,stack:null}),r=kd(n,r,a)}else if(Nt||al(n,r,a,!1),E=(a&n.childLanes)!==0,Nt||E){if(E=Je,E!==null&&(l=a&-a,l=(l&42)!==0?1:mr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ma(n,l),Tn(E,n,l),fv;A.data==="$?"||Wd(),r=kd(n,r,a)}else A.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,ut=Gn(A.nextSibling),nn=r,Be=!0,zs=null,fi=!1,n!==null&&(On[kn++]=Hi,On[kn++]=qi,On[kn++]=Us,Hi=n.id,qi=n.overflow,Us=r),r=Od(r,l.children),r.flags|=4096);return r}return f?(xr(),f=l.fallback,A=r.mode,C=n.child,F=C.sibling,l=Bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?f=Bi(F,f):(f=Ls(f,A,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,A=n.child.memoizedState,A===null?A=Nd(a):(C=A.cachePool,C!==null?(F=At._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=oy(),A={baseLanes:A.baseLanes|a,cachePool:C}),f.memoizedState=A,f.childLanes=Dd(n,E,a),r.memoizedState=Cd,l):(Rr(r),a=n.child,n=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Od(n,r){return r=Oc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Oc(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function kd(n,r,a){return Ga(r,n.child,null,a),n=Od(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function bv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Wf(n.return,r,a)}function Md(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function wv(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Ut(n,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bv(n,a,r);else if(n.tag===19)bv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(St,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Md(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ic(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Md(r,!0,a,null,m);break;case"together":Md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Or|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(al(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Bi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Bi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Pd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&fc(n)))}function V1(n,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),Tr(r,At,n.memoizedState.cache),rl();break;case 27:case 5:dr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Tv(n,r,a):(Rr(r),n=Yi(n,r,a),n!==null?n.sibling:null);Rr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(al(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return wv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,gv(n,r,a);case 24:Tr(r,At,n.memoizedState.cache)}return Yi(n,r,a)}function Av(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Pd(n,a)&&(r.flags&128)===0)return Nt=!1,V1(n,r,a);Nt=(n.flags&131072)!==0}else Nt=!1,Be&&(r.flags&1048576)!==0&&ey(r,hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Ff(l)?(n=Ks(l,n),r.tag=1,r=_v(null,r,l,n,a)):(r.tag=0,r=Id(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ae){r.tag=11,r=dv(null,r,l,n,a);break e}else if(f===M){r.tag=14,r=mv(null,r,l,n,a);break e}}throw r=Pt(l)||l,Error(s(306,r,""))}}return r;case 0:return Id(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ks(l,r.pendingProps),_v(n,r,l,f,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,rd(n,r),dl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Tr(r,At,l),l!==m.cache&&Zf(r,[At],a,!0),fl(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Ev(n,r,l,a);break e}else if(l!==f){f=Nn(Error(s(424)),r),sl(f),r=Ev(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Gn(n.firstChild),nn=r,Be=!0,zs=null,fi=!0,a=nv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===f){r=Yi(n,r,a);break e}Ut(n,r,l,a)}r=r.child}return r;case 26:return Dc(n,r),n===null?(a=I_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,n=r.pendingProps,l=Kc(we.current).createElement(a),l[Tt]=r,l[pt]=n,zt(l,a,n),ht(l),r.stateNode=l):r.memoizedState=I_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return dr(r),n===null&&Be&&(l=r.stateNode=S_(r.type,r.pendingProps,we.current),nn=r,fi=!0,f=ut,Vr(r.type)?(pm=f,ut=Gn(l.firstChild)):ut=f),Ut(n,r,r.pendingProps.children,a),Dc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Be&&((f=l=ut)&&(l=cA(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,nn=r,ut=Gn(l.firstChild),fi=!1,f=!0):f=!1),f||Bs(r)),dr(r),f=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,hm(f,m)?l=null:E!==null&&hm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=cd(n,r,I1,null,null,a),Pl._currentValue=f),Dc(n,r),Ut(n,r,l,a),r.child;case 6:return n===null&&Be&&((n=a=ut)&&(a=hA(a,r.pendingProps,fi),a!==null?(r.stateNode=a,nn=r,ut=null,n=!0):n=!1),n||Bs(r)),null;case 13:return Tv(n,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ga(r,null,l,a):Ut(n,r,l,a),r.child;case 11:return dv(n,r,r.type,r.pendingProps,a);case 7:return Ut(n,r,r.pendingProps,a),r.child;case 8:return Ut(n,r,r.pendingProps.children,a),r.child;case 12:return Ut(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Tr(r,r.type,l.value),Ut(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,qs(r),f=Kt(f),l=l(f),r.flags|=1,Ut(n,r,l,a),r.child;case 14:return mv(n,r,r.type,r.pendingProps,a);case 15:return pv(n,r,r.type,r.pendingProps,a);case 19:return wv(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Oc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Bi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return gv(n,r,a);case 24:return qs(r),l=Kt(At),n===null?(f=td(),f===null&&(f=Je,m=Jf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},id(r),Tr(r,At,f)):((n.lanes&a)!==0&&(rd(n,r),dl(r,null,null,a),fl()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Tr(r,At,l)):(l=m.cache,Tr(r,At,l),l!==f.cache&&Zf(r,[At],a,!0))),Ut(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Qi(n){n.flags|=4}function Sv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!k_(r)){if(r=Mn.current,r!==null&&((Le&4194048)===Le?di!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==di))throw cl=nd,ly;n.flags|=8192}}function kc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Lo():536870912,n.lanes|=r,Qa|=r)}function El(n,r){if(!Be)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function L1(n,r,a){var l=r.pendingProps;switch(Yf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gi(At),ei(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(il(r)?Qi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,iy())),st(r),null;case 26:return a=r.memoizedState,n===null?(Qi(r),a!==null?(st(r),Sv(r,a)):(st(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Qi(r),st(r),Sv(r,a)):(st(r),r.flags&=-16777217):(n.memoizedProps!==l&&Qi(r),st(r),r.flags&=-16777217),null;case 27:Ii(r),a=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}n=ge.current,il(r)?ty(r):(n=S_(f,l,a),r.stateNode=n,Qi(r))}return st(r),null;case 5:if(Ii(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(n=ge.current,il(r))ty(r);else{switch(f=Kc(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Tt]=r,n[pt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(zt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Qi(r)}}return st(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,il(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Tt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v_(n.nodeValue,a)),n||Bs(r)}else n=Kc(n).createTextNode(l),n[Tt]=r,r.stateNode=n}return st(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=il(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=iy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),kc(r,r.updateQueue),st(r),null;case 4:return ei(),n===null&&am(r.stateNode.containerInfo),st(r),null;case 10:return Gi(r.type),st(r),null;case 19:if(le(St),f=r.memoizedState,f===null)return st(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)El(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Ic(n),m!==null){for(r.flags|=128,El(f,!1),n=m.updateQueue,r.updateQueue=n,kc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Jg(a,n),a=a.sibling;return re(St,St.current&1|2),r.child}n=n.sibling}f.tail!==null&&An()>Vc&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304)}else{if(!l)if(n=Ic(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,kc(r,n),El(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Be)return st(r),null}else 2*An()-f.renderingStartTime>Vc&&a!==536870912&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=An(),r.sibling=null,n=St.current,re(St,l?n&1|2:n&1),r):(st(r),null);case 22:case 23:return $i(r),ld(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&kc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&le(Fs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gi(At),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function U1(n,r){switch(Yf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Gi(At),ei(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ii(r),null;case 13:if($i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));rl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return le(St),null;case 4:return ei(),null;case 10:return Gi(r.type),null;case 22:case 23:return $i(r),ld(),n!==null&&le(Fs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Gi(At),null;case 25:return null;default:return null}}function Rv(n,r){switch(Yf(r),r.tag){case 3:Gi(At),ei();break;case 26:case 27:case 5:Ii(r);break;case 4:ei();break;case 13:$i(r);break;case 19:le(St);break;case 10:Gi(r.type);break;case 22:case 23:$i(r),ld(),n!==null&&le(Fs);break;case 24:Gi(At)}}function Tl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(A){We(r,r.return,A)}}function Ir(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=r;var C=a,F=A;try{F()}catch(W){We(f,C,W)}}}l=l.next}while(l!==m)}}catch(W){We(r,r.return,W)}}function xv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{my(r,a)}catch(l){We(n,n.return,l)}}}function Iv(n,r,a){a.props=Ks(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,r,l)}}function bl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){We(n,r,f)}}function mi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function Cv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function Vd(n,r,a){try{var l=n.stateNode;sA(l,n.type,a,r),l[pt]=r}catch(f){We(n,n.return,f)}}function Nv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vr(n.type)||n.tag===4}function Ld(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Nv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ud(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Gc));else if(l!==4&&(l===27&&Vr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Ud(n,r,a),n=n.sibling;n!==null;)Ud(n,r,a),n=n.sibling}function Mc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Vr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Mc(n,r,a),n=n.sibling;n!==null;)Mc(n,r,a),n=n.sibling}function Dv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);zt(r,l,a),r[Tt]=n,r[pt]=a}catch(m){We(n,n.return,m)}}var Xi=!1,dt=!1,jd=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function j1(n,r){if(n=n.containerInfo,um=Zc,n=qg(n),Lf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,A=-1,C=-1,F=0,W=0,J=n,G=null;t:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(A=E+f),J!==m||l!==0&&J.nodeType!==3||(C=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(K=J.firstChild)!==null;)G=J,J=K;for(;;){if(J===n)break t;if(G===a&&++F===f&&(A=E),G===m&&++W===l&&(C=E),(K=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=K}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:n,selectionRange:a},Zc=!1,Dt=r;Dt!==null;)if(r=Dt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Dt=n;else for(;Dt!==null;){switch(r=Dt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var be=Ks(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){We(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)dm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":dm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Dt=n;break}Dt=r.return}}function kv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cr(n,a),l&4&&Tl(5,a);break;case 1:if(Cr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){We(a,a.return,E)}else{var f=Ks(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&xv(a),l&512&&bl(a,a.return);break;case 3:if(Cr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{my(n,r)}catch(E){We(a,a.return,E)}}break;case 27:r===null&&l&4&&Dv(a);case 26:case 5:Cr(n,a),r===null&&l&4&&Cv(a),l&512&&bl(a,a.return);break;case 12:Cr(n,a);break;case 13:Cr(n,a),l&4&&Vv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Y1.bind(null,a),fA(n,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){r=r!==null&&r.memoizedState!==null||dt,f=Xi;var m=dt;Xi=l,(dt=r)&&!m?Nr(n,a,(a.subtreeFlags&8772)!==0):Cr(n,a),Xi=f,dt=m}break;case 30:break;default:Cr(n,a)}}function Mv(n){var r=n.alternate;r!==null&&(n.alternate=null,Mv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&yr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,on=!1;function Wi(n,r,a){for(a=a.child;a!==null;)Pv(n,r,a),a=a.sibling}function Pv(n,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||mi(a,r),Wi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||mi(a,r);var l=nt,f=on;Vr(a.type)&&(nt=a.stateNode,on=!1),Wi(n,r,a),Dl(a.stateNode),nt=l,on=f;break;case 5:dt||mi(a,r);case 6:if(l=nt,f=on,nt=null,Wi(n,r,a),nt=l,on=f,nt!==null)if(on)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(m){We(a,r,m)}else try{nt.removeChild(a.stateNode)}catch(m){We(a,r,m)}break;case 18:nt!==null&&(on?(n=nt,w_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),jl(n)):w_(nt,a.stateNode));break;case 4:l=nt,f=on,nt=a.stateNode.containerInfo,on=!0,Wi(n,r,a),nt=l,on=f;break;case 0:case 11:case 14:case 15:dt||Ir(2,a,r),dt||Ir(4,a,r),Wi(n,r,a);break;case 1:dt||(mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Iv(a,r,l)),Wi(n,r,a);break;case 21:Wi(n,r,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Wi(n,r,a),dt=l;break;default:Wi(n,r,a)}}function Vv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jl(n)}catch(a){We(r,r.return,a)}}function z1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ov),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ov),r;default:throw Error(s(435,n.tag))}}function zd(n,r){var a=z1(n);r.forEach(function(l){var f=Q1.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,E=r,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Vr(A.type)){nt=A.stateNode,on=!1;break e}break;case 5:nt=A.stateNode,on=!1;break e;case 3:case 4:nt=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(nt===null)throw Error(s(160));Pv(m,E,f),nt=null,on=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Lv(r,n),r=r.sibling}var Fn=null;function Lv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),vn(n),l&4&&(Ir(3,n,n.return),Tl(3,n),Ir(5,n,n.return));break;case 1:yn(r,n),vn(n),l&512&&(dt||a===null||mi(a,a.return)),l&64&&Xi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Fn;if(yn(r,n),vn(n),l&512&&(dt||a===null||mi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ts]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),zt(m,l,a),m[Tt]=n,ht(m),l=m;break e;case"link":var E=D_("link","href",f).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}m=f.createElement(l),zt(m,l,a),f.head.appendChild(m);break;case"meta":if(E=D_("meta","content",f).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}m=f.createElement(l),zt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Tt]=n,ht(m),l=m}n.stateNode=l}else O_(f,n.type,n.stateNode);else n.stateNode=N_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?O_(f,n.type,n.stateNode):N_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Vd(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),vn(n),l&512&&(dt||a===null||mi(a,a.return)),a!==null&&l&4&&Vd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),vn(n),l&512&&(dt||a===null||mi(a,a.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(K){We(n,n.return,K)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Vd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(yn(r,n),vn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){We(n,n.return,K)}}break;case 3:if(Qc=null,f=Fn,Fn=$c(r.containerInfo),yn(r,n),Fn=f,vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(K){We(n,n.return,K)}jd&&(jd=!1,Uv(n));break;case 4:l=Fn,Fn=$c(n.stateNode.containerInfo),yn(r,n),vn(n),Fn=l;break;case 12:yn(r,n),vn(n);break;case 13:yn(r,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kd=An()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,F=Xi,W=dt;if(Xi=F||f,dt=W||C,yn(r,n),dt=W,Xi=F,vn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Xi||dt||$s(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(m=C.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=C.stateNode;var J=C.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){We(C,C.return,K)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(K){We(C,C.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zd(n,a))));break;case 19:yn(r,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zd(n,l)));break;case 30:break;case 21:break;default:yn(r,n),vn(n)}}function vn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Ld(n);Mc(n,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(Rn(E,""),a.flags&=-33);var A=Ld(n);Mc(n,A,E);break;case 3:case 4:var C=a.stateNode.containerInfo,F=Ld(n);Ud(n,F,C);break;default:throw Error(s(161))}}catch(W){We(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Uv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Uv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Cr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)kv(n,r.alternate,r),r=r.sibling}function $s(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ir(4,r,r.return),$s(r);break;case 1:mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Iv(r,r.return,a),$s(r);break;case 27:Dl(r.stateNode);case 26:case 5:mi(r,r.return),$s(r);break;case 22:r.memoizedState===null&&$s(r);break;case 30:$s(r);break;default:$s(r)}n=n.sibling}}function Nr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:Nr(f,m,a),Tl(4,m);break;case 1:if(Nr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){We(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)dy(C[f],A)}catch(F){We(l,l.return,F)}}a&&E&64&&xv(m),bl(m,m.return);break;case 27:Dv(m);case 26:case 5:Nr(f,m,a),a&&l===null&&E&4&&Cv(m),bl(m,m.return);break;case 12:Nr(f,m,a);break;case 13:Nr(f,m,a),a&&E&4&&Vv(f,m);break;case 22:m.memoizedState===null&&Nr(f,m,a),bl(m,m.return);break;case 30:break;default:Nr(f,m,a)}r=r.sibling}}function Bd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ol(a))}function Hd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n))}function pi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jv(n,r,a,l),r=r.sibling}function jv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(n,r,a,l),f&2048&&Tl(9,r);break;case 1:pi(n,r,a,l);break;case 3:pi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n)));break;case 12:if(f&2048){pi(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else pi(n,r,a,l);break;case 13:pi(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?pi(n,r,a,l):wl(n,r):m._visibility&2?pi(n,r,a,l):(m._visibility|=2,Ka(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Bd(E,r);break;case 24:pi(n,r,a,l),f&2048&&Hd(r.alternate,r);break;default:pi(n,r,a,l)}}function Ka(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,E=r,A=a,C=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(m,E,A,C,f),Tl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ka(m,E,A,C,f):wl(m,E):(W._visibility|=2,Ka(m,E,A,C,f)),f&&F&2048&&Bd(E.alternate,E);break;case 24:Ka(m,E,A,C,f),f&&F&2048&&Hd(E.alternate,E);break;default:Ka(m,E,A,C,f)}r=r.sibling}}function wl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Bd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Hd(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var Al=8192;function $a(n){if(n.subtreeFlags&Al)for(n=n.child;n!==null;)zv(n),n=n.sibling}function zv(n){switch(n.tag){case 26:$a(n),n.flags&Al&&n.memoizedState!==null&&SA(Fn,n.memoizedState,n.memoizedProps);break;case 5:$a(n);break;case 3:case 4:var r=Fn;Fn=$c(n.stateNode.containerInfo),$a(n),Fn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,$a(n),Al=r):$a(n));break;default:$a(n)}}function Bv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Sl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,qv(l,n)}Bv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hv(n),n=n.sibling}function Hv(n){switch(n.tag){case 0:case 11:case 15:Sl(n),n.flags&2048&&Ir(9,n,n.return);break;case 3:Sl(n);break;case 12:Sl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Pc(n)):Sl(n);break;default:Sl(n)}}function Pc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,qv(l,n)}Bv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ir(8,r,r.return),Pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(r));break;default:Pc(r)}n=n.sibling}}function qv(n,r){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:Ir(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=n;Dt!==null;){l=Dt;var f=l.sibling,m=l.return;if(Mv(l),l===a){Dt=null;break e}if(f!==null){f.return=m,Dt=f;break e}Dt=m}}}var B1={getCacheForType:function(n){var r=Kt(At),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},H1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Ke=0,_n=null,Dr=!1,Ya=!1,qd=!1,Zi=0,ct=0,Or=0,Ys=0,Fd=0,Pn=0,Qa=0,Rl=null,ln=null,Gd=!1,Kd=0,Vc=1/0,Lc=null,kr=null,jt=0,Mr=null,Xa=null,Wa=0,$d=0,Yd=null,Fv=null,xl=0,Qd=null;function En(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var n=Ua;return n!==0?n:nm()}return pr()}function Gv(){Pn===0&&(Pn=(Le&536870912)===0||Be?Vo():536870912);var n=Mn.current;return n!==null&&(n.flags|=32),Pn}function Tn(n,r,a){(n===Je&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(Za(n,0),Pr(n,Le,Pn,!1)),Ni(n,a),((Ge&2)===0||n!==Je)&&(n===Je&&((Ge&2)===0&&(Ys|=a),ct===4&&Pr(n,Le,Pn,!1)),gi(n))}function Kv(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Es(n,r),f=l?G1(n,r):Zd(n,r,!0),m=l;do{if(f===0){Ya&&!l&&Pr(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!q1(a)){f=Zd(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var A=n;f=Rl;var C=A.current.memoizedState.isDehydrated;if(C&&(Za(A,E).flags|=256),E=Zd(A,E,!1),E!==2){if(qd&&!C){A.errorRecoveryDisabledLanes|=m,Ys|=m,f=4;break e}m=ln,ln=f,m!==null&&(ln===null?ln=m:ln.push.apply(ln,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Za(n,0),Pr(n,r,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Pr(l,r,Pn,!Dr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Kd+300-An(),10<f)){if(Pr(l,r,Pn,!Dr),pa(l,0,!0)!==0)break e;l.timeoutHandle=T_($v.bind(null,l,a,ln,Lc,Gd,r,Pn,Ys,Qa,Dr,m,2,-0,0),f);break e}$v(l,a,ln,Lc,Gd,r,Pn,Ys,Qa,Dr,m,0,-0,0)}}break}while(!0);gi(n)}function $v(n,r,a,l,f,m,E,A,C,F,W,J,G,K){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:AA},zv(r),J=RA(),J!==null)){n.cancelPendingCommit=J(e_.bind(null,n,r,m,a,l,f,E,A,C,W,1,G,K)),Pr(n,m,E,!F);return}e_(n,r,m,a,l,f,E,A,C)}function q1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!pn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pr(n,r,a,l){r&=~Fd,r&=~Ys,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-Gt(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&ti(n,a,r)}function Uc(){return(Ge&6)===0?(Il(0),!1):!0}function Xd(){if(De!==null){if(Ke===0)var n=De.return;else n=De,Fi=Hs=null,dd(n),Fa=null,vl=0,n=De;for(;n!==null;)Rv(n.alternate,n),n=n.return;De=null}}function Za(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,oA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Xd(),Je=n,De=a=Bi(n.current,null),Le=r,Ke=0,_n=null,Dr=!1,Ya=Es(n,r),qd=!1,Qa=Pn=Fd=Ys=Or=ct=0,ln=Rl=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Gt(l),m=1<<f;r|=n[f],l&=~m}return Zi=r,ac(),a}function Yv(n,r){xe=null,X.H=Sc,r===ul||r===pc?(r=hy(),Ke=3):r===ly?(r=hy(),Ke=4):Ke=r===fv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,De===null&&(ct=1,Nc(n,Nn(r,n.current)))}function Qv(){var n=X.H;return X.H=Sc,n===null?Sc:n}function Xv(){var n=X.A;return X.A=B1,n}function Wd(){ct=4,Dr||(Le&4194048)!==Le&&Mn.current!==null||(Ya=!0),(Or&134217727)===0&&(Ys&134217727)===0||Je===null||Pr(Je,Le,Pn,!1)}function Zd(n,r,a){var l=Ge;Ge|=2;var f=Qv(),m=Xv();(Je!==n||Le!==r)&&(Lc=null,Za(n,r)),r=!1;var E=ct;e:do try{if(Ke!==0&&De!==null){var A=De,C=_n;switch(Ke){case 8:Xd(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var F=Ke;if(Ke=0,_n=null,Ja(n,A,C,F),a&&Ya){E=0;break e}break;default:F=Ke,Ke=0,_n=null,Ja(n,A,C,F)}}F1(),E=ct;break}catch(W){Yv(n,W)}while(!0);return r&&n.shellSuspendCounter++,Fi=Hs=null,Ge=l,X.H=f,X.A=m,De===null&&(Je=null,Le=0,ac()),E}function F1(){for(;De!==null;)Wv(De)}function G1(n,r){var a=Ge;Ge|=2;var l=Qv(),f=Xv();Je!==n||Le!==r?(Lc=null,Vc=An()+500,Za(n,r)):Ya=Es(n,r);e:do try{if(Ke!==0&&De!==null){r=De;var m=_n;t:switch(Ke){case 1:Ke=0,_n=null,Ja(n,r,m,1);break;case 2:case 9:if(uy(m)){Ke=0,_n=null,Zv(r);break}r=function(){Ke!==2&&Ke!==9||Je!==n||(Ke=7),gi(n)},m.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:uy(m)?(Ke=0,_n=null,Zv(r)):(Ke=0,_n=null,Ja(n,r,m,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var A=De;if(!E||k_(E)){Ke=0,_n=null;var C=A.sibling;if(C!==null)De=C;else{var F=A.return;F!==null?(De=F,jc(F)):De=null}break t}}Ke=0,_n=null,Ja(n,r,m,5);break;case 6:Ke=0,_n=null,Ja(n,r,m,6);break;case 8:Xd(),ct=6;break e;default:throw Error(s(462))}}K1();break}catch(W){Yv(n,W)}while(!0);return Fi=Hs=null,X.H=l,X.A=f,Ge=a,De!==null?0:(Je=null,Le=0,ac(),ct)}function K1(){for(;De!==null&&!Oo();)Wv(De)}function Wv(n){var r=Av(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,r===null?jc(n):De=r}function Zv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=vv(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=vv(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:dd(r);default:Rv(a,r),r=De=Jg(r,Zi),r=Av(a,r,Zi)}n.memoizedProps=n.pendingProps,r===null?jc(n):De=r}function Ja(n,r,a,l){Fi=Hs=null,dd(r),Fa=null,vl=0;var f=r.return;try{if(P1(n,f,r,a,Le)){ct=1,Nc(n,Nn(a,n.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;ct=1,Nc(n,Nn(a,n.current)),De=null;return}r.flags&32768?(Be||l===1?n=!0:Ya||(Le&536870912)!==0?n=!1:(Dr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jv(r,n)):jc(r)}function jc(n){var r=n;do{if((r.flags&32768)!==0){Jv(r,Dr);return}n=r.return;var a=L1(r.alternate,r,Zi);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);ct===0&&(ct=5)}function Jv(n,r){do{var a=U1(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ct=6,De=null}function e_(n,r,a,l,f,m,E,A,C){n.cancelPendingCommit=null;do zc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Hf,Uo(n,a,m,E,A,C),n===Je&&(De=Je=null,Le=0),Xa=r,Mr=n,Wa=a,$d=m,Yd=f,Fv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,X1(gs,function(){return s_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=oe.p,oe.p=2,E=Ge,Ge|=4;try{j1(n,r,a)}finally{Ge=E,oe.p=f,X.T=l}}jt=1,t_(),n_(),i_()}}function t_(){if(jt===1){jt=0;var n=Mr,r=Xa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{Lv(r,n);var m=cm,E=qg(n.containerInfo),A=m.focusedElem,C=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&Hg(A.ownerDocument.documentElement,A)){if(C!==null&&Lf(A)){var F=C.start,W=C.end;if(W===void 0&&(W=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(W,A.value.length);else{var J=A.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var K=G.getSelection(),be=A.textContent.length,ye=Math.min(C.start,be),Xe=C.end===void 0?ye:Math.min(C.end,be);!K.extend&&ye>Xe&&(E=Xe,Xe=ye,ye=E);var L=Bg(A,ye),P=Bg(A,Xe);if(L&&P&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var q=J.createRange();q.setStart(L.node,L.offset),K.removeAllRanges(),ye>Xe?(K.addRange(q),K.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),K.addRange(q))}}}}for(J=[],K=A;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var Z=J[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Zc=!!um,cm=um=null}finally{Ge=f,oe.p=l,X.T=a}}n.current=r,jt=2}}function n_(){if(jt===2){jt=0;var n=Mr,r=Xa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{kv(n,r.alternate,r)}finally{Ge=f,oe.p=l,X.T=a}}jt=3}}function i_(){if(jt===4||jt===3){jt=0,Pu();var n=Mr,r=Xa,a=Wa,l=Fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Xa=Mr=null,r_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(kr=null),ga(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var A=l[E];m(A.value,{componentStack:A.stack})}}finally{X.T=r,oe.p=f}}(Wa&3)!==0&&zc(),gi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Qd?xl++:(xl=0,Qd=n):xl=0,Il(0)}}function r_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ol(r)))}function zc(n){return t_(),n_(),i_(),s_()}function s_(){if(jt!==5)return!1;var n=Mr,r=$d;$d=0;var a=ga(Wa),l=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=Yd,Yd=null;var m=Mr,E=Wa;if(jt=0,Xa=Mr=null,Wa=0,(Ge&6)!==0)throw Error(s(331));var A=Ge;if(Ge|=4,Hv(m.current),jv(m,m.current,E,a),Ge=A,Il(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,m)}catch{}return!0}finally{oe.p=f,X.T=l,r_(n,r)}}function a_(n,r,a){r=Nn(a,r),r=xd(n.stateNode,r,2),n=Ar(n,r,2),n!==null&&(Ni(n,2),gi(n))}function We(n,r,a){if(n.tag===3)a_(n,n,a);else for(;r!==null;){if(r.tag===3){a_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){n=Nn(a,n),a=cv(2),l=Ar(r,a,2),l!==null&&(hv(a,l,r,n),Ni(l,2),gi(l));break}}r=r.return}}function Jd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new H1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(qd=!0,f.add(a),n=$1.bind(null,n,r,a),r.then(n,n))}function $1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>An()-Kd?(Ge&2)===0&&Za(n,0):Fd|=a,Qa===Le&&(Qa=0)),gi(n)}function o_(n,r){r===0&&(r=Lo()),n=Ma(n,r),n!==null&&(Ni(n,r),gi(n))}function Y1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),o_(n,a)}function Q1(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),o_(n,a)}function X1(n,r){return ms(n,r)}var Bc=null,eo=null,em=!1,Hc=!1,tm=!1,Qs=0;function gi(n){n!==eo&&n.next===null&&(eo===null?Bc=eo=n:eo=eo.next=n),Hc=!0,em||(em=!0,Z1())}function Il(n,r){if(!tm&&Hc){tm=!0;do for(var a=!1,l=Bc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-Gt(42|n)+1)-1,m&=f&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,h_(l,m))}else m=Le,m=pa(l,l===Je?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Es(l,m)||(a=!0,h_(l,m));l=l.next}while(a);tm=!1}}function W1(){l_()}function l_(){Hc=em=!1;var n=0;Qs!==0&&(aA()&&(n=Qs),Qs=0);for(var r=An(),a=null,l=Bc;l!==null;){var f=l.next,m=u_(l,r);m===0?(l.next=null,a===null?Bc=f:a.next=f,f===null&&(eo=a)):(a=l,(n!==0||(m&3)!==0)&&(Hc=!0)),l=f}Il(n)}function u_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Gt(m),A=1<<E,C=f[E];C===-1?((A&a)===0||(A&l)!==0)&&(f[E]=Po(A,r)):C<=r&&(n.expiredLanes|=A),m&=~A}if(r=Je,a=Le,a=pa(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Es(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ps(l),ga(a)){case 2:case 8:a=da;break;case 32:a=gs;break;case 268435456:a=ma;break;default:a=gs}return l=c_.bind(null,n),a=ms(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ps(l),n.callbackPriority=2,n.callbackNode=null,2}function c_(n,r){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(zc()&&n.callbackNode!==a)return null;var l=Le;return l=pa(n,n===Je?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Kv(n,l,r),u_(n,An()),n.callbackNode!=null&&n.callbackNode===a?c_.bind(null,n):null)}function h_(n,r){if(zc())return null;Kv(n,r,!0)}function Z1(){lA(function(){(Ge&6)!==0?ms(ko,W1):l_()})}function nm(){return Qs===0&&(Qs=Vo()),Qs}function f_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ba(""+n)}function d_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function J1(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=f_((f[pt]||null).action),E=l.submitter;E&&(r=(r=E[pt]||null)?f_(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var A=new wa("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var C=E?d_(f,E):new FormData(f);bd(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(A.preventDefault(),C=E?d_(f,E):new FormData(f),bd(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var im=0;im<Bf.length;im++){var rm=Bf[im],eA=rm.toLowerCase(),tA=rm[0].toUpperCase()+rm.slice(1);qn(eA,"on"+tA)}qn(Kg,"onAnimationEnd"),qn($g,"onAnimationIteration"),qn(Yg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(v1,"onTransitionRun"),qn(_1,"onTransitionStart"),qn(E1,"onTransitionCancel"),qn(Qg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function m_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var A=l[E],C=A.instance,F=A.currentTarget;if(A=A.listener,C!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=F;try{m(f)}catch(W){Cc(W)}f.currentTarget=null,m=C}else for(E=0;E<l.length;E++){if(A=l[E],C=A.instance,F=A.currentTarget,A=A.listener,C!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=F;try{m(f)}catch(W){Cc(W)}f.currentTarget=null,m=C}}}}function Oe(n,r){var a=r[zo];a===void 0&&(a=r[zo]=new Set);var l=n+"__bubble";a.has(l)||(p_(r,n,2,!1),a.add(l))}function sm(n,r,a){var l=0;r&&(l|=4),p_(a,n,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[qc]){n[qc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(nA.has(a)||sm(a,!1,n),sm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[qc]||(r[qc]=!0,sm("selectionchange",!1,r))}}function p_(n,r,a,l){switch(j_(r)){case 2:var f=CA;break;case 8:f=NA;break;default:f=Em}a=f.bind(null,r,a,n),f=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function om(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=Di(A),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=m=E;continue e}A=A.parentNode}}l=l.return}Gu(function(){var F=m,W=xn(a),J=[];e:{var G=Xg.get(n);if(G!==void 0){var K=wa,be=n;switch(n){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":K=Ca;break;case"focusin":be="focus",K=Ra;break;case"focusout":be="blur",K=Ra;break;case"beforeblur":case"afterblur":K=Ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ju;break;case Kg:case $g:case Yg:K=xa;break;case Qg:K=tc;break;case"scroll":case"scrollend":K=Ku;break;case"wheel":K=Na;break;case"copy":case"cut":case"paste":K=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Jo;break;case"toggle":case"beforetoggle":K=ic}var ye=(r&4)!==0,Xe=!ye&&(n==="scroll"||n==="scrollend"),L=ye?G!==null?G+"Capture":null:G;ye=[];for(var P=F,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=Is(P,L),Z!=null&&ye.push(Nl(P,Z,q))),Xe)break;P=P.return}0<ye.length&&(G=new K(G,be,null,a,W),J.push({event:G,listeners:ye}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&a!==Pi&&(be=a.relatedTarget||a.fromElement)&&(Di(be)||be[Sn]))break e;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(be=a.relatedTarget||a.toElement,K=F,be=be?Di(be):null,be!==null&&(Xe=u(be),ye=be.tag,be!==Xe||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(K=null,be=F),K!==be)){if(ye=Cn,Z="onMouseLeave",L="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Jo,Z="onPointerLeave",L="onPointerEnter",P="pointer"),Xe=K==null?G:ii(K),q=be==null?G:ii(be),G=new ye(Z,P+"leave",K,a,W),G.target=Xe,G.relatedTarget=q,Z=null,Di(W)===F&&(ye=new ye(L,P+"enter",be,a,W),ye.target=q,ye.relatedTarget=Xe,Z=ye),Xe=Z,K&&be)t:{for(ye=K,L=be,P=0,q=ye;q;q=to(q))P++;for(q=0,Z=L;Z;Z=to(Z))q++;for(;0<P-q;)ye=to(ye),P--;for(;0<q-P;)L=to(L),q--;for(;P--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=to(ye),L=to(L)}ye=null}else ye=null;K!==null&&g_(J,G,K,ye,!1),be!==null&&Xe!==null&&g_(J,Xe,be,ye,!0)}}e:{if(G=F?ii(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var fe=Pg;else if(wt(G))if(Vg)fe=p1;else{fe=d1;var Ne=f1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ko(F.elementType)&&(fe=Pg):fe=m1;if(fe&&(fe=fe(n,F))){zi(J,fe,a,W);break e}Ne&&Ne(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&_r(G,"number",G.value)}switch(Ne=F?ii(F):window,n){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(Da=Ne,Uf=F,nl=null);break;case"focusout":nl=Uf=Da=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Fg(J,a,W);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":Fg(J,a,W)}var de;if(ci)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?$(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(de=Yo()):(ai=W,Er="value"in ai?ai.value:ai.textContent,Pe=!0)),Ne=Fc(F,_e),0<Ne.length&&(_e=new Wo(_e,n,null,a,W),J.push({event:_e,listeners:Ne}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?bt(n,a):Ve(n,a))&&(_e=Fc(F,"onBeforeInput"),0<_e.length&&(Ne=new Wo("onBeforeInput","beforeinput",null,a,W),J.push({event:Ne,listeners:_e}),Ne.data=de)),J1(J,n,F,a,W)}m_(J,r)})}function Nl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Fc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Is(n,a),f!=null&&l.unshift(Nl(n,f,m)),f=Is(n,r),f!=null&&l.push(Nl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function to(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function g_(n,r,a,l,f){for(var m=r._reactName,E=[];a!==null&&a!==l;){var A=a,C=A.alternate,F=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||F===null||(C=F,f?(F=Is(a,m),F!=null&&E.unshift(Nl(a,F,C))):f||(F=Is(a,m),F!=null&&E.push(Nl(a,F,C)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var iA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function y_(n){return(typeof n=="string"?n:""+n).replace(iA,`
`).replace(rA,"")}function v_(n,r){return r=y_(r),y_(n)===r}function Gc(){}function Qe(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(n,""+l);break;case"className":ri(n,"class",l);break;case"tabIndex":ri(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(n,a,l);break;case"style":Go(n,l,m);break;case"data":if(r!=="object"){ri(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ba(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Qe(n,r,"name",f.name,f,null),Qe(n,r,"formEncType",f.formEncType,f,null),Qe(n,r,"formMethod",f.formMethod,f,null),Qe(n,r,"formTarget",f.formTarget,f,null)):(Qe(n,r,"encType",f.encType,f,null),Qe(n,r,"method",f.method,f,null),Qe(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ba(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Gc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ba(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),vr(n,"popover",l);break;case"xlinkActuate":Vt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Df.get(a)||a,vr(n,a,l))}}function lm(n,r,a,l,f,m){switch(a){case"style":Go(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):vr(n,a,l)}}}function zt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(n,r,m,E,a,null)}}f&&Qe(n,r,"srcSet",a.srcSet,a,null),l&&Qe(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var A=m=E=f=null,C=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":C=W;break;case"defaultChecked":F=W;break;case"value":m=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Qe(n,r,l,W,a,null)}}Ss(n,m,A,C,F,E,f,!1),Ta(n);return;case"select":Oe("invalid",n),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:Qe(n,r,f,A,a,null)}r=m,a=E,n.multiple=!!l,r!=null?Mi(n,!!l,r,!1):a!=null&&Mi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Qe(n,r,E,A,a,null)}Rs(n,l,f,m),Ta(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(n,r,C,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Oe(Cl[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(n,r,F,l,a,null)}return;default:if(Ko(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&lm(n,r,W,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Qe(n,r,A,l,a,null))}function sA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,C=null,F=null,W=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(K)||Qe(n,r,K,null,l,J)}}for(var G in l){var K=l[G];if(J=a[G],l.hasOwnProperty(G)&&(K!=null||J!=null))switch(G){case"type":m=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":E=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&Qe(n,r,G,K,l,J)}}mn(n,E,A,C,F,W,m,f);return;case"select":K=E=A=G=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(m)||Qe(n,r,m,null,l,C)}for(f in l)if(m=l[f],C=a[f],l.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":G=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==C&&Qe(n,r,f,m,l,C)}r=A,a=E,l=K,G!=null?Mi(n,!!a,G,!1):!!l!=!!a&&(r!=null?Mi(n,!!a,r,!0):Mi(n,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qe(n,r,A,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Qe(n,r,E,f,l,m)}$e(n,G,K);return;case"option":for(var be in a)if(G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Qe(n,r,be,null,l,G)}for(C in l)if(G=l[C],K=a[C],l.hasOwnProperty(C)&&G!==K&&(G!=null||K!=null))switch(C){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Qe(n,r,C,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&Qe(n,r,ye,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Qe(n,r,F,G,l,K)}return;default:if(Ko(r)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!l.hasOwnProperty(Xe)&&lm(n,r,Xe,void 0,l,G);for(W in l)G=l[W],K=a[W],!l.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||lm(n,r,W,G,l,K);return}}for(var L in a)G=a[L],a.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&Qe(n,r,L,null,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G==null&&K==null||Qe(n,r,J,G,l,K)}var um=null,cm=null;function Kc(n){return n.nodeType===9?n:n.ownerDocument}function __(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function hm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fm=null;function aA(){var n=window.event;return n&&n.type==="popstate"?n===fm?!1:(fm=n,!0):(fm=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(n){return b_.resolve(null).then(n).catch(uA)}:T_;function uA(n){setTimeout(function(){throw n})}function Vr(n){return n==="head"}function w_(n,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Dl(E.documentElement),a&2&&Dl(E.body),a&4)for(a=E.head,Dl(a),E=a.firstChild;E;){var A=E.nextSibling,C=E.nodeName;E[Ts]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=A}}if(f===0){n.removeChild(m),jl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);jl(r)}function dm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dm(a),yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function cA(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ts])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function hA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Gn(n.nextSibling),n===null))return null;return n}function mm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function fA(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var pm=null;function A_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function S_(n,r,a){switch(r=Kc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Dl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);yr(n)}var Vn=new Map,R_=new Set;function $c(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ji=oe.d;oe.d={f:dA,r:mA,D:pA,C:gA,L:yA,m:vA,X:EA,S:_A,M:TA};function dA(){var n=Ji.f(),r=Uc();return n||r}function mA(n){var r=ni(n);r!==null&&r.tag===5&&r.type==="form"?Ky(r):Ji.r(n)}var no=typeof document>"u"?null:document;function x_(n,r,a){var l=no;if(l&&typeof r=="string"&&r){var f=gt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),R_.has(f)||(R_.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),zt(r,"link",n),ht(r),l.head.appendChild(r)))}}function pA(n){Ji.D(n),x_("dns-prefetch",n,null)}function gA(n,r){Ji.C(n,r),x_("preconnect",n,r)}function yA(n,r,a){Ji.L(n,r,a);var l=no;if(l&&n&&r){var f='link[rel="preload"][as="'+gt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+gt(a.imageSizes)+'"]')):f+='[href="'+gt(n)+'"]';var m=f;switch(r){case"style":m=io(n);break;case"script":m=ro(n)}Vn.has(m)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Vn.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ol(m))||r==="script"&&l.querySelector(kl(m))||(r=l.createElement("link"),zt(r,"link",n),ht(r),l.head.appendChild(r)))}}function vA(n,r){Ji.m(n,r);var a=no;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ro(n)}if(!Vn.has(m)&&(n=v({rel:"modulepreload",href:n},r),Vn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(m)))return}l=a.createElement("link"),zt(l,"link",n),ht(l),a.head.appendChild(l)}}}function _A(n,r,a){Ji.S(n,r,a);var l=no;if(l&&n){var f=Jt(l).hoistableStyles,m=io(n);r=r||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(Ol(m)))A.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Vn.get(m))&&gm(n,a);var C=E=l.createElement("link");ht(C),zt(C,"link",n),C._p=new Promise(function(F,W){C.onload=F,C.onerror=W}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function EA(n,r){Ji.X(n,r);var a=no;if(a&&n){var l=Jt(a).hoistableScripts,f=ro(n),m=l.get(f);m||(m=a.querySelector(kl(f)),m||(n=v({src:n,async:!0},r),(r=Vn.get(f))&&ym(n,r),m=a.createElement("script"),ht(m),zt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function TA(n,r){Ji.M(n,r);var a=no;if(a&&n){var l=Jt(a).hoistableScripts,f=ro(n),m=l.get(f);m||(m=a.querySelector(kl(f)),m||(n=v({src:n,async:!0,type:"module"},r),(r=Vn.get(f))&&ym(n,r),m=a.createElement("script"),ht(m),zt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function I_(n,r,a,l){var f=(f=we.current)?$c(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=Jt(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=io(a.href);var m=Jt(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Ol(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Vn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(n,a),m||bA(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=Jt(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function io(n){return'href="'+gt(n)+'"'}function Ol(n){return'link[rel="stylesheet"]['+n+"]"}function C_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function bA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ht(r),n.head.appendChild(r))}function ro(n){return'[src="'+gt(n)+'"]'}function kl(n){return"script[async]"+n}function N_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return r.instance=l,ht(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ht(l),zt(l,"style",f),Yc(l,a.precedence,n),r.instance=l;case"stylesheet":f=io(a.href);var m=n.querySelector(Ol(f));if(m)return r.state.loading|=4,r.instance=m,ht(m),m;l=C_(a),(f=Vn.get(f))&&gm(l,f),m=(n.ownerDocument||n).createElement("link"),ht(m);var E=m;return E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),zt(m,"link",l),r.state.loading|=4,Yc(m,a.precedence,n),r.instance=m;case"script":return m=ro(a.src),(f=n.querySelector(kl(m)))?(r.instance=f,ht(f),f):(l=a,(f=Vn.get(m))&&(l=v({},a),ym(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ht(f),zt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Yc(l,a.precedence,n));return r.instance}function Yc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function gm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function ym(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Qc=null;function D_(n,r,a){if(Qc===null){var l=new Map,f=Qc=new Map;f.set(a,l)}else f=Qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ts]||m[Tt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var A=l.get(E);A?A.push(m):l.set(E,[m])}}return l}function O_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function wA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function k_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ml=null;function AA(){}function SA(n,r,a){if(Ml===null)throw Error(s(475));var l=Ml;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=io(a.href),m=n.querySelector(Ol(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Xc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,ht(m);return}m=n.ownerDocument||n,a=C_(a),(f=Vn.get(f))&&gm(a,f),m=m.createElement("link"),ht(m);var E=m;E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),zt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Xc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function RA(){if(Ml===null)throw Error(s(475));var n=Ml;return n.stylesheets&&n.count===0&&vm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&vm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Xc(){if(this.count--,this.count===0){if(this.stylesheets)vm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wc=null;function vm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wc=new Map,r.forEach(xA,n),Wc=null,Xc.call(n))}function xA(n,r){if(!(r.state.loading&4)){var a=Wc.get(n);if(a)var l=a.get(null);else{a=new Map,Wc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=Xc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Pl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function IA(n,r,a,l,f,m,E,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function M_(n,r,a,l,f,m,E,A,C,F,W,J){return n=new IA(n,r,a,E,A,C,F,J),r=1,m===!0&&(r|=24),m=gn(3,null,null,r),n.current=m,m.stateNode=n,r=Jf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},id(m),n}function P_(n){return n?(n=Pa,n):Pa}function V_(n,r,a,l,f,m){f=P_(f),l.context===null?l.context=f:l.pendingContext=f,l=wr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ar(n,l,r),a!==null&&(Tn(a,n,r),hl(a,n,r))}function L_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function _m(n,r){L_(n,r),(n=n.alternate)&&L_(n,r)}function U_(n){if(n.tag===13){var r=Ma(n,67108864);r!==null&&Tn(r,n,67108864),_m(n,67108864)}}var Zc=!0;function CA(n,r,a,l){var f=X.T;X.T=null;var m=oe.p;try{oe.p=2,Em(n,r,a,l)}finally{oe.p=m,X.T=f}}function NA(n,r,a,l){var f=X.T;X.T=null;var m=oe.p;try{oe.p=8,Em(n,r,a,l)}finally{oe.p=m,X.T=f}}function Em(n,r,a,l){if(Zc){var f=Tm(l);if(f===null)om(n,r,l,Jc,a),z_(n,l);else if(OA(f,n,r,a,l))l.stopPropagation();else if(z_(n,l),r&4&&-1<DA.indexOf(n)){for(;f!==null;){var m=ni(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=zn(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var C=1<<31-Gt(E);A.entanglements[1]|=C,E&=~C}gi(m),(Ge&6)===0&&(Vc=An()+500,Il(0))}}break;case 13:A=Ma(m,2),A!==null&&Tn(A,m,2),Uc(),_m(m,2)}if(m=Tm(l),m===null&&om(n,r,l,Jc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else om(n,r,l,null,a)}}function Tm(n){return n=xn(n),bm(n)}var Jc=null;function bm(n){if(Jc=null,n=Di(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Jc=n,null}function j_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sf()){case ko:return 2;case da:return 8;case gs:case Rf:return 32;case ma:return 268435456;default:return 32}default:return 32}}var wm=!1,Lr=null,Ur=null,jr=null,Vl=new Map,Ll=new Map,zr=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(n,r){switch(n){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function Ul(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ni(r),r!==null&&U_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function OA(n,r,a,l,f){switch(r){case"focusin":return Lr=Ul(Lr,n,r,a,l,f),!0;case"dragenter":return Ur=Ul(Ur,n,r,a,l,f),!0;case"mouseover":return jr=Ul(jr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Vl.set(m,Ul(Vl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ll.set(m,Ul(Ll.get(m)||null,n,r,a,l,f)),!0}return!1}function B_(n){var r=Di(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Uu(n.priority,function(){if(a.tag===13){var l=En();l=mr(l);var f=Ma(a,l);f!==null&&Tn(f,a,l),_m(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function eh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Tm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Pi=l,a.target.dispatchEvent(l),Pi=null}else return r=ni(a),r!==null&&U_(r),n.blockedOn=a,!1;r.shift()}return!0}function H_(n,r,a){eh(n)&&a.delete(r)}function kA(){wm=!1,Lr!==null&&eh(Lr)&&(Lr=null),Ur!==null&&eh(Ur)&&(Ur=null),jr!==null&&eh(jr)&&(jr=null),Vl.forEach(H_),Ll.forEach(H_)}function th(n,r){n.blockedOn===r&&(n.blockedOn=null,wm||(wm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kA)))}var nh=null;function q_(n){nh!==n&&(nh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nh===n&&(nh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(bm(l||a)===null)continue;break}var m=ni(a);m!==null&&(n.splice(r,3),r-=3,bd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(n){function r(C){return th(C,n)}Lr!==null&&th(Lr,n),Ur!==null&&th(Ur,n),jr!==null&&th(jr,n),Vl.forEach(r),Ll.forEach(r);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&zr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[pt]||null;if(typeof m=="function")E||q_(a);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[pt]||null)A=E.formAction;else if(bm(f)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),q_(a)}}}function Am(n){this._internalRoot=n}ih.prototype.render=Am.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();V_(a,l,n,r,null,null)},ih.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;V_(n.current,2,null,n,null,null),Uc(),r[Sn]=null}};function ih(n){this._internalRoot=n}ih.prototype.unstable_scheduleHydration=function(n){if(n){var r=pr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<zr.length&&r!==0&&r<zr[a].priority;a++);zr.splice(a,0,n),a===0&&B_(n)}};var F_=e.version;if(F_!=="19.1.0")throw Error(s(527,F_,"19.1.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var MA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{lt=rh.inject(MA),Fe=rh}catch{}}return Bl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=av,m=ov,E=lv,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=M_(n,1,!1,null,null,a,l,f,m,E,A,null),n[Sn]=r.current,am(n),new Am(r)},Bl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=av,E=ov,A=lv,C=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=M_(n,1,!0,r,a??null,l,f,m,E,A,C,F),r.context=P_(null),a=r.current,l=En(),l=mr(l),f=wr(l),f.callback=null,Ar(a,f,l),a=l,r.current.lanes=a,Ni(r,a),gi(r),n[Sn]=r.current,am(n),new ih(r)},Bl.version="19.1.0",Bl}var t0;function GA(){if(t0)return xm.exports;t0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=FA(),xm.exports}var KA=GA(),Hl={},n0;function $A(){if(n0)return Hl;n0=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=h,Hl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,I){const N=new u,U=T.length;if(U<2)return N;const B=(I==null?void 0:I.decode)||v;let Y=0;do{const Q=T.indexOf("=",Y);if(Q===-1)break;const ne=T.indexOf(";",Y),ae=ne===-1?U:ne;if(Q>ae){Y=T.lastIndexOf(";",Q-1)+1;continue}const ue=d(T,Y,Q),ve=p(T,Q,ue),M=T.slice(ue,ve);if(N[M]===void 0){let R=d(T,Q+1,ae),x=p(T,ae,R);const k=B(T.slice(R,x));N[M]=k}Y=ae+1}while(Y<U);return N}function d(T,I,N){do{const U=T.charCodeAt(I);if(U!==32&&U!==9)return I}while(++I<N);return N}function p(T,I,N){for(;I>N;){const U=T.charCodeAt(--I);if(U!==32&&U!==9)return I+1}return N}function g(T,I,N){const U=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const B=U(I);if(!e.test(B))throw new TypeError(`argument val is invalid: ${I}`);let Y=T+"="+B;if(!N)return Y;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Y+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Y+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Y+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Y+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Y+="; HttpOnly"),N.secure&&(Y+="; Secure"),N.partitioned&&(Y+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Y}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return o.call(T)==="[object Date]"}return Hl}$A();var i0="popstate";function YA(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return $m("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:su(o)}return XA(e,t,null,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substring(2,10)}function r0(i,e){return{usr:i.state,key:i.key,idx:e}}function $m(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:t,key:e&&e.key||s||QA()}}function su({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function wo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function XA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){d="POP";let B=v(),Y=B==null?null:B-g;g=B,p&&p({action:d,location:U.location,delta:Y})}function T(B,Y){d="PUSH";let Q=$m(U.location,B,Y);g=v()+1;let ne=r0(Q,g),ae=U.createHref(Q);try{h.pushState(ne,"",ae)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ae)}u&&p&&p({action:d,location:U.location,delta:1})}function I(B,Y){d="REPLACE";let Q=$m(U.location,B,Y);g=v();let ne=r0(Q,g),ae=U.createHref(Q);h.replaceState(ne,"",ae),u&&p&&p({action:d,location:U.location,delta:0})}function N(B){return WA(B)}let U={get action(){return d},get location(){return i(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(i0,b),p=B,()=>{o.removeEventListener(i0,b),p=null}},createHref(B){return e(o,B)},createURL:N,encodeLocation(B){let Y=N(B);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:I,go(B){return h.go(B)}};return U}function WA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),rt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:su(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function ZE(i,e,t="/"){return ZA(i,e,t,!1)}function ZA(i,e,t,s){let o=typeof e=="string"?wo(e):e,u=or(o.pathname||"/",t);if(u==null)return null;let h=JE(i);JA(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=cS(u);d=lS(h[p],g,s)}return d}function JE(i,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=rr([s,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),JE(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:aS(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of eT(u.path))o(u,h,p)}),e}function eT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=eT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function JA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:oS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var eS=/^:[\w-]+$/,tS=3,nS=2,iS=1,rS=10,sS=-2,s0=i=>i==="*";function aS(i,e){let t=i.split("/"),s=t.length;return t.some(s0)&&(s+=sS),e&&(s+=nS),t.filter(o=>!s0(o)).reduce((o,u)=>o+(eS.test(u)?tS:u===""?iS:rS),s)}function oS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function lS(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:rr([u,b.pathname]),pathnameBase:mS(rr([u,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(u=rr([u,b.pathnameBase]))}return h}function Ih(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=uS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let N=d[T]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const I=d[T];return b&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function uS(i,e=!1,t=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function cS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function or(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function hS(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?wo(i):i;return{pathname:t?t.startsWith("/")?t:fS(t,e):e,search:pS(s),hash:gS(o)}}function fS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dS(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xp(i){let e=dS(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ip(i,e,t,s=!1){let o;typeof i=="string"?o=wo(i):(o={...i},rt(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}d=b>=0?e[b]:"/"}let p=hS(o,d),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var rr=i=>i.join("/").replace(/\/\/+/g,"/"),mS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),pS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,gS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var vS=["GET",...tT];new Set(vS);var Ao=z.createContext(null);Ao.displayName="DataRouter";var Wh=z.createContext(null);Wh.displayName="DataRouterState";var nT=z.createContext({isTransitioning:!1});nT.displayName="ViewTransition";var _S=z.createContext(new Map);_S.displayName="Fetchers";var ES=z.createContext(null);ES.displayName="Await";var Zn=z.createContext(null);Zn.displayName="Navigation";var yu=z.createContext(null);yu.displayName="Location";var Jn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Cp=z.createContext(null);Cp.displayName="RouteError";function TS(i,{relative:e}={}){rt(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(Zn),{hash:o,pathname:u,search:h}=_u(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:rr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function So(){return z.useContext(yu)!=null}function ss(){return rt(So(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(yu).location}var iT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(i){z.useContext(Zn).static||z.useLayoutEffect(i)}function vu(){let{isDataRoute:i}=z.useContext(Jn);return i?MS():bS()}function bS(){rt(So(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Ao),{basename:e,navigator:t}=z.useContext(Zn),{matches:s}=z.useContext(Jn),{pathname:o}=ss(),u=JSON.stringify(xp(s)),h=z.useRef(!1);return rT(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(Qn(h.current,iT),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=Ip(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:rr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}z.createContext(null);function sT(){let{matches:i}=z.useContext(Jn),e=i[i.length-1];return e?e.params:{}}function _u(i,{relative:e}={}){let{matches:t}=z.useContext(Jn),{pathname:s}=ss(),o=JSON.stringify(xp(t));return z.useMemo(()=>Ip(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wS(i,e){return aT(i,e)}function aT(i,e,t,s){var Y;rt(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Zn),{matches:u}=z.useContext(Jn),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let Q=v&&v.path||"";oT(p,!v||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let b=ss(),T;if(e){let Q=typeof e=="string"?wo(e):e;rt(g==="/"||((Y=Q.pathname)==null?void 0:Y.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),T=Q}else T=b;let I=T.pathname||"/",N=I;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=ZE(i,{pathname:N});Qn(v||U!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Qn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=IS(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},d,Q.params),pathname:rr([g,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:rr([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,t,s);return e&&B?z.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},B):B}function AS(){let i=kS(),e=yS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,h)}var SS=z.createElement(AS,null),RS=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(Jn.Provider,{value:this.props.routeContext},z.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xS({routeContext:i,match:e,children:t}){let s=z.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Jn.Provider,{value:i},t)}function IS(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:b}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,T=!1,I=null,N=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||SS,h&&(d<0&&v===0?(oT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):d===v&&(T=!0,N=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,v+1)),B=()=>{let Y;return b?Y=I:T?Y=N:g.route.Component?Y=z.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,z.createElement(xS,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?z.createElement(RS,{location:t.location,revalidation:t.revalidation,component:I,error:b,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):B()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(i){let e=z.useContext(Ao);return rt(e,Np(i)),e}function NS(i){let e=z.useContext(Wh);return rt(e,Np(i)),e}function DS(i){let e=z.useContext(Jn);return rt(e,Np(i)),e}function Dp(i){let e=DS(i),t=e.matches[e.matches.length-1];return rt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function OS(){return Dp("useRouteId")}function kS(){var s;let i=z.useContext(Cp),e=NS("useRouteError"),t=Dp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function MS(){let{router:i}=CS("useNavigate"),e=Dp("useNavigate"),t=z.useRef(!1);return rT(()=>{t.current=!0}),z.useCallback(async(o,u={})=>{Qn(t.current,iT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var a0={};function oT(i,e,t){!e&&!a0[i]&&(a0[i]=!0,Qn(!1,t))}z.memo(PS);function PS({routes:i,future:e,state:t}){return aT(i,void 0,t,e)}function Om({to:i,replace:e,state:t,relative:s}){rt(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Zn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Jn),{pathname:h}=ss(),d=vu(),p=Ip(i,xp(u),h,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function yi(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){rt(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=wo(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:T="default"}=t,I=z.useMemo(()=>{let N=or(p,h);return N==null?null:{location:{pathname:N,search:g,hash:v,state:b,key:T},navigationType:s}},[h,p,g,v,b,T,s]);return Qn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:z.createElement(Zn.Provider,{value:d},z.createElement(yu.Provider,{children:e,value:I}))}function LS({children:i,location:e}){return wS(Ym(i),e)}function Ym(i,e=[]){let t=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){t.push.apply(t,Ym(s.props.children,u));return}rt(s.type===yi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ym(s.props.children,u)),t.push(h)}),t}var ph="get",gh="application/x-www-form-urlencoded";function Zh(i){return i!=null&&typeof i.tagName=="string"}function US(i){return Zh(i)&&i.tagName.toLowerCase()==="button"}function jS(i){return Zh(i)&&i.tagName.toLowerCase()==="form"}function zS(i){return Zh(i)&&i.tagName.toLowerCase()==="input"}function BS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function HS(i,e){return i.button===0&&(!e||e==="_self")&&!BS(i)}var sh=null;function qS(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var FS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(i){return i!=null&&!FS.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):i}function GS(i,e){let t,s,o,u,h;if(jS(i)){let d=i.getAttribute("action");s=d?or(d,e):null,t=i.getAttribute("method")||ph,o=km(i.getAttribute("enctype"))||gh,u=new FormData(i)}else if(US(i)||zS(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?or(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||ph,o=km(i.getAttribute("formenctype"))||km(d.getAttribute("enctype"))||gh,u=new FormData(d,i),!qS()){let{name:g,type:v,value:b}=i;if(v==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,b)}}else{if(Zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ph,s=null,o=gh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function KS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $S(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function YS(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await KS(u,t);return h.links?h.links():[]}return[]}));return ZS(s.flat(1).filter($S).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function o0(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var b;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function QS(i,e,{includeHydrateFallback:t}={}){return XS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function XS(i){return[...new Set(i)]}function WS(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function ZS(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(WS(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JS=new Set([100,101,204,205]);function eR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&or(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function lT(){let i=z.useContext(Ao);return Op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function tR(){let i=z.useContext(Wh);return Op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var kp=z.createContext(void 0);kp.displayName="FrameworkContext";function uT(){let i=z.useContext(kp);return Op(i,"You must render this element inside a <HydratedRouter> element"),i}function nR(i,e){let t=z.useContext(kp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=z.useRef(null);z.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=Y=>{Y.forEach(Q=>{h(Q.isIntersecting)})},B=new IntersectionObserver(U,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[i]),z.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let I=()=>{o(!0)},N=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,T,{}]:[u,T,{onFocus:ql(d,I),onBlur:ql(p,N),onMouseEnter:ql(g,I),onMouseLeave:ql(v,N),onTouchStart:ql(b,I)}]:[!1,T,{}]}function ql(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function iR({page:i,...e}){let{router:t}=lT(),s=z.useMemo(()=>ZE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?z.createElement(sR,{page:i,matches:s,...e}):null}function rR(i){let{manifest:e,routeModules:t}=uT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return YS(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function sR({page:i,matches:e,...t}){let s=ss(),{manifest:o,routeModules:u}=uT(),{basename:h}=lT(),{loaderData:d,matches:p}=tR(),g=z.useMemo(()=>o0(i,e,p,o,s,"data"),[i,e,p,o,s]),v=z.useMemo(()=>o0(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,U=!1;if(e.forEach(Y=>{var ne;let Q=o.routes[Y.route.id];!Q||!Q.hasLoader||(!g.some(ae=>ae.route.id===Y.route.id)&&Y.route.id in d&&((ne=u[Y.route.id])!=null&&ne.shouldRevalidate)||Q.hasClientLoader?U=!0:N.add(Y.route.id))}),N.size===0)return[];let B=eR(i,h);return U&&N.size>0&&B.searchParams.set("_routes",e.filter(Y=>N.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[B.pathname+B.search]},[h,d,s,o,g,e,i,u]),T=z.useMemo(()=>QS(v,o),[v,o]),I=rR(v);return z.createElement(z.Fragment,null,b.map(N=>z.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),T.map(N=>z.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),I.map(({key:N,link:U})=>z.createElement("link",{key:N,...U})))}function aR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.6.2")}catch{}function oR({basename:i,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=YA({window:t,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),d=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(VS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,...T},I){let{basename:N}=z.useContext(Zn),U=typeof g=="string"&&hT.test(g),B,Y=!1;if(typeof g=="string"&&U&&(B=g,cT))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),V=or(k.pathname,N);k.origin===x.origin&&V!=null?g=V+k.search+k.hash:Y=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=TS(g,{relative:o}),[ne,ae,ue]=nR(s,T),ve=hR(g,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:b});function M(x){e&&e(x),x.defaultPrevented||ve(x)}let R=z.createElement("a",{...T,...ue,href:B||Q,onClick:Y||u?e:M,ref:aR(I,ae),target:p,"data-discover":!U&&t==="render"?"true":void 0});return ne&&!U?z.createElement(z.Fragment,null,R,z.createElement(iR,{page:Q})):R});Wt.displayName="Link";var lR=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},v){let b=_u(h,{relative:g.relative}),T=ss(),I=z.useContext(Wh),{navigator:N,basename:U}=z.useContext(Zn),B=I!=null&&gR(b)&&d===!0,Y=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,Q=T.pathname,ne=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&U&&(ne=or(ne,U)||ne);const ae=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=Q===Y||!o&&Q.startsWith(Y)&&Q.charAt(ae)==="/",ve=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),M={isActive:ue,isPending:ve,isTransitioning:B},R=ue?e:void 0,x;typeof s=="function"?x=s(M):x=[s,ue?"active":null,ve?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(M):u;return z.createElement(Wt,{...g,"aria-current":R,className:x,ref:v,style:k,to:h,viewTransition:d},typeof p=="function"?p(M):p)});lR.displayName="NavLink";var uR=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=ph,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...T},I)=>{let N=mR(),U=pR(d,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&hT.test(d),Q=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ae=ne.nativeEvent.submitter,ue=(ae==null?void 0:ae.getAttribute("formmethod"))||h;N(ae||ne.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return z.createElement("form",{ref:I,method:B,action:U,onSubmit:s?p:Q,...T,"data-discover":!Y&&i==="render"?"true":void 0})});uR.displayName="Form";function cR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fT(i){let e=z.useContext(Ao);return rt(e,cR(i)),e}function hR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=vu(),p=ss(),g=_u(i,{relative:u});return z.useCallback(v=>{if(HS(v,e)){v.preventDefault();let b=t!==void 0?t:su(p)===su(g);d(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var fR=0,dR=()=>`__${String(++fR)}__`;function mR(){let{router:i}=fT("useSubmit"),{basename:e}=z.useContext(Zn),t=OS();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=GS(s,e);if(o.navigate===!1){let v=o.fetcherKey||dR();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function pR(i,{relative:e}={}){let{basename:t}=z.useContext(Zn),s=z.useContext(Jn);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(i||".",{relative:e})},h=ss();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:rr([t,u.pathname])),su(u)}function gR(i,e={}){let t=z.useContext(nT);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fT("useViewTransitionState"),o=_u(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=or(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=or(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ih(o.pathname,h)!=null||Ih(o.pathname,u)!=null}[...JS];const yR=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,I=g&63;p||(I=64,h||(T=64)),s.push(t[v],t[b],t[T],t[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(dT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):vR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new _R;const T=u<<2|d>>4;if(s.push(T),g!==64){const I=d<<4&240|g>>2;if(s.push(I),b!==64){const N=g<<6&192|b;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(i){const e=dT(i);return mT.encodeByteArray(e,!0)},Ch=function(i){return ER(i).replace(/\./g,"")},pT=function(i){try{return mT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>TR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof l0>"u")return;const i=l0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&pT(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return yR()||bR()||wR()||AR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gT=i=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},yT=i=>{const e=gT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},vT=()=>{var i;return(i=Jh())===null||i===void 0?void 0:i.config},_T=i=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(i){return i.endsWith(".cloudworkstations.dev")}async function Mp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ch(JSON.stringify(t)),Ch(JSON.stringify(h)),""].join(".")}const Wl={};function RR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?i.emulator.push(e):i.prod.push(e);return i}function xR(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let u0=!1;function Pp(i,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||Wl[i]===e||Wl[i]||u0)return;Wl[i]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=RR().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{u0=!0,h()},T}function v(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=xR(s),I=t("text"),N=document.getElementById(I)||document.createElement("span"),U=t("learnmore"),B=document.getElementById(U)||document.createElement("a"),Y=t("preprendIcon"),Q=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ne=T.element;d(ne),v(B,U);const ae=g();p(Q,Y),ne.append(Q,N,B,ae),document.body.appendChild(ne)}u?(N.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function CR(){var i;const e=(i=Jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kR(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class Ri extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=LR,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?UR(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ri(o,d,s)}}function UR(i,e){return i.replace(jR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jR=/\{\$([^}]+)}/g;function zR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ta(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(c0(u)&&c0(h)){if(!ta(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function c0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function BR(i,e){const t=new HR(i,e);return t.subscribe.bind(t)}class HR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(i){return i&&i._delegate?i._delegate:i}class Zr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new SR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(i){return i===Ws?void 0:i}function KR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const YR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},QR=ke.INFO,XR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},WR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=XR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const ZR=(i,e)=>e.some(t=>i instanceof t);let h0,f0;function JR(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ex(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Qm=new WeakMap,bT=new WeakMap,Pm=new WeakMap,Lp=new WeakMap;function tx(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Yr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&TT.set(t,i)}).catch(()=>{}),Lp.set(e,i),e}function nx(i){if(Qm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Qm.set(i,e)}let Xm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||bT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ix(i){Xm=i(Xm)}function rx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Vm(this),e,...t);return bT.set(s,e.sort?e.sort():[e]),Yr(s)}:ex().includes(i)?function(...e){return i.apply(Vm(this),e),Yr(TT.get(this))}:function(...e){return Yr(i.apply(Vm(this),e))}}function sx(i){return typeof i=="function"?rx(i):(i instanceof IDBTransaction&&nx(i),ZR(i,JR())?new Proxy(i,Xm):i)}function Yr(i){if(i instanceof IDBRequest)return tx(i);if(Pm.has(i))return Pm.get(i);const e=sx(i);return e!==i&&(Pm.set(i,e),Lp.set(e,i)),e}const Vm=i=>Lp.get(i);function ax(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=Yr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Yr(h.result),p.oldVersion,p.newVersion,Yr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ox=["get","getKey","getAll","getAllKeys","count"],lx=["put","add","delete","clear"],Lm=new Map;function d0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=lx.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ox.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Lm.set(e,u),u}ix(i=>({...i,get:(e,t,s)=>d0(e,t)||i.get(e,t,s),has:(e,t)=>!!d0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function cx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",m0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Vp("@firebase/app"),hx="@firebase/app-compat",fx="@firebase/analytics-compat",dx="@firebase/analytics",mx="@firebase/app-check-compat",px="@firebase/app-check",gx="@firebase/auth",yx="@firebase/auth-compat",vx="@firebase/database",_x="@firebase/data-connect",Ex="@firebase/database-compat",Tx="@firebase/functions",bx="@firebase/functions-compat",wx="@firebase/installations",Ax="@firebase/installations-compat",Sx="@firebase/messaging",Rx="@firebase/messaging-compat",xx="@firebase/performance",Ix="@firebase/performance-compat",Cx="@firebase/remote-config",Nx="@firebase/remote-config-compat",Dx="@firebase/storage",Ox="@firebase/storage-compat",kx="@firebase/firestore",Mx="@firebase/ai",Px="@firebase/firestore-compat",Vx="firebase",Lx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",Ux={[Wm]:"fire-core",[hx]:"fire-core-compat",[dx]:"fire-analytics",[fx]:"fire-analytics-compat",[px]:"fire-app-check",[mx]:"fire-app-check-compat",[gx]:"fire-auth",[yx]:"fire-auth-compat",[vx]:"fire-rtdb",[_x]:"fire-data-connect",[Ex]:"fire-rtdb-compat",[Tx]:"fire-fn",[bx]:"fire-fn-compat",[wx]:"fire-iid",[Ax]:"fire-iid-compat",[Sx]:"fire-fcm",[Rx]:"fire-fcm-compat",[xx]:"fire-perf",[Ix]:"fire-perf-compat",[Cx]:"fire-rc",[Nx]:"fire-rc-compat",[Dx]:"fire-gcs",[Ox]:"fire-gcs-compat",[kx]:"fire-fst",[Px]:"fire-fst-compat",[Mx]:"fire-vertex","fire-js":"fire-js",[Vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,jx=new Map,Jm=new Map;function p0(i,e){try{i.container.addComponent(e)}catch(t){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function na(i){const e=i.name;if(Jm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,i);for(const t of Nh.values())p0(t,i);for(const t of jx.values())p0(t,i);return!0}function ef(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function hn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Eu("app","Firebase",zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=Lx;function wT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(t||(t=vT()),!t)throw Qr.create("no-options");const u=Nh.get(o);if(u){if(ta(t,u.options)&&ta(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const h=new $R(o);for(const p of Jm.values())h.addComponent(p);const d=new Bx(t,s,h);return Nh.set(o,d),d}function Up(i=Zm){const e=Nh.get(i);if(!e&&i===Zm&&vT())return wT();if(!e)throw Qr.create("no-app",{appName:i});return e}function Ei(i,e,t){var s;let o=(s=Ux[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(d.join(" "));return}na(new Zr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firebase-heartbeat-database",qx=1,au="firebase-heartbeat-store";let Um=null;function AT(){return Um||(Um=ax(Hx,qx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(au)}catch(t){console.warn(t)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),Um}async function Fx(i){try{const t=(await AT()).transaction(au),s=await t.objectStore(au).get(ST(i));return await t.done,s}catch(e){if(e instanceof Ri)lr.warn(e.message);else{const t=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(t.message)}}}async function g0(i,e){try{const s=(await AT()).transaction(au,"readwrite");await s.objectStore(au).put(e,ST(i)),await s.done}catch(t){if(t instanceof Ri)lr.warn(t.message);else{const s=Qr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});lr.warn(s.message)}}}function ST(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=1024,Kx=30;class $x{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Kx){const h=Xx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y0(),{heartbeatsToSend:s,unsentEntries:o}=Yx(this._heartbeatsCache.heartbeats),u=Ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return lr.warn(t),""}}}function y0(){return new Date().toISOString().substring(0,10)}function Yx(i,e=Gx){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),v0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),v0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Fx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function v0(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function Xx(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(i){na(new Zr("platform-logger",e=>new ux(e),"PRIVATE")),na(new Zr("heartbeat",e=>new $x(e),"PRIVATE")),Ei(Wm,m0,i),Ei(Wm,m0,"esm2017"),Ei("fire-js","")}Wx("");function jp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=RT,xT=new Eu("auth","Firebase",RT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Vp("@firebase/auth");function Jx(i,...e){Dh.logLevel<=ke.WARN&&Dh.warn(`Auth (${la}): ${i}`,...e)}function yh(i,...e){Dh.logLevel<=ke.ERROR&&Dh.error(`Auth (${la}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(i,...e){throw Bp(i,...e)}function Yn(i,...e){return Bp(i,...e)}function zp(i,e,t){const s=Object.assign(Object.assign({},Zx()),{[e]:t});return new Eu("auth","Firebase",s).create(e,{appName:i.name})}function sr(i){return zp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eI(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Un(i,"argument-error"),zp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return xT.create(i,...e)}function Ee(i,e,...t){if(!i)throw Bp(e,...t)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function ur(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function tI(){return _0()==="http:"||_0()==="https:"}function _0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tI()||DR()||"connection"in navigator)?navigator.onLine:!0}function iI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ur(t>e,"Short delay should be less than long delay!"),this.isMobile=IR()||OR()}get(){return nI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i,e){ur(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aI=new bu(3e4,6e4);function as(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function os(i,e,t,s,o={}){return CT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Tu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return NR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&oa(i.emulatorConfig.host)&&(g.credentials="include"),IT.fetch()(await NT(i,i.config.apiHost,t,d),g)})}async function CT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},rI),e);try{const o=new lI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ah(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ah(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw zp(i,v,g);Un(i,v)}}catch(o){if(o instanceof Ri)throw o;Un(i,"network-request-failed",{message:String(o)})}}async function wu(i,e,t,s,o={}){const u=await os(i,e,t,s,o);return"mfaPendingCredential"in u&&Un(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function NT(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Hp(i.config,o):`${i.config.apiScheme}://${o}`;return sI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function oI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Yn(this.auth,"network-request-failed")),aI.get())})}}function ah(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Yn(i,e,s);return o.customData._tokenResponse=t,o}function E0(i){return i!==void 0&&i.enterprise!==void 0}class uI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cI(i,e){return os(i,"GET","/v2/recaptchaConfig",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,e){return os(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return os(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fI(i,e=!1){const t=Mt(i),s=await t.getIdToken(e),o=qp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(jm(o.auth_time)),issuedAtTime:Zl(jm(o.iat)),expirationTime:Zl(jm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jm(i){return Number(i)*1e3}function qp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(t);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function T0(i){const e=qp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ri&&dI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function dI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await ou(i,Oh(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?DT(u.providerUserInfo):[],d=gI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new tp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,b)}async function pI(i){const e=Mt(i);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function DT(i){return i.map(e=>{var{providerId:t}=e,s=jp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(i,e){const t=await CT(i,{},async()=>{const s=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await NT(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&oa(i.emulatorConfig.host)&&(p.credentials="include"),IT.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vI(i,e){return os(i,"POST","/v2/accounts:revokeToken",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=T0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await yI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new co;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fI(this,e)}reload(){return pI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await ou(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,v;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,N=(h=t.photoURL)!==null&&h!==void 0?h:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:ae,isAnonymous:ue,providerData:ve,stsTokenManager:M}=t;Ee(ne&&M,e,"internal-error");const R=co.fromJSON(this.name,M);Ee(typeof ne=="string",e,"internal-error"),Hr(b,e.name),Hr(T,e.name),Ee(typeof ae=="boolean",e,"internal-error"),Ee(typeof ue=="boolean",e,"internal-error"),Hr(I,e.name),Hr(N,e.name),Hr(U,e.name),Hr(B,e.name),Hr(Y,e.name),Hr(Q,e.name);const x=new Kn({uid:ne,auth:e,email:T,emailVerified:ae,displayName:b,isAnonymous:ue,photoURL:N,phoneNumber:I,tenantId:U,stsTokenManager:R,createdAt:Y,lastLoginAt:Q});return ve&&Array.isArray(ve)&&(x.providerData=ve.map(k=>Object.assign({},k))),B&&(x._redirectEventId=B),x}static async _fromIdTokenResponse(e,t,s=!1){const o=new co;o.updateFromServerResponse(t);const u=new Kn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new co;d.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;function ir(i){ur(i instanceof Function,"Expected a class definition");let e=b0.get(i);return e?(ur(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,b0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OT.type="NONE";const w0=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i,e,t){return`firebase:${i}:${e}:${t}`}class ho{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Oh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ho(ir(w0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(w0);const h=vh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const T=await Oh(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Kn._fromGetAccountInfoResponse(e,T,v)}else b=Kn._fromJSON(e,v);g!==u&&(d=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UT(e))return"Blackberry";if(jT(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||PT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kT(i=Zt()){return/firefox\//i.test(i)}function MT(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PT(i=Zt()){return/crios\//i.test(i)}function VT(i=Zt()){return/iemobile/i.test(i)}function LT(i=Zt()){return/android/i.test(i)}function UT(i=Zt()){return/blackberry/i.test(i)}function jT(i=Zt()){return/webos/i.test(i)}function Fp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _I(i=Zt()){var e;return Fp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EI(){return kR()&&document.documentMode===10}function zT(i=Zt()){return Fp(i)||LT(i)||jT(i)||UT(i)||/windows phone/i.test(i)||VT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(i,e=[]){let t;switch(i){case"Browser":t=A0(Zt());break;case"Worker":t=`${A0(Zt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(i,e={}){return os(i,"GET","/v2/passwordPolicy",as(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class AI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:wI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new TI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ir(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Oh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(sr(this));const t=e?Mt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bI(this),t=new AI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await vI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ir(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Jx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ls(i){return Mt(i)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(i){tf=i}function HT(i){return tf.loadJS(i)}function xI(){return tf.recaptchaEnterpriseScript}function II(){return tf.gapiScript}function CI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class NI{constructor(){this.enterprise=new DI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const OI="recaptcha-enterprise",qT="NO_RECAPTCHA";class kI{constructor(e){this.type=OI,this.auth=ls(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{cI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new uI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;E0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(qT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&E0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xI();p.length!==0&&(p+=d),HT(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function R0(i,e,t,s=!1,o=!1){const u=new kI(i);let h;if(o)h=qT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function np(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await R0(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await R0(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(i,e){const t=ef(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ta(u,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function PI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ir);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function VI(i,e,t){const s=ls(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FT(e),{host:h,port:d}=LI(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ta(g,s.config.emulator)&&ta(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,oa(h)?(Mp(`${u}//${h}${p}`),Pp("Auth",!0)):UI()}function FT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function LI(i){const e=FT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:x0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:x0(h)}}}function x0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function UI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,t){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function jI(i,e){return os(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,e){return wu(i,"POST","/v1/accounts:signInWithPassword",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",as(i,e))}async function HI(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Gp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new lu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new lu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,t,"signInWithPassword",zI);case"emailLink":return BI(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,s,"signUpPassword",jI);case"emailLink":return HI(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e){return wu(i,"POST","/v1/accounts:signInWithIdp",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="http://localhost";class ia extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=jp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return fo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,fo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fo(e,t)}buildRequest(){const e={requestUri:qI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GI(i){const e=Gl(Kl(i)).link,t=e?Gl(Kl(e)).deep_link_id:null,s=Gl(Kl(i)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||t||e||i}class Kp{constructor(e){var t,s,o,u,h,d;const p=Gl(Kl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,b=FI((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=GI(e);try{return new Kp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,t){return lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Kp.parseLink(t);return Ee(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends $p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Au{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return tr.credential(t,s)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Au{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Au{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Gr.credential(t,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(i,e){return wu(i,"POST","/v1/accounts:signUp",as(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),h=I0(s);return new ra({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function I0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Ri{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Mh(e,t,s,o)}}function GT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(i,u,e,s):u})}async function $I(i,e,t=!1){const s=await ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ra._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e,t=!1){const{auth:s}=i;if(hn(s.app))return Promise.reject(sr(s));const o="reauthenticate";try{const u=await ou(i,GT(s,o,e,i),t);Ee(u.idToken,s,"internal-error");const h=qp(u.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(i.uid===d,s,"user-mismatch"),ra._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Un(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(i,e,t=!1){if(hn(i.app))return Promise.reject(sr(i));const s="signIn",o=await GT(i,s,e),u=await ra._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function QI(i,e){return KT(ls(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(i){const e=ls(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XI(i,e,t){if(hn(i.app))return Promise.reject(sr(i));const s=ls(i),h=await np(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$T(i),p}),d=await ra._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function WI(i,e,t){return hn(i.app)?Promise.reject(sr(i)):QI(Mt(i),Ro.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$T(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(i,e){return Mt(i).setPersistence(e)}function JI(i,e,t,s){return Mt(i).onIdTokenChanged(e,t,s)}function eC(i,e,t){return Mt(i).beforeAuthStateChanged(e,t)}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class QT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);EI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QT.type="LOCAL";const XT=QT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WT.type="SESSION";const Yp=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await iC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Qp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(T.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function sC(i){Ti().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function aC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function lC(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firebaseLocalStorageDb",uC=1,Vh="firebaseLocalStorage",eb="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(i,e){return i.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function cC(){const i=indexedDB.deleteDatabase(JT);return new Su(i).toPromise()}function ip(){const i=indexedDB.open(JT,uC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Vh,{keyPath:eb})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await cC(),e(await ip()))})})}async function C0(i,e,t){const s=rf(i,!0).put({[eb]:e,value:t});return new Su(s).toPromise()}async function hC(i,e){const t=rf(i,!1).get(e),s=await new Su(t).toPromise();return s===void 0?null:s.value}function N0(i,e){const t=rf(i,!0).delete(e);return new Su(t).toPromise()}const fC=800,dC=3;class tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>dC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(lC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new rC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await C0(e,Ph,"1"),await N0(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>C0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>hC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>N0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tb.type="LOCAL";const mC=tb;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(i,e){return e?ir(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends Gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pC(i){return KT(i.auth,new Xp(i),i.bypassAuthState)}function gC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),YI(t,new Xp(i),i.bypassAuthState)}async function yC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),$I(t,new Xp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return gC;default:Un(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new bu(2e3,1e4);async function rb(i,e,t){if(hn(i.app))return Promise.reject(Yn(i,"operation-not-supported-in-this-environment"));const s=ls(i);eI(i,e,$p);const o=nb(s,t);return new Zs(s,"signInViaPopup",e,o).executeNotNull()}class Zs extends ib{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="pendingRedirect",_h=new Map;class EC extends ib{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await TC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TC(i,e){const t=AC(e),s=wC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function bC(i,e){_h.set(i._key(),e)}function wC(i){return ir(i._redirectPersistence)}function AC(i){return vh(_C,i.config.apiKey,i.name)}async function SC(i,e,t=!1){if(hn(i.app))return Promise.reject(sr(i));const s=ls(i),o=nb(s,e),h=await new EC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=10*60*1e3;class xC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!sb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Yn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RC&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function sb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e={}){return os(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^https?/;async function OC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await CC(i);for(const t of e)try{if(kC(t))return}catch{}Un(i,"unauthorized-domain")}function kC(i){const e=ep(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!DC.test(t))return!1;if(NC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new bu(3e4,6e4);function O0(){const i=Ti().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function PC(i){return new Promise((e,t)=>{var s,o,u;function h(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),t(Yn(i,"network-request-failed"))},timeout:MC.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)h();else{const d=CI("iframefcb");return Ti()[d]=()=>{gapi.load?h():t(Yn(i,"network-request-failed"))},HT(`${II()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function VC(i){return Eh=Eh||PC(i),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new bu(5e3,15e3),UC="__/auth/iframe",jC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Hp(e,jC):`https://${i.config.authDomain}/${UC}`,s={apiKey:e.apiKey,appName:i.name,v:la},o=BC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Tu(s).slice(1)}`}async function qC(i){const e=await VC(i),t=Ti().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:HC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Yn(i,"network-request-failed"),d=Ti().setTimeout(()=>{u(h)},LC.get());function p(){Ti().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,KC=600,$C="_blank",YC="http://localhost";class k0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QC(i,e,t,s=GC,o=KC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},FC),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Zt().toLowerCase();t&&(d=PT(g)?$C:t),kT(g)&&(e=e||YC,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[I,N])=>`${T}${I}=${N},`,"");if(_I(g)&&d!=="_self")return XC(e||"",d),new k0(null);const b=window.open(e||"",d,v);Ee(b,i,"popup-blocked");try{b.focus()}catch{}return new k0(b)}function XC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__/auth/handler",ZC="emulator/auth/handler",JC=encodeURIComponent("fac");async function M0(i,e,t,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:la,eventId:o};if(e instanceof $p){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",zR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Au){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${JC}=${encodeURIComponent(p)}`:"";return`${e2(i)}?${Tu(d).slice(1)}${g}`}function e2({config:i}){return i.emulator?Hp(i,ZC):`https://${i.authDomain}/${WC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class t2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yp,this._completeRedirectFn=SC,this._overrideRedirectResult=bC}async _openPopup(e,t,s,o){var u;ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await M0(e,t,s,ep(),o);return QC(e,h,Qp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await M0(e,t,s,ep(),o);return sC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await qC(e),s=new xC(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[zm];h!==void 0&&t(!!h),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zT()||MT()||Fp()}}const n2=t2;var P0="@firebase/auth",V0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(i){na(new Zr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(i)},g=new SI(s,o,u,p);return PI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),na(new Zr("auth-internal",e=>{const t=ls(e.getProvider("auth").getImmediate());return(s=>new i2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(P0,V0,r2(i)),Ei(P0,V0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=5*60,o2=_T("authIdTokenMaxAge")||a2;let L0=null;const l2=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>o2)return;const o=t==null?void 0:t.token;L0!==o&&(L0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function u2(i=Up()){const e=ef(i,"auth");if(e.isInitialized())return e.getImmediate();const t=MI(i,{popupRedirectResolver:n2,persistence:[mC,XT,Yp]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=l2(u.toString());eC(t,h,()=>h(t.currentUser)),JI(t,d=>h(d))}}const o=gT("auth");return o&&VI(t,`http://${o}`),t}function c2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}RI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Yn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",c2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var h2="firebase",f2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(h2,f2,"app");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,ab;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function x(){}x.prototype=R.prototype,M.D=R.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(k,V,j){for(var D=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)D[Pt-2]=arguments[Pt];return R.prototype[V].apply(k,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,x){x||(x=0);var k=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)k[V]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(V=0;16>V;++V)k[V]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=M.g[0],x=M.g[1],V=M.g[2];var j=M.g[3],D=R+(j^x&(V^j))+k[0]+3614090360&4294967295;R=x+(D<<7&4294967295|D>>>25),D=j+(V^R&(x^V))+k[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(x^j&(R^x))+k[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=x+(R^V&(j^R))+k[3]+3250441966&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(j^x&(V^j))+k[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=j+(V^R&(x^V))+k[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(x^j&(R^x))+k[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=x+(R^V&(j^R))+k[7]+4249261313&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(j^x&(V^j))+k[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=j+(V^R&(x^V))+k[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(x^j&(R^x))+k[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=x+(R^V&(j^R))+k[11]+2304563134&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(j^x&(V^j))+k[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=j+(V^R&(x^V))+k[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(x^j&(R^x))+k[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=x+(R^V&(j^R))+k[15]+1236535329&4294967295,x=V+(D<<22&4294967295|D>>>10),D=R+(V^j&(x^V))+k[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=j+(x^V&(R^x))+k[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(j^R))+k[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=x+(j^R&(V^j))+k[0]+3921069994&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(x^V))+k[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=j+(x^V&(R^x))+k[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(j^R))+k[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=x+(j^R&(V^j))+k[4]+3889429448&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(x^V))+k[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=j+(x^V&(R^x))+k[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(j^R))+k[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=x+(j^R&(V^j))+k[8]+1163531501&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(x^V))+k[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=j+(x^V&(R^x))+k[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^x&(j^R))+k[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=x+(j^R&(V^j))+k[12]+2368359562&4294967295,x=V+(D<<20&4294967295|D>>>12),D=R+(x^V^j)+k[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=j+(R^x^V)+k[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^x)+k[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=x+(V^j^R)+k[14]+4259657740&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^j)+k[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=j+(R^x^V)+k[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^x)+k[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=x+(V^j^R)+k[10]+3200236656&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^j)+k[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=j+(R^x^V)+k[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^x)+k[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=x+(V^j^R)+k[6]+76029189&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(x^V^j)+k[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=j+(R^x^V)+k[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^x)+k[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=x+(V^j^R)+k[2]+3299628645&4294967295,x=V+(D<<23&4294967295|D>>>9),D=R+(V^(x|~j))+k[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=j+(x^(R|~V))+k[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~x))+k[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=x+(j^(V|~R))+k[5]+4237533241&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~j))+k[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=j+(x^(R|~V))+k[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~x))+k[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=x+(j^(V|~R))+k[1]+2240044497&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~j))+k[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=j+(x^(R|~V))+k[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~x))+k[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=x+(j^(V|~R))+k[13]+1309151649&4294967295,x=V+(D<<21&4294967295|D>>>11),D=R+(V^(x|~j))+k[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=j+(x^(R|~V))+k[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~x))+k[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=x+(j^(V|~R))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var x=R-this.blockSize,k=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=x;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(k[V++]=M.charCodeAt(j++),V==this.blockSize){o(this,k),V=0;break}}else for(;j<R;)if(k[V++]=M[j++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var x=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=x&255,x/=256;for(this.u(M),M=Array(16),R=x=0;4>R;++R)for(var k=0;32>k;k+=8)M[x++]=this.g[R]>>>k&255;return M};function u(M,R){var x=d;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=R(M)}function h(M,R){this.h=R;for(var x=[],k=!0,V=M.length-1;0<=V;V--){var j=M[V]|0;k&&j==R||(x[V]=j,k=!1)}this.g=x}var d={};function p(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return B(g(-M));for(var R=[],x=1,k=0;M>=x;k++)R[k]=M/x|0,x*=4294967296;return new h(R,0)}function v(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return B(v(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),k=b,V=0;V<M.length;V+=8){var j=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),k=k.j(j).add(g(D))):(k=k.j(x),k=k.add(g(D)))}return k}var b=p(0),T=p(1),I=p(16777216);i=h.prototype,i.m=function(){if(U(this))return-B(this).m();for(var M=0,R=1,x=0;x<this.g.length;x++){var k=this.i(x);M+=(0<=k?k:4294967296+k)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(U(this))return"-"+B(this).toString(M);for(var R=g(Math.pow(M,6)),x=this,k="";;){var V=ae(x,R).g;x=Y(x,V.j(R));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=V,N(x))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function U(M){return M.h==-1}i.l=function(M){return M=Y(this,M),U(M)?-1:N(M)?0:1};function B(M){for(var R=M.g.length,x=[],k=0;k<R;k++)x[k]=~M.g[k];return new h(x,~M.h).add(T)}i.abs=function(){return U(this)?B(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],k=0,V=0;V<=R;V++){var j=k+(this.i(V)&65535)+(M.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);k=D>>>16,j&=65535,D&=65535,x[V]=D<<16|j}return new h(x,x[x.length-1]&-2147483648?-1:0)};function Y(M,R){return M.add(B(R))}i.j=function(M){if(N(this)||N(M))return b;if(U(this))return U(M)?B(this).j(B(M)):B(B(this).j(M));if(U(M))return B(this.j(B(M)));if(0>this.l(I)&&0>M.l(I))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,x=[],k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<M.g.length;V++){var j=this.i(k)>>>16,D=this.i(k)&65535,Pt=M.i(V)>>>16,ot=M.i(V)&65535;x[2*k+2*V]+=D*ot,Q(x,2*k+2*V),x[2*k+2*V+1]+=j*ot,Q(x,2*k+2*V+1),x[2*k+2*V+1]+=D*Pt,Q(x,2*k+2*V+1),x[2*k+2*V+2]+=j*Pt,Q(x,2*k+2*V+2)}for(k=0;k<R;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=R;k<2*R;k++)x[k]=0;return new h(x,0)};function Q(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ne(M,R){this.g=M,this.h=R}function ae(M,R){if(N(R))throw Error("division by zero");if(N(M))return new ne(b,b);if(U(M))return R=ae(B(M),R),new ne(B(R.g),B(R.h));if(U(R))return R=ae(M,B(R)),new ne(B(R.g),R.h);if(30<M.g.length){if(U(M)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var x=T,k=R;0>=k.l(M);)x=ue(x),k=ue(k);var V=ve(x,1),j=ve(k,1);for(k=ve(k,2),x=ve(x,2);!N(k);){var D=j.add(k);0>=D.l(M)&&(V=V.add(x),j=D),k=ve(k,1),x=ve(x,1)}return R=Y(M,V.j(R)),new ne(V,R)}for(V=b;0<=M.l(R);){for(x=Math.max(1,Math.floor(M.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=g(x),D=j.j(R);U(D)||0<D.l(M);)x-=k,j=g(x),D=j.j(R);N(j)&&(j=T),V=V.add(j),M=Y(M,D)}return new ne(V,M)}i.A=function(M){return ae(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)&M.i(k);return new h(x,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)|M.i(k);return new h(x,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)^M.i(k);return new h(x,this.h^M.h)};function ue(M){for(var R=M.g.length+1,x=[],k=0;k<R;k++)x[k]=M.i(k)<<1|M.i(k-1)>>>31;return new h(x,M.h)}function ve(M,R){var x=R>>5;R%=32;for(var k=M.g.length-x,V=[],j=0;j<k;j++)V[j]=0<R?M.i(j+x)>>>R|M.i(j+x+1)<<32-R:M.i(j+x);return new h(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ab=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Xr=h}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ob,$l,lb,Th,rp,ub,cb,hb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in _))break e;_=_[H]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,H={next:function(){if(!S&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,H,$){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[H].apply(S,se)}}function U(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const H=c.length||0,$=S.length||0;c.length=H+$;for(let se=0;se<$;se++)c[H+se]=S[se]}else c.push(S)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ue=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ve(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)c[_]=S[_];for(let $=0;$<x.length;$++)_=x[$],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function D(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pt{constructor(){this.h=this.g=null}add(y,_){const S=ot.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ze=new Pt,O=()=>{const c=d.Promise.resolve(void 0);oe=()=>{c.then(ie)}};var ie=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){j(_)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{ae(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,re);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function ei(c,y,_,S,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=H,this.key=++Ze,this.da=this.fa=!1}function dr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ii(c){this.src=c,this.g={},this.h=0}Ii.prototype.add=function(c,y,_,S,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=ms(c,y,S,H);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new ei(y,this.src,$,!!S,H),y.fa=_,c.push(y)),y};function ds(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],H=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=H)&&Array.prototype.splice.call(S,H,1),$&&(dr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ms(c,y,_,S){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==S)return H}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),Oo={};function Pu(c,y,_,S,H){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Pu(c,y[$],_,S,H);return null}return _=Vu(_),c&&c[xt]?c.K(y,_,g(S)?!!S.capture:!1,H):An(c,y,_,!1,S,H)}function An(c,y,_,S,H,$){if(!y)throw Error("Invalid event type");var se=g(H)?!!H.capture:!!H,Pe=ma(c);if(Pe||(c[ps]=Pe=new Ii(c)),_=Pe.add(y,_,S,se,$),_.proxy)return _;if(S=Sf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ge||(H=se),H===void 0&&(H=!1),c.addEventListener(y.toString(),S,H);else if(c.attachEvent)c.attachEvent(gs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sf(){function c(_){return y.call(c.src,c.listener,_)}const y=Rf;return c}function ko(c,y,_,S,H){if(Array.isArray(y))for(var $=0;$<y.length;$++)ko(c,y[$],_,S,H);else S=g(S)?!!S.capture:!!S,_=Vu(_),c&&c[xt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=ms($,_,S,H),-1<_&&(dr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ma(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ms(y,_,S,H)),(_=-1<c?y[c]:null)&&da(_))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])ds(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(gs(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ma(y))?(ds(_,c),_.h==0&&(_.src=null,y[ps]=null)):dr(c)}}}function gs(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function Rf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&da(c),c=_.call(S,y)}return c}function ma(c){return c=c[ps],c instanceof Ii?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vu(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function lt(){le.call(this),this.i=new Ii(this),this.M=this,this.F=null}N(lt,le),lt.prototype[xt]=!0,lt.prototype.removeEventListener=function(c,y,_,S){ko(this,c,y,_,S)};function Fe(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var H=y;y=new re(S,c),k(y,H)}if(H=!0,_)for(var $=_.length-1;0<=$;$--){var se=y.g=_[$];H=dn(se,S,!0,y)&&H}if(se=y.g=c,H=dn(se,S,!0,y)&&H,H=dn(se,S,!1,y)&&H,_)for($=0;$<_.length;$++)se=y.g=_[$],H=dn(se,S,!1,y)&&H}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)dr(_[S]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},lt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==_){var Pe=se.listener,bt=se.ha||se.src;se.fa&&ds(c.i,se),H=Pe.call(bt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Gt(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Lu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,Lu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class xf extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){le.call(this),this.h=c,this.g={}}N(ys,le);var vs=[];function _s(c){ve(c.g,function(y,_){this.g.hasOwnProperty(_)&&da(y)},c),c.g={}}ys.prototype.N=function(){ys.aa.N.call(this),_s(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,pa=d.JSON.parse,Es=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Lo(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){re.call(this,"d")}N(Ni,re);function Uo(){re.call(this,"c")}N(Uo,re);var ti={},jo=null;function mr(){return jo=jo||new lt}ti.La="serverreachability";function ga(c){re.call(this,ti.La,c)}N(ga,re);function pr(c){const y=mr();Fe(y,new ga(y))}ti.STAT_EVENT="statevent";function Uu(c,y){re.call(this,ti.STAT_EVENT,c),this.stat=y}N(Uu,re);function tt(c){const y=mr();Fe(y,new Uu(y,c))}ti.Ma="timingevent";function Tt(c,y){re.call(this,ti.Ma,c),this.size=y}N(Tt,re);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function zo(c,y,_,S,H,$){c.info(function(){if(c.g)if($)for(var se="",Pe=$.split("&"),bt=0;bt<Pe.length;bt++){var Ve=Pe[bt].split("=");if(1<Ve.length){var Ct=Ve[0];Ve=Ve[1];var wt=Ct.split("_");se=2<=wt.length&&wt[1]=="type"?se+(Ct+"="+Ve+"&"):se+(Ct+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+y+`
`+_+`
`+se})}function If(c,y,_,S,H,$,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+y+`
`+_+`
`+$+" "+se})}function gr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ts(c,_)+(S?" "+S:"")})}function ju(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function Ts(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return zn(_)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ii(){}N(ii,Po),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ni=new ii;function Jt(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Bo={},ya={};function Bn(c,y,_){c.L=1,c.v=Rs(mn(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),bs(c),c.A=mn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),$o(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ht,c.g=tc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new xf(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(vs[0]=H.toString()),H=vs);for(var $=0;$<H.length;$++){var se=Pu(_,H[$],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pr(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Cn(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||wt!=4||y==7||(y==8||0>=zi?pr(3):pr(2)),vr(this);var _=this.g.Z();this.X=_;t:if(zu(this)){var S=$u(this.g);c="";var H=S.length,$=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),ri(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==H-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,If(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,bt=this.g;if((Pe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Pe)){var Ve=Pe;break t}}Ve=null}if(_=Ve)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,_);else{this.o=!1,this.s=3,tt(12),Vt(this),ri(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<se.length;)if(Lt=Bu(this,se),Lt==ya){wt==4&&(this.s=4,tt(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Bo){this.s=4,tt(15),gr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,Lt,null),ws(this,Lt);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,se,"[Invalid Chunked Response]"),Vt(this),ri(this);else if(0<se.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ms(Ct),Ct.M=!0,tt(11))}}else gr(this.i,this.l,se,null),ws(this,se);wt==4&&Vt(this),this.o&&!this.J&&(wt==4?Zu(this.j,this):(this.o=!1,bs(this)))}else kf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Vt(this),ri(this)}}}catch{}finally{}};function zu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ya:(_=Number(y.substring(_,S)),isNaN(_)?Bo:(S+=1,S+_>y.length?ya:(y=y.slice(S,S+_),c.C=S+_,y)))}Jt.prototype.cancel=function(){this.J=!0,Vt(this)};function bs(c){c.S=Date.now()+c.I,Hu(c,c.I)}function Hu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(T(c.ba,c),y)}function vr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ju(this.i,this.A),this.L!=2&&(pr(),tt(17)),Vt(this),this.s=2,ri(this)):Hu(this,this.S-c)};function ri(c){c.j.G==0||c.J||Zu(c.j,c)}function Vt(c){vr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,_s(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ws(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ho(_.h,c))){if(!c.K&&Ho(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ca(_),xa(_);else break e;Zo(_),tt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(T(_.Za,_),6e3));if(1>=_a(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ji(_,11)}else if((c.K||_.g==c)&&Ca(_),!Q(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Ve=H[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Ct=Ve[3];Ct!=null&&(_.la=Ct,_.j.info("VER="+_.la));const wt=Ve[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const zi=Ve[5];zi!=null&&typeof zi=="number"&&0<zi&&(S=1.5*zi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Lt=c.g;if(Lt){const hi=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var $=S.h;$.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ea($,$.h),$.h=null))}if(S.D){const el=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(S.ya=el,$e(S.I,S.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=c;if(S.qa=ec(S,S.J?S.ia:null,S.W),se.K){en(S.h,se);var Pe=se,bt=S.L;bt&&(Pe.I=bt),Pe.B&&(vr(Pe),bs(Pe)),S.g=se}else Xu(S);0<_.i.length&&Ia(_)}else Ve[0]!="stop"&&Ve[0]!="close"||ji(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ji(_,7):Xo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}pr(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function ki(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ea(c,y){c.g?c.g.add(y):c.h=y}function en(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ki.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return U(c.i)}function Cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ta(c),S=Cf(c),H=S.length,$=0;$<H;$++)y.call(void 0,S[$],_&&_[$],c)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),H=null;if(0<=S){var $=c[_].substring(0,S);H=c[_].substring(S+1)}else $=c[_];y($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,Ss(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.s),this.l=c.l;var y=c.i,_=new Pi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Mi(this,_),this.m=c.m}else c&&(y=String(c).match(As))?(this.h=!1,Ss(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),_r(this,y[4]),this.l=Rn(y[5]||"",!0),Mi(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xs(y,Go,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xs(_,_.charAt(0)=="/"?Df:Ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xs(_,ba)),c.join("")};function mn(c){return new gt(c)}function Ss(c,y,_){c.j=_?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mi(c,y,_){y instanceof Pi?(c.i=y,Gu(c.i,c.h)):(_||(y=xs(y,Of)),c.i=new Pi(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function Rs(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Fu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,Df=/[#\?]/g,Of=/[#\?@]/g,ba=/#/g;function Pi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Pi.prototype,i.add=function(c,y){xn(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Vi(c,y){xn(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Li(c,y){return xn(c),y=si(c,y),c.g.has(y)}i.forEach=function(c,y){xn(this),this.g.forEach(function(_,S){_.forEach(function(H){c.call(y,H,S,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const H=c[S];for(let $=0;$<H.length;$++)_.push(y[S])}return _},i.V=function(c){xn(this);let y=[];if(typeof c=="string")Li(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return xn(this),this.i=null,c=si(this,c),Li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function $o(c,y,_){Vi(c,y),0<_.length&&(c.i=null,c.g.set(si(c,y),U(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const $=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var H=$;se[S]!==""&&(H+="="+encodeURIComponent(String(se[S]))),c.push(H)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Gu(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Vi(this,S),$o(this,H,_))},c)),c.j=y}function Is(c,y){const _=new Sn;if(d.Image){const S=new Image;S.onload=I(In,_,"TestLoadImage: loaded",!0,y,S),S.onerror=I(In,_,"TestLoadImage: error",!1,y,S),S.onabort=I(In,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(In,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hn(c,y){const _=new Sn,S=new AbortController,H=setTimeout(()=>{S.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(H),$.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),In(_,"TestPingServer: error",!1,y)})}function In(c,y,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Cs(){this.g=new Es}function ai(c,y,_){const S=_||"";try{Fo(c,function(H,$){let se=H;g(H)&&(se=zn(H)),y.push(S+$+"="+encodeURIComponent(se))})}catch(H){throw y.push(S+"type="+encodeURIComponent("_badmap")),H}}function Er(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Er,Po),Er.prototype.g=function(){return new Ui(this.l,this.j)},Er.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ui,lt),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):li(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},i.Qa=function(c){this.g&&(this.response=c,oi(this))},i.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return ve(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function It(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,lt);var wa=/^https?$/i,Ns=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?Vo(this.o):Vo(ni),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Ku(this,$);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of _)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Ku(this,$)}};function Ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),ui(c)}function Aa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},i.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=se===0){var H=String(c.D).match(As)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),S=!wa.test(H?H.toLowerCase():"")}_=S}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var $=2<Cn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Aa(c)}}finally{ui(c)}}}}function ui(c,y){if(c.g){Ds(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ds(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pa(y)}};function $u(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Q(c[S]))continue;var _=V(c[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[H]||[];y[H]=$,$.push(_)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ra(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(c&&c.concurrentRequestLimit),this.Da=new Cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ra.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){tt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ec(this,null,this.W),Ia(this)};function Xo(c){if(Yu(c),c.G==3){var y=c.U++,_=mn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),ks(c,_),y=new Jt(c,c.j,y),y.L=2,y.v=Rs(mn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=tc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bs(y)}Ju(c)}function xa(c){c.g&&(Ms(c),c.g.cancel(),c.g=null)}function Yu(c){xa(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ia(c){if(!va(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),me||(oe(),me=!0),ze.add(y,c),c.B=0}}function Mf(c,y){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(T(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Jt(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),k($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Qu(this,H,y),_=mn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),ks(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Qo($)))+"&"+y:this.m&&It(_,this.m,$)),Ea(this.h,H),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),H.T=!0,Bn(H,_,null)):Bn(H,_,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||va(this.h)||Wo(this))};function Wo(c,y){var _;y?_=y.l:_=c.U++;const S=mn(c.I);$e(S,"SID",c.K),$e(S,"RID",_),$e(S,"AID",c.T),ks(c,S),c.m&&c.o&&It(S,c.m,c.o),_=new Jt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,_),Bn(_,S,y)}function ks(c,y){c.H&&ve(c.H,function(_,S){$e(y,S,_)}),c.l&&Fo({},function(_,S){$e(y,S,_)})}function Qu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;e:{var H=c.i;let $=-1;for(;;){const se=["count="+_];$==-1?0<_?($=H[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let Pe=!0;for(let bt=0;bt<_;bt++){let Ve=H[bt].g;const Ct=H[bt].map;if(Ve-=$,0>Ve)$=Math.max(0,H[bt].g-100),Pe=!1;else try{ai(Ct,se,"req"+Ve+"_")}catch{S&&S(Ct)}}if(Pe){S=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Xu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),me||(oe(),me=!0),ze.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(T(c.Fa,c),Jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),xa(this),Wu(this))};function Ms(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Wu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&It(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Rs(mn(y)),_.m=null,_.P=!0,Oi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,xa(this),Zo(this),tt(19))};function Ca(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Zu(c,y){var _=null;if(c.g==y){Ca(c),Ms(c),c.g=null;var S=2}else if(Ho(c.h,y))_=y.D,en(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;S=mr(),Fe(S,new Tt(S,_)),Ia(c)}else Xu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(S==1&&Mf(c,y)||S==2&&Zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Jo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ji(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),S=c.Xa;const H=!S;S=new gt(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ss(S,"https"),Rs(S),H?Is(S.toString(),_):Hn(S.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(y),Ju(c),Yu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Ju(c){if(c.G=0,c.ka=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function ec(c,y,_){var S=_ instanceof gt?mn(_):new gt(_);if(S.g!="")y&&(S.g=y+"."+S.g),_r(S,S.s);else{var H=d.location;S=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var $=new gt(null);S&&Ss($,S),y&&($.g=y),H&&_r($,H),_&&($.l=_),S=$}return _=c.D,y=c.ya,_&&y&&$e(S,_,y),$e(S,"VER",c.la),ks(c,S),S}function tc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new Er({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Na(){}Na.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){lt.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ci(this)}N(tn,lt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new qu(y.Ya++,c)),y.G==3&&Ia(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,tn.aa.N.call(this)};function ic(c){Ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(ic,Ni);function rc(){Uo.call(this),this.status=1}N(rc,Uo);function ci(c){this.g=c}N(ci,nc),ci.prototype.ua=function(){Fe(this.g,"a")},ci.prototype.ta=function(c){Fe(this.g,new ic(c))},ci.prototype.sa=function(c){Fe(this.g,new rc)},ci.prototype.ra=function(){Fe(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,hb=function(){return new Na},cb=function(){return mr()},ub=ti,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Th=yr,Di.COMPLETE="complete",lb=Di,Lo.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",lt.prototype.listen=lt.prototype.K,$l=Lo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,ob=He}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",z0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Vp("@firebase/firestore");function so(){return sa.logLevel}function ce(i,...e){if(sa.logLevel<=ke.DEBUG){const t=e.map(Wp);sa.debug(`Firestore (${xo}): ${i}`,...t)}}function cr(i,...e){if(sa.logLevel<=ke.ERROR){const t=e.map(Wp);sa.error(`Firestore (${xo}): ${i}`,...t)}}function po(i,...e){if(sa.logLevel<=ke.WARN){const t=e.map(Wp);sa.warn(`Firestore (${xo}): ${i}`,...t)}}function Wp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,fb(i,s,t)}function fb(i,e,t){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw cr(s),new Error(s)}function qe(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||fb(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class m2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class p2{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new db(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class g2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new B0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function sp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=mb(),h=E2(u.encode(H0(i,t)),u.encode(H0(e,t)));return h!==0?h:Ie(s,o)}}t+=s>65535?2:1}return Ie(i.length,e.length)}function H0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function E2(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ie(i[t],e[t]);return Ie(i.length,e.length)}function go(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-62135596800,F0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*F0);return new it(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<q0)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__name__";class vi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=vi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ie(e.length,t.length)}static compareSegments(e,t){const s=vi.isNumericId(e),o=vi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(e).compare(vi.extractNumericId(t)):sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class et extends vi{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const T2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends vi{construct(e,t,s){return new qt(e,t,s)}static isValidIdentifier(e){return T2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G0}static keyField(){return new qt([G0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function b2(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new it(t+1,0):new it(t,s));return new Jr(o,pe.empty(),e)}function w2(i){return new Jr(i.readTime,i.key,uu)}class Jr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Jr(Ae.min(),pe.empty(),uu)}static max(){return new Jr(Ae.max(),pe.empty(),uu)}}function A2(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==S2)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++d,d===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function x2(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}sf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-1;function af(i){return i==null}function Lh(i){return i===0&&1/i==-1/0}function I2(i){return typeof i=="number"&&Number.isInteger(i)&&!Lh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="";function C2(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=K0(e)),e=N2(i.get(t),e);return K0(e)}function N2(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case gb:t+="";break;default:t+=u}}return t}function K0(i){return i+gb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function yb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Bt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new wn([])}unionWith(e){let t=new Rt(qt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vb("Invalid base64 string: "+u):u}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const D2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(i){if(qe(!!i,39018),typeof i=="string"){let e=0;const t=D2.exec(i);if(qe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ts(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="server_timestamp",Eb="__type__",Tb="__previous_value__",bb="__local_write_time__";function Jp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Eb])===null||t===void 0?void 0:t.stringValue)===_b}function of(i){const e=i.mapValue.fields[Tb];return Jp(e)?of(e):e}function cu(i){const e=es(i.mapValue.fields[bb].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t,s,o,u,h,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Uh="(default)";class hu{constructor(e,t){this.projectId=e,this.database=t||Uh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__type__",k2="__max__",uh={mapValue:{}},Ab="__vector__",jh="value";function ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jp(i)?4:P2(i)?9007199254740991:M2(i)?10:11:Te(28295,{value:i})}function Ai(i,e){if(i===e)return!0;const t=ns(i);if(t!==ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return cu(i).isEqual(cu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=es(o.timestampValue),d=es(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=mt(o.doubleValue),d=mt(u.doubleValue);return h===d?Lh(h)===Lh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if($0(h)!==$0(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ai(h[p],d[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function fu(i,e){return(i.values||[]).find(t=>Ai(t,e))!==void 0}function yo(i,e){if(i===e)return 0;const t=ns(i),s=ns(e);if(t!==s)return Ie(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=mt(u.integerValue||u.doubleValue),p=mt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return Q0(i.timestampValue,e.timestampValue);case 4:return Q0(cu(i),cu(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return function(u,h){const d=ts(u),p=ts(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ie(d[g],p[g]);if(v!==0)return v}return Ie(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ie(mt(u.latitude),mt(h.latitude));return d!==0?d:Ie(mt(u.longitude),mt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return X0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,v;const b=u.fields||{},T=h.fields||{},I=(d=b[jh])===null||d===void 0?void 0:d.arrayValue,N=(p=T[jh])===null||p===void 0?void 0:p.arrayValue,U=Ie(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:X0(I,N)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const T=sp(p[b],v[b]);if(T!==0)return T;const I=yo(d[p[b]],g[v[b]]);if(I!==0)return I}return Ie(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:t})}}function Q0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const t=es(i),s=es(e),o=Ie(t.seconds,s.seconds);return o!==0?o:Ie(t.nanos,s.nanos)}function X0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=yo(t[o],s[o]);if(u)return u}return Ie(t.length,s.length)}function vo(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=es(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ts(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return pe.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ap(t.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function bh(i){switch(ns(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(i);return e?16+bh(e):16;case 5:return 2*i.stringValue.length;case 6:return ts(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+bh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,h)=>{o+=u.length+bh(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function W0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function op(i){return!!i&&"integerValue"in i}function eg(i){return!!i&&"arrayValue"in i}function Z0(i){return!!i&&"nullValue"in i}function J0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function M2(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[wb])===null||t===void 0?void 0:t.stringValue)===Ab}function Jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Jl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function P2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===k2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}setAll(e){let t=qt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=Jl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){us(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new fn(Jl(this.value))}}function Sb(i){const e=[];return us(i.fields,(t,s)=>{const o=new qt([t]);if(wh(s)){const u=Sb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),fn.empty(),0)}static newFoundDocument(e,t,s,o){return new Xt(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new Xt(e,2,t,Ae.min(),Ae.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Ae.min(),Ae.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.position=e,this.inclusive=t}}function eE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=yo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function tE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ai(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function V2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{}class Et extends Rb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new U2(e,t,s):t==="array-contains"?new B2(e,s):t==="in"?new H2(e,s):t==="not-in"?new q2(e,s):t==="array-contains-any"?new F2(e,s):new Et(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new j2(e,s):new z2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yo(t,this.value)):t!==null&&ns(this.value)===ns(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Rb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Xn(e,t)}matches(e){return xb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function xb(i){return i.op==="and"}function Ib(i){return L2(i)&&xb(i)}function L2(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function lp(i){if(i instanceof Et)return i.field.canonicalString()+i.op.toString()+vo(i.value);if(Ib(i))return i.filters.map(e=>lp(e)).join(",");{const e=i.filters.map(t=>lp(t)).join(",");return`${i.op}(${e})`}}function Cb(i,e){return i instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,e):i instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&Cb(h,o.filters[d]),!0):!1}(i,e):void Te(19439)}function Nb(i){return i instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${vo(t.value)}`}(i):i instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(Nb).join(" ,")+"}"}(i):"Filter"}class U2 extends Et{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class j2 extends Et{constructor(e,t){super(e,"in",t),this.keys=Db("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class z2 extends Et{constructor(e,t){super(e,"not-in",t),this.keys=Db("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Db(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class B2 extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&fu(t.arrayValue,this.value)}}class H2 extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}}class q2 extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fu(this.value.arrayValue,t)}}class F2 extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Ie=null}}function nE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new G2(i,e,t,s,o,u,h)}function tg(i){const e=Se(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>lp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vo(s)).join(",")),e.Ie=t}return e.Ie}function ng(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!V2(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Cb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tE(i.startAt,e.startAt)&&tE(i.endAt,e.endAt)}function up(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function K2(i,e,t,s,o,u,h,d){return new Ru(i,e,t,s,o,u,h,d)}function ig(i){return new Ru(i)}function iE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Ob(i){return i.collectionGroup!==null}function eu(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Rt(qt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Bh(u,s))}),t.has(qt.keyField().canonicalString())||e.Ee.push(new Bh(qt.keyField(),s))}return e.Ee}function bi(i){const e=Se(i);return e.de||(e.de=$2(e,eu(i))),e.de}function $2(i,e){if(i.limitType==="F")return nE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)});const t=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return nE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function cp(i,e){const t=i.filters.concat([e]);return new Ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function hp(i,e,t){return new Ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function lf(i,e){return ng(bi(i),bi(e))&&i.limitType===e.limitType}function kb(i){return`${tg(bi(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Nb(o)).join(", ")}]`),af(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>vo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>vo(o)).join(",")),`Target(${s})`}(bi(i))}; limitType=${i.limitType})`}function uf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=eE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(h,d,p){const g=eE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(i,e)}function Y2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Mb(i){return(e,t)=>{let s=!1;for(const o of eu(i)){const u=Q2(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Q2(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?yo(p,g):Te(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new at(pe.comparator);function hr(){return X2}const Pb=new at(pe.comparator);function Yl(...i){let e=Pb;for(const t of i)e=e.insert(t.key,t);return e}function Vb(i){let e=Pb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Js(){return tu()}function Lb(){return tu()}function tu(){return new ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const W2=new at(pe.comparator),Z2=new Rt(pe.comparator);function Me(...i){let e=Z2;for(const t of i)e=e.add(t);return e}const J2=new Rt(Ie);function eN(){return J2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function Ub(i){return{integerValue:""+i}}function tN(i,e){return I2(e)?Ub(e):rg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function nN(i,e,t){return i instanceof du?function(o,u){const h={fields:{[Eb]:{stringValue:_b},[bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=of(u)),u&&(h.fields[Tb]=u),{mapValue:h}}(t,e):i instanceof mu?zb(i,e):i instanceof pu?Bb(i,e):function(o,u){const h=jb(o,u),d=rE(h)+rE(o.Re);return op(h)&&op(o.Re)?Ub(d):rg(o.serializer,d)}(i,e)}function iN(i,e,t){return i instanceof mu?zb(i,e):i instanceof pu?Bb(i,e):t}function jb(i,e){return i instanceof Hh?function(s){return op(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class du extends cf{}class mu extends cf{constructor(e){super(),this.elements=e}}function zb(i,e){const t=Hb(e);for(const s of i.elements)t.some(o=>Ai(o,s))||t.push(s);return{arrayValue:{values:t}}}class pu extends cf{constructor(e){super(),this.elements=e}}function Bb(i,e){let t=Hb(e);for(const s of i.elements)t=t.filter(o=>!Ai(o,s));return{arrayValue:{values:t}}}class Hh extends cf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function rE(i){return mt(i.integerValue||i.doubleValue)}function Hb(i){return eg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.field=e,this.transform=t}}function sN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?go(s.elements,o.elements,Ai):s instanceof Hh&&o instanceof Hh?Ai(s.Re,o.Re):s instanceof du&&o instanceof du}(i.transform,e.transform)}class aN{constructor(e,t){this.version=e,this.transformResults=t}}class Ln{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hf{}function qb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new sg(i.key,Ln.none()):new xu(i.key,i.data,Ln.none());{const t=i.data,s=fn.empty();let o=new Rt(qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new cs(i.key,s,new wn(o.toArray()),Ln.none())}}function oN(i,e,t){i instanceof xu?function(o,u,h){const d=o.value.clone(),p=aE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof cs?function(o,u,h){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=aE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Fb(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function nu(i,e,t,s){return i instanceof xu?function(u,h,d,p){if(!Ah(u.precondition,h))return d;const g=u.value.clone(),v=oE(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof cs?function(u,h,d,p){if(!Ah(u.precondition,h))return d;const g=oE(u.fieldTransforms,p,h),v=h.data;return v.setAll(Fb(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,h,d){return Ah(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function lN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=jb(s.transform,o||null);u!=null&&(t===null&&(t=fn.empty()),t.set(s.field,u))}return t||null}function sE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,h)=>sN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xu extends hf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends hf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function aE(i,e,t){const s=new Map;qe(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,iN(h,d,t[o]))}return s}function oE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,nN(u,h,e))}return s}class sg extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=nu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=nu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Lb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=qb(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(t,s)=>sE(t,s))&&go(this.baseMutations,e.baseMutations,(t,s)=>sE(t,s))}}class ag{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){qe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return W2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ag(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function dN(i){switch(i){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function Gb(i){if(i===void 0)return cr("GRPC error has no .code"),te.UNKNOWN;switch(i){case _t.OK:return te.OK;case _t.CANCELLED:return te.CANCELLED;case _t.UNKNOWN:return te.UNKNOWN;case _t.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case _t.INTERNAL:return te.INTERNAL;case _t.UNAVAILABLE:return te.UNAVAILABLE;case _t.UNAUTHENTICATED:return te.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case _t.NOT_FOUND:return te.NOT_FOUND;case _t.ALREADY_EXISTS:return te.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return te.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case _t.ABORTED:return te.ABORTED;case _t.OUT_OF_RANGE:return te.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return te.UNIMPLEMENTED;case _t.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Xr([4294967295,4294967295],0);function lE(i){const e=mb().encode(i),t=new ab;return t.update(e),new Uint8Array(t.digest())}function uE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xr([t,s],0),new Xr([o,u],0)]}class og{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ql(`Invalid padding: ${t}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Xr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Xr.fromNumber(s)));return o.compare(mN)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=lE(e),[s,o]=uE(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new og(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.pe===0)return;const t=lE(e),[s,o]=uE(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ff(Ae.min(),o,new at(Ie),hr(),Me())}}class Iu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Iu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class Kb{constructor(e,t){this.targetId=e,this.Ce=t}}class $b{constructor(e,t,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class cE{constructor(){this.Fe=0,this.Me=hE(),this.xe=Ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),s=Me();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Iu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=hE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pN{constructor(e){this.ze=e,this.je=new Map,this.He=hr(),this.Je=ch(),this.Ye=ch(),this.Ze=new at(Ie)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(up(u))if(s===0){const h=new pe(u.path);this.tt(t,h,Xt.newNoDocument(h,Ae.min()))}else qe(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const d=this.ct(e),p=d?this.lt(d,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ts(s).toUint8Array()}catch(p){if(p instanceof vb)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new og(h,o,u)}catch(p){return po(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const d=this._t(h);if(d){if(u.current&&up(d.target)){const p=new pe(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Xt.newNoDocument(p,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=Me();this.Ye.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new ff(e,t,this.Ze,this.He,s);return this.He=hr(),this.Je=ch(),this.Ye=ch(),this.Ze=new at(Ie),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new cE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Rt(Ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Rt(Ie),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new cE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ch(){return new at(pe.comparator)}function hE(){return new at(pe.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vN={and:"AND",or:"OR"};class _N{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fp(i,e){return i.useProto3Json||af(e)?e:{value:e}}function qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function EN(i,e){return qh(i,e.toTimestamp())}function wi(i){return qe(!!i,49232),Ae.fromTimestamp(function(t){const s=es(t);return new it(s.seconds,s.nanos)}(i))}function lg(i,e){return dp(i,e).canonicalString()}function dp(i,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Qb(i){const e=et.fromString(i);return qe(ew(e),10190,{key:e.toString()}),e}function mp(i,e){return lg(i.databaseId,e.path)}function Bm(i,e){const t=Qb(e);if(t.get(1)!==i.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(Wb(t))}function Xb(i,e){return lg(i.databaseId,e)}function TN(i){const e=Qb(i);return e.length===4?et.emptyPath():Wb(e)}function pp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wb(i){return qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function fE(i,e,t){return{name:mp(i,e),fields:t.value.mapValue.fields}}function bN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(qe(v===void 0||typeof v=="string",58123),Ft.fromBase64String(v||"")):(qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ft.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const v=g.code===void 0?te.UNKNOWN:Gb(g.code);return new he(v,g.message||"")}(h);t=new $b(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bm(i,s.document.name),u=wi(s.document.updateTime),h=s.document.createTime?wi(s.document.createTime):Ae.min(),d=new fn({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,h,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Sh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bm(i,s.document),u=s.readTime?wi(s.readTime):Ae.min(),h=Xt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Sh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bm(i,s.document),u=s.removedTargetIds||[];t=new Sh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new fN(o,u),d=s.targetId;t=new Kb(d,h)}}return t}function wN(i,e){let t;if(e instanceof xu)t={update:fE(i,e.key,e.value)};else if(e instanceof sg)t={delete:mp(i,e.key)};else if(e instanceof cs)t={update:fE(i,e.key,e.data),updateMask:ON(e.fieldMask)};else{if(!(e instanceof uN))return Te(16599,{ft:e.type});t={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof du)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Hh)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:EN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),t}function AN(i,e){return i&&i.length>0?(qe(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?wi(o.updateTime):wi(u);return h.isEqual(Ae.min())&&(h=wi(u)),new aN(h,o.transformResults||[])}(t,e))):[]}function SN(i,e){return{documents:[Xb(i,e.path)]}}function RN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Xb(i,o);const u=function(g){if(g.length!==0)return Jb(Xn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:oo(T.field),direction:CN(T.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=fp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function xN(i){let e=TN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){qe(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(b){const T=Zb(b);return T instanceof Xn&&Ib(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(T=>function(N){return new Bh(lo(N.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(b){let T;return T=typeof b=="object"?b.value:b,af(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(b){const T=!!b.before,I=b.values||[];return new zh(I,T)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const T=!b.before,I=b.values||[];return new zh(I,T)}(t.endAt)),K2(e,o,h,u,d,"F",p,g)}function IN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(t.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(t.unaryFilter.field);return Et.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(t){return Et.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(s=>Zb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(i):Te(30097,{filter:i})}function CN(i){return gN[i]}function NN(i){return yN[i]}function DN(i){return vN[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return qt.fromServerFormat(i.fieldPath)}function Jb(i){return i instanceof Et?function(t){if(t.op==="=="){if(J0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(Z0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(J0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(Z0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:NN(t.op),value:t.value}}}(i):i instanceof Xn?function(t){const s=t.getFilters().map(o=>Jb(o));return s.length===1?s[0]:{compositeFilter:{op:DN(t.op),filters:s}}}(i):Te(54877,{filter:i})}function ON(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ew(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),d=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.wt=e}}function MN(i){const e=xN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Cn=new VN}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Jr.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class VN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Rt(et.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tw=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(tw,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new _o(0)}static lr(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",LN=1048576;function pE([i,e],[t,s]){const o=Ie(i,t);return o===0?Ie(e,s):o}class UN{constructor(e){this.Er=e,this.buffer=new Rt(pE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();pE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(mE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Co(t)?ce(mE,"Ignoring IndexedDB error during garbage collection: ",t):await Io(t)}await this.mr(3e5)})}}class zN{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(sf.le);const s=new UN(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(dE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),so()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function BN(i,e){return new zN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.changes=new ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&nu(s.mutation,o,wn.empty(),it.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const o=Js();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Yl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Js();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=hr();const h=tu(),d=function(){return tu()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof cs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),nu(v.mutation,g,v.mutation.getFieldMask(),it.now())):h.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var b;return d.set(g,new qN(v,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=tu();let o=new at((h,d)=>h-d),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||wn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const b=(o.get(d.batchId)||Me()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=Lb();v.forEach(T=>{if(!u.has(T)){const I=qb(t.get(T),s.get(T));I!==null&&b.set(T,I),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ob(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve(Js());let d=uu,p=u;return h.next(g=>ee.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(v=>({batchId:d,changes:Vb(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next(d=>ee.forEach(d,p=>{const g=function(b,T){return new Ru(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((b,T)=>{h=h.insert(b,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Xt.newInvalidDocument(v)))});let d=Yl();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&nu(v.mutation,g,wn.empty(),it.now()),uf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ee.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:MN(o.bundledQuery),readTime:wi(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.overlays=new at(pe.comparator),this.Qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Js();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=Js(),u=t.length+1,h=new pe(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new at((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Js(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return ee.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new hN(t,s));let u=this.Qr.get(t);u===void 0&&(u=Me(),this.Qr.set(t,u)),this.Qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.$r=new Rt(kt.Ur),this.Kr=new Rt(kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new kt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new kt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new pe(new et([])),s=new kt(t,e),o=new kt(t,e+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new pe(new et([])),s=new kt(t,e),o=new kt(t,e+1);let u=Me();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new kt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return pe.comparator(e.key,t.key)||Ie(e.Zr,t.Zr)}static Wr(e,t){return Ie(e.Zr,t.Zr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Rt(kt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cN(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Xr=this.Xr.add(new kt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Zp:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const d=this.ei(h.Zr);u.push(d)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Rt(Ie);return t.forEach(o=>{const u=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],d=>{s=s.add(d.Zr)})}),ee.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new kt(new pe(u),0);let d=new Rt(Ie);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Zr)),!0)},h),ee.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ee.forEach(t.mutations,o=>{const u=new kt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new kt(t,0),o=this.Xr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.ii=e,this.docs=function(){return new at(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let s=hr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=hr();const h=t.path,d=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||A2(w2(v),s)<=0||(o.has(v.key)||uf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}si(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new XN(this)}getSize(e){return ee.resolve(this.size)}}class XN extends HN{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.oi=new ua(t=>tg(t),ng),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new ug,this.targetCount=0,this.ui=_o.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),ee.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new _o(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Tr(t),ee.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.oi.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.ci={},this.overlays={},this.li=new sf(0),this.hi=!1,this.hi=!0,this.Pi=new $N,this.referenceDelegate=e(this),this.Ti=new WN(this),this.indexManager=new PN,this.remoteDocumentCache=function(o){return new QN(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new kN(t),this.Ei=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new YN(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new ZN(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,t){return ee.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class ZN extends R2{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Vi=new ug,this.mi=null}static fi(e){return new cg(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,s=>{const o=pe.fromPath(s);return this.pi(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ee.or([()=>ee.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Fh{constructor(e,t){this.persistence=e,this.yi=new ua(s=>C2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=BN(this,t)}static fi(e,t){return new Fh(e,t)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return ee.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bh(e.data.value)),t}Dr(e,t,s){return ee.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=Me(),o=Me();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return MR()?8:x2(Zt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new JN;return this.Ss(e,t,h).next(d=>{if(u.result=d,this.fs)return this.Ds(e,t,h,d.size)})}).next(()=>u.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(so()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(so()<=ke.DEBUG&&ce("QueryEngine","Query:",ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(so()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):ee.resolve())}ws(e,t){if(iE(t))return ee.resolve(null);let s=bi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=hp(t,null,"F"),s=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Me(...u);return this.ys.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(t,d);return this.Cs(t,g,h,p.readTime)?this.ws(e,hp(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,s,o){return iE(t)||o.isEqual(Ae.min())?ee.resolve(null):this.ys.getDocuments(e,s).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,s,o)?ee.resolve(null):(so()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.Fs(e,h,t,b2(o,uu)).next(d=>d))})}vs(e,t){let s=new Rt(Mb(e));return t.forEach((o,u)=>{uf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return so()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ao(t)),this.ys.getDocumentsMatchingQuery(e,t,Jr.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",tD=3e8;class nD{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new at(Ie),this.Os=new ua(u=>tg(u),ng),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function iD(i,e,t,s){return new nD(i,e,t,s)}async function iw(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Me();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:d}))})})}function rD(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const b=g.batch,T=b.keys();let I=ee.resolve();return T.forEach(N=>{I=I.next(()=>v.getEntry(p,N)).next(U=>{const B=g.docVersions.get(N);qe(B!==null,48541),U.version.compareTo(B)<0&&(b.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Me();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function rw(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function sD(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach((v,b)=>{const T=o.get(b);if(!T)return;d.push(t.Ti.removeMatchingKeys(u,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(u,v.addedDocuments,b)));let I=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(b,I),function(U,B,Y){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=tD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,I,v)&&d.push(t.Ti.updateTargetData(u,I))});let p=hr(),g=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(aD(u,h,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!s.isEqual(Ae.min())){const v=t.Ti.getLastRemoteSnapshotVersion(u).next(b=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return ee.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.xs=o,u))}function aD(i,e,t){let s=Me(),o=Me();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=hr();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ce(fg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function oD(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Zp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lD(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.Ti.allocateTargetId(s).next(h=>(o=new $r(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function gp(i,e,t){const s=Se(i),o=s.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Co(h))throw h;ce(fg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function gE(i,e,t){const s=Se(i);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=Se(p),T=b.Os.get(v);return T!==void 0?ee.resolve(b.xs.get(T)):b.Ti.getTargetData(g,v)}(s,h,bi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Me())).next(d=>(uD(s,Y2(e),d),{documents:d,$s:u})))}function uD(i,e,t){let s=i.Ns.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class yE{constructor(){this.activeTargetIds=eN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.xo=new yE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new yE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="ConnectivityMonitor";class _E{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(vE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(vE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function yp(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,u){const h=yp(),d=this.jo(e,t.toUriEncodedString());ce(Hm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(d),v=oa(g);return this.Jo(e,d,p,s,v).then(b=>(ce(Hm,`Received RPC '${e}' ${h}: `,b),b),b=>{throw po(Hm,`RPC '${e}' ${h} failed with error: `,b,"url: ",d,"request:",s),b})}Yo(e,t,s,o,u,h){return this.zo(e,t,s,o,u)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,t){const s=fD[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class pD extends dD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=yp();return new Promise((d,p)=>{const g=new ob;g.setWithCredentials(!0),g.listenOnce(lb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Th.NO_ERROR:const b=g.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Th.TIMEOUT:ce(Yt,`RPC '${e}' ${h} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const T=g.getStatus();if(ce(Yt,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const U=function(Y){const Q=Y.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN}(N.status);p(new he(U,N.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ce(Yt,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ce(Yt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",v,s,15)})}I_(e,t,s){const o=yp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=hb(),d=cb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ce(Yt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.E_(b);let T=!1,I=!1;const N=new mD({Zo:B=>{I?ce(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(ce(Yt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ce(Yt,`RPC '${e}' stream ${o} sending:`,B),b.send(B))},Xo:()=>b.close()}),U=(B,Y,Q)=>{B.listen(Y,ne=>{try{Q(ne)}catch(ae){setTimeout(()=>{throw ae},0)}})};return U(b,$l.EventType.OPEN,()=>{I||(ce(Yt,`RPC '${e}' stream ${o} transport opened.`),N.__())}),U(b,$l.EventType.CLOSE,()=>{I||(I=!0,ce(Yt,`RPC '${e}' stream ${o} transport closed`),N.u_(),this.d_(b))}),U(b,$l.EventType.ERROR,B=>{I||(I=!0,po(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),N.u_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),U(b,$l.EventType.MESSAGE,B=>{var Y;if(!I){const Q=B.data[0];qe(!!Q,16349);const ne=Q,ae=(ne==null?void 0:ne.error)||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(ae){ce(Yt,`RPC '${e}' stream ${o} received error:`,ae);const ue=ae.status;let ve=function(x){const k=_t[x];if(k!==void 0)return Gb(k)}(ue),M=ae.message;ve===void 0&&(ve=te.INTERNAL,M="Unknown error status: "+ue+" with message "+ae.message),I=!0,N.u_(new he(ve,M)),b.close()}else ce(Yt,`RPC '${e}' stream ${o} received:`,Q),N.c_(Q)}}),U(d,ub.STAT_EVENT,B=>{B.stat===rp.PROXY?ce(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===rp.NOPROXY&&ce(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(i){return new _N(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class aw{constructor(e,t,s,o,u,h,d,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new sw(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===t&&this.z_(s,o)},s=>{e(()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ce(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gD extends aw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=bN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?wi(h.readTime):Ae.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=pp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=up(p)?{documents:SN(u,p)}:{query:RN(u,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Yb(u,h.resumeToken);const g=fp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){d.readTime=qh(u,h.snapshotVersion.toTimestamp());const g=fp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=IN(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=pp(this.serializer),t.removeTarget=e,this.Q_(t)}}class yD extends aw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=AN(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=pp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>wN(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{}class _D extends vD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,dp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())})}Yo(e,t,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Yo(e,dp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(te.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ED{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(cr(t),this.ua=!1):ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class TD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{s.enqueueAndForget(async()=>{ca(this)&&(ce(aa,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.da.add(4),await Cu(g),g.Va.set("Unknown"),g.da.delete(4),await mf(g)}(this))})}),this.Va=new ED(s,o)}}async function mf(i){if(ca(i))for(const e of i.Aa)await e(!0)}async function Cu(i){for(const e of i.Aa)await e(!1)}function ow(i,e){const t=Se(i);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),gg(t)?pg(t):No(t).N_()&&mg(t,e))}function dg(i,e){const t=Se(i),s=No(t);t.Ea.delete(e),s.N_()&&lw(t,e),t.Ea.size===0&&(s.N_()?s.k_():ca(t)&&t.Va.set("Unknown"))}function mg(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}No(i).Z_(e)}function lw(i,e){i.ma.Ke(e),No(i).X_(e)}function pg(i){i.ma=new pN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),No(i).start(),i.Va.ca()}function gg(i){return ca(i)&&!No(i).O_()&&i.Ea.size>0}function ca(i){return Se(i).da.size===0}function uw(i){i.ma=void 0}async function bD(i){i.Va.set("Online")}async function wD(i){i.Ea.forEach((e,t)=>{mg(i,e)})}async function AD(i,e){uw(i),gg(i)?(i.Va.Pa(e),pg(i)):i.Va.set("Unknown")}async function SD(i,e,t){if(i.Va.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ea.delete(d),o.ma.removeTarget(d))}(i,e)}catch(s){ce(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(i,s)}else if(e instanceof Sh?i.ma.Xe(e):e instanceof Kb?i.ma.ot(e):i.ma.nt(e),!t.isEqual(Ae.min()))try{const s=await rw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.ma.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ea.get(g);v&&u.Ea.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u.Ea.get(p);if(!v)return;u.Ea.set(p,v.withResumeToken(Ft.EMPTY_BYTE_STRING,v.snapshotVersion)),lw(u,p);const b=new $r(v.target,p,g,v.sequenceNumber);mg(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){ce(aa,"Failed to raise snapshot:",s),await Gh(i,s)}}async function Gh(i,e,t){if(!Co(e))throw e;i.da.add(1),await Cu(i),i.Va.set("Offline"),t||(t=()=>rw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(aa,"Retrying IndexedDB access"),await t(),i.da.delete(1),await mf(i)})}function cw(i,e){return e().catch(t=>Gh(i,t,e))}async function pf(i){const e=Se(i),t=is(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Zp;for(;RD(e);)try{const o=await oD(e.localStore,s);if(o===null){e.Ia.length===0&&t.k_();break}s=o.batchId,xD(e,o)}catch(o){await Gh(e,o)}hw(e)&&fw(e)}function RD(i){return ca(i)&&i.Ia.length<10}function xD(i,e){i.Ia.push(e);const t=is(i);t.N_()&&t.ea&&t.ta(e.mutations)}function hw(i){return ca(i)&&!is(i).O_()&&i.Ia.length>0}function fw(i){is(i).start()}async function ID(i){is(i).ia()}async function CD(i){const e=is(i);for(const t of i.Ia)e.ta(t.mutations)}async function ND(i,e,t){const s=i.Ia.shift(),o=ag.from(s,e,t);await cw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await pf(i)}async function DD(i,e){e&&is(i).ea&&await async function(s,o){if(function(h){return dN(h)&&h!==te.ABORTED}(o.code)){const u=s.Ia.shift();is(s).L_(),await cw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await pf(s)}}(i,e),hw(i)&&fw(i)}async function TE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ce(aa,"RemoteStore received new credentials");const s=ca(t);t.da.add(3),await Cu(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await mf(t)}async function OD(i,e){const t=Se(i);e?(t.da.delete(2),await mf(t)):e||(t.da.add(2),await Cu(t),t.Va.set("Unknown"))}function No(i){return i.fa||(i.fa=function(t,s,o){const u=Se(t);return u.oa(),new gD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:bD.bind(null,i),n_:wD.bind(null,i),i_:AD.bind(null,i),Y_:SD.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),gg(i)?pg(i):i.Va.set("Unknown")):(await i.fa.stop(),uw(i))})),i.fa}function is(i){return i.ga||(i.ga=function(t,s,o){const u=Se(t);return u.oa(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:ID.bind(null,i),i_:DD.bind(null,i),na:CD.bind(null,i),ra:ND.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await pf(i)):(await i.ga.stop(),i.Ia.length>0&&(ce(aa,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new yg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(i,e){if(cr("AsyncQueue",`${e}: ${i}`),Co(i))return new he(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Yl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.pa=new at(pe.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Eo{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Eo(e,t,mo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class MD{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=wE(),u.forEach((h,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function wE(){return new ua(i=>kb(i),lf)}async function dw(i,e){const t=Se(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new kD,s=e.va()?0:1);try{switch(s){case 0:u.ba=await t.onListen(o,!0);break;case 1:u.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=vg(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.Fa(t.onlineState),u.ba&&e.Ma(u.ba)&&_g(t)}async function mw(i,e){const t=Se(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function PD(i,e){const t=Se(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Ma(o)&&(s=!0);h.ba=o}}s&&_g(t)}function VD(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function _g(i){i.Ca.forEach(e=>{e.next()})}var vp,AE;(AE=vp||(vp={})).xa="default",AE.Cache="cache";class pw{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.key=e}}class yw{constructor(e){this.key=e}}class LD{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.Za=Mb(e),this.Xa=new mo(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new bE,o=t?t.Xa:this.Xa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const T=o.get(v),I=uf(this.query,b)?b:null,N=!!T&&this.mutatedKeys.has(T.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let B=!1;T&&I?T.data.isEqual(I.data)?N!==U&&(s.track({type:3,doc:I}),B=!0):this.ru(T,I)||(s.track({type:2,doc:I}),B=!0,(p&&this.Za(I,p)>0||g&&this.Za(I,g)<0)&&(d=!0)):!T&&I?(s.track({type:0,doc:I}),B=!0):T&&!I&&(s.track({type:1,doc:T}),B=!0,(p||g)&&(d=!0)),B&&(I?(h=h.add(I),u=U?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Xa:h,nu:s,Cs:d,mutatedKeys:u}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((v,b)=>function(I,N){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:B})}};return U(I)-U(N)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(s),o=o!=null&&o;const d=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new Eo(this.query,e.Xa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new bE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new yw(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new gw(s))}),t}au(e){this.Ha=e.$s,this.Ya=Me();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Eo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Eg="SyncEngine";class UD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class jD{constructor(e){this.key=e,this.cu=!1}}class zD{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new ua(d=>kb(d),lf),this.Pu=new Map,this.Tu=new Set,this.Iu=new at(pe.comparator),this.Eu=new Map,this.du=new ug,this.Au={},this.Ru=new Map,this.Vu=_o.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function BD(i,e,t=!0){const s=ww(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await vw(s,e,t,!0),o}async function HD(i,e){const t=ww(i);await vw(t,e,!0,!1)}async function vw(i,e,t,s){const o=await lD(i.localStore,bi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await qD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&ow(i.remoteStore,o),d}async function qD(i,e,t,s,o){i.fu=(b,T,I)=>async function(U,B,Y,Q){let ne=B.view.tu(Y);ne.Cs&&(ne=await gE(U.localStore,B.query,!1).then(({documents:M})=>B.view.tu(M,ne)));const ae=Q&&Q.targetChanges.get(B.targetId),ue=Q&&Q.targetMismatches.get(B.targetId)!=null,ve=B.view.applyChanges(ne,U.isPrimaryClient,ae,ue);return RE(U,B.targetId,ve.ou),ve.snapshot}(i,b,T,I);const u=await gE(i.localStore,e,!0),h=new LD(e,u.$s),d=h.tu(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);RE(i,t,g.ou);const v=new UD(e,t,h);return i.hu.set(e,v),i.Pu.has(t)?i.Pu.get(t).push(e):i.Pu.set(t,[e]),g.snapshot}async function FD(i,e,t){const s=Se(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(h=>!lf(h,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&dg(s.remoteStore,o.targetId),_p(s,o.targetId)}).catch(Io)):(_p(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function GD(i,e){const t=Se(i),s=t.hu.get(e),o=t.Pu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),dg(t.remoteStore,s.targetId))}async function KD(i,e,t){const s=JD(i);try{const o=await function(h,d){const p=Se(h),g=it.now(),v=d.reduce((I,N)=>I.add(N.key),Me());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=hr(),U=Me();return p.Bs.getEntries(I,v).next(B=>{N=B,N.forEach((Y,Q)=>{Q.isValidDocument()||(U=U.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,N)).next(B=>{b=B;const Y=[];for(const Q of d){const ne=lN(Q,b.get(Q.key).overlayedDocument);ne!=null&&Y.push(new cs(Q.key,ne,Sb(ne.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,Y,d)}).next(B=>{T=B;const Y=B.applyToLocalDocumentSet(b,U);return p.documentOverlayCache.saveOverlays(I,B.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:Vb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Au[h.currentUser.toKey()];g||(g=new at(Ie)),g=g.insert(d,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,t),await Nu(s,o.changes),await pf(s.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");t.reject(u)}}async function _w(i,e){const t=Se(i);try{const s=await sD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?qe(h.cu,14607):o.removedDocuments.size>0&&(qe(h.cu,42227),h.cu=!1))}),await Nu(t,s,e)}catch(s){await Io(s)}}function SE(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.hu.forEach((u,h)=>{const d=h.view.Fa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Se(h);p.onlineState=d;let g=!1;p.queries.forEach((v,b)=>{for(const T of b.Sa)T.Fa(d)&&(g=!0)}),g&&_g(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $D(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new at(pe.comparator);h=h.insert(u,Xt.newNoDocument(u,Ae.min()));const d=Me().add(u),p=new ff(Ae.min(),new Map,new at(Ie),h,d);await _w(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Tg(s)}else await gp(s.localStore,e,!1).then(()=>_p(s,e,t)).catch(Io)}async function YD(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await rD(t.localStore,e);Tw(t,s,null),Ew(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(t,o)}catch(o){await Io(o)}}async function QD(i,e,t){const s=Se(i);try{const o=await function(h,d){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(qe(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);Tw(s,e,t),Ew(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Nu(s,o)}catch(o){await Io(o)}}function Ew(i,e){(i.Ru.get(e)||[]).forEach(t=>{t.resolve()}),i.Ru.delete(e)}function Tw(i,e,t){const s=Se(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function _p(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),t&&i.lu.gu(s,t);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||bw(i,s)})}function bw(i,e){i.Tu.delete(e.path.canonicalString());const t=i.Iu.get(e);t!==null&&(dg(i.remoteStore,t),i.Iu=i.Iu.remove(e),i.Eu.delete(t),Tg(i))}function RE(i,e,t){for(const s of t)s instanceof gw?(i.du.addReference(s.key,e),XD(i,s)):s instanceof yw?(ce(Eg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||bw(i,s.key)):Te(19791,{pu:s})}function XD(i,e){const t=e.key,s=t.path.canonicalString();i.Iu.get(t)||i.Tu.has(s)||(ce(Eg,"New document in limbo: "+t),i.Tu.add(s),Tg(i))}function Tg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const t=new pe(et.fromString(e)),s=i.Vu.next();i.Eu.set(s,new jD(t)),i.Iu=i.Iu.insert(t,s),ow(i.remoteStore,new $r(bi(ig(t.path)),s,"TargetPurposeLimboResolution",sf.le))}}async function Nu(i,e,t){const s=Se(i),o=[],u=[],h=[];s.hu.isEmpty()||(s.hu.forEach((d,p)=>{h.push(s.fu(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=hg.Rs(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ee.forEach(g,T=>ee.forEach(T.ds,I=>v.persistence.referenceDelegate.addReference(b,T.targetId,I)).next(()=>ee.forEach(T.As,I=>v.persistence.referenceDelegate.removeReference(b,T.targetId,I)))))}catch(b){if(!Co(b))throw b;ce(fg,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const I=v.xs.get(T),N=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(N);v.xs=v.xs.insert(T,U)}}}(s.localStore,u))}async function WD(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ce(Eg,"User change. New user:",e.toKey());const s=await iw(t.localStore,e);t.currentUser=e,function(u,h){u.Ru.forEach(d=>{d.forEach(p=>{p.reject(new he(te.CANCELLED,h))})}),u.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(t,s.ks)}}function ZD(i,e){const t=Se(i),s=t.Eu.get(e);if(s&&s.cu)return Me().add(s.key);{let o=Me();const u=t.Pu.get(e);if(!u)return o;for(const h of u){const d=t.hu.get(h);o=o.unionWith(d.view.eu)}return o}}function ww(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.lu.Y_=PD.bind(null,e.eventManager),e.lu.gu=VD.bind(null,e.eventManager),e}function JD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return iD(this.persistence,new eD,e.initialUser,this.serializer)}Su(e){return new nw(cg.fi,this.serializer)}bu(e){return new cD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class eO extends Kh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){qe(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jN(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new nw(s=>Fh.fi(s,t),this.serializer)}}class Ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await OD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MD}()}createDatastore(e){const t=df(e.databaseInfo.databaseId),s=function(u){return new pD(u)}(e.databaseInfo);return function(u,h,d,p){return new _D(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new TD(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>SE(this.syncEngine,t,0),function(){return _E.C()?new _E:new hD}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,v){const b=new zD(o,u,h,d,p,g);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ce(aa,"RemoteStore shutting down."),u.da.add(5),await Cu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class tO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=vg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(rs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await iw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function xE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await nO(i);ce(rs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>TE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>TE(e.remoteStore,o)),i._onlineComponents=e}async function nO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(rs,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await Fm(i,new Kh)}}else ce(rs,"Using default OfflineComponentProvider"),await Fm(i,new eO(void 0));return i._offlineComponents}async function Sw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(rs,"Using user provided OnlineComponentProvider"),await xE(i,i._uninitializedComponentsProvider._online)):(ce(rs,"Using default OnlineComponentProvider"),await xE(i,new Ep))),i._onlineComponents}function iO(i){return Sw(i).then(e=>e.syncEngine)}async function Rw(i){const e=await Sw(i),t=e.eventManager;return t.onListen=BD.bind(null,e.syncEngine),t.onUnlisten=FD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GD.bind(null,e.syncEngine),t}function rO(i,e,t={}){const s=new ar;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new Aw({next:T=>{v.xu(),h.enqueueAndForget(()=>mw(u,b));const I=T.docs.has(d);!I&&T.fromCache?g.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new pw(ig(d.path),v,{includeMetadataChanges:!0,Qa:!0});return dw(u,b)}(await Rw(i),i.asyncQueue,e,t,s)),s.promise}function sO(i,e,t={}){const s=new ar;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new Aw({next:T=>{v.xu(),h.enqueueAndForget(()=>mw(u,b)),T.fromCache&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new pw(d,v,{includeMetadataChanges:!0,Qa:!0});return dw(u,b)}(await Rw(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aO(i,e,t,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function CE(i){if(!pe.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function NE(i){if(pe.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Wn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(i);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firestore.googleapis.com",DE=!0;class OE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cw,this.ssl=DE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new d2;switch(s.type){case"firstParty":return new y2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=IE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),IE.delete(t),s.terminate())}(this),Promise.resolve()}}function oO(i,e,t,s={}){var o;i=Wn(i,yf);const u=oa(e),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Mp(`https://${p}`),Pp("Firestore",!0)),h.host!==Cw&&h.host!==p&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ta(g,d)&&(i._setSettings(g),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=Qt.MOCK_USER;else{v=ET(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Qt(T)}i._authCredentials=new m2(new db(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class sn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Wr extends Do{constructor(e,t,s){super(e,t,ig(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new pe(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Fl(i,e,...t){if(i=Mt(i),Iw("collection","path",e),i instanceof yf){const s=et.fromString(e,...t);return NE(s),new Wr(i,null,s)}{if(!(i instanceof sn||i instanceof Wr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return NE(s),new Wr(i.firestore,null,s)}}function _i(i,e,...t){if(i=Mt(i),arguments.length===1&&(e=pb.newId()),Iw("doc","path",e),i instanceof yf){const s=et.fromString(e,...t);return CE(s),new sn(i,null,new pe(s))}{if(!(i instanceof sn||i instanceof Wr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return CE(s),new sn(i.firestore,i instanceof Wr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new sw(this,"async_queue_retry"),this.rc=()=>{const s=qm();s&&ce(kE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ar;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Co(e))throw e;ce(kE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,cr("INTERNAL UNHANDLED ERROR: ",PE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=yg.createAndSchedule(this,e,t,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Te(47125,{cc:PE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function PE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ha extends yf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ME,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function lO(i,e){const t=typeof i=="object"?i:Up(),s=typeof i=="string"?i:Uh,o=ef(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=yT("firestore");u&&oO(o,...u)}return o}function bg(i){if(i._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||uO(i),i._firestoreClient}function uO(i){var e,t,s;const o=i._freezeSettings(),u=function(d,p,g,v){return new O2(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,xw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new tO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Ft.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new To(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^__.*__$/;class hO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class Nw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Dw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:i})}}class Sg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return $h(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Dw(this.Ic)&&cO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class fO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||df(e)}bc(e,t,s,o=!1){return new Sg({Ic:e,methodName:t,wc:s,path:qt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ef(i){const e=i._freezeSettings(),t=df(i._databaseId);return new fO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ow(i,e,t,s,o,u={}){const h=i.bc(u.merge||u.mergeFields?2:0,e,t,o);xg("Data must be an object, but it was:",h,s);const d=kw(s,h);let p,g;if(u.merge)p=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const T=Tp(e,b,t);if(!h.contains(T))throw new he(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Pw(v,T)||v.push(T)}p=new wn(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new hO(new fn(d),p,g)}class Tf extends _f{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}class Rg extends _f{_toFieldTransform(e){return new rN(e.path,new du)}isEqual(e){return e instanceof Rg}}function dO(i,e,t,s){const o=i.bc(1,e,t);xg("Data must be an object, but it was:",o,s);const u=[],h=fn.empty();us(s,(p,g)=>{const v=Ig(e,p,t);g=Mt(g);const b=o.mc(v);if(g instanceof Tf)u.push(v);else{const T=Du(g,b);T!=null&&(u.push(v),h.set(v,T))}});const d=new wn(u);return new Nw(h,d,o.fieldTransforms)}function mO(i,e,t,s,o,u){const h=i.bc(1,e,t),d=[Tp(e,s,t)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)d.push(Tp(e,u[T])),p.push(u[T+1]);const g=[],v=fn.empty();for(let T=d.length-1;T>=0;--T)if(!Pw(g,d[T])){const I=d[T];let N=p[T];N=Mt(N);const U=h.mc(I);if(N instanceof Tf)g.push(I);else{const B=Du(N,U);B!=null&&(g.push(I),v.set(I,B))}}const b=new wn(g);return new Nw(v,b,h.fieldTransforms)}function pO(i,e,t,s=!1){return Du(t,i.bc(s?4:3,e))}function Du(i,e){if(Mw(i=Mt(i)))return xg("Unsupported field value:",e,i),kw(i,e);if(i instanceof _f)return function(s,o){if(!Dw(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Du(d,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:qh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,u)}}if(s instanceof wg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:Yb(o.serializer,s._byteString)};if(s instanceof sn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ag)return function(h,d){return{mapValue:{fields:{[wb]:{stringValue:Ab},[jh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return rg(d.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${gf(s)}`)}(i,e)}function kw(i,e){const t={};return yb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,(s,o)=>{const u=Du(o,e.Ac(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Mw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof wg||i instanceof To||i instanceof sn||i instanceof _f||i instanceof Ag)}function xg(i,e,t){if(!Mw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=gf(t);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function Tp(i,e,t){if((e=Mt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Ig(i,e);throw $h("Field path arguments must be of type string or ",i,!1,void 0,t)}const gO=new RegExp("[~\\*/\\[\\]]");function Ig(i,e,t){if(e.search(gO)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new vf(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function $h(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,d+i+p)}function Pw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yO extends Vw{data(){return super.data()}}function Cg(i,e){return typeof e=="string"?Ig(i,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class _O extends Ng{}function VE(i,e,...t){let s=[];e instanceof Ng&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Dg).length,d=u.filter(p=>p instanceof bf).length;if(h>1||h>0&&d>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class bf extends _O{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new bf(e,t,s)}_apply(e){const t=this._parse(e);return Lw(e._query,t),new Do(e.firestore,e.converter,cp(e._query,t))}_parse(e){const t=Ef(e.firestore);return function(u,h,d,p,g,v,b){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jE(b,v);const N=[];for(const U of b)N.push(UE(p,u,U));T={arrayValue:{values:N}}}else T=UE(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jE(b,v),T=pO(d,h,b,v==="in"||v==="not-in");return Et.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function LE(i,e,t){const s=e,o=Cg("where",i);return bf._create(o,s,t)}class Dg extends Ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)Lw(h,p),h=cp(h,p)}(e._query,t),new Do(e.firestore,e.converter,cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UE(i,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ob(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!pe.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return W0(i,new pe(s))}if(t instanceof sn)return W0(i,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(t)}.`)}function jE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lw(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EO{convertValue(e,t="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[jh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new Ag(u)}convertGeoPoint(e){return new wg(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const t=es(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);qe(ew(s),9688,{name:e});const o=new hu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jw extends Vw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Cg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Rh extends jw{data(e={}){return super.data(e)}}class TO{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Rh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:bO(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){i=Wn(i,sn);const e=Wn(i.firestore,ha);return rO(bg(e),i._key).then(t=>RO(e,i,t))}class zw extends EO{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function fh(i){i=Wn(i,Do);const e=Wn(i.firestore,ha),t=bg(e),s=new zw(e);return vO(i._query),sO(t,i._query).then(o=>new TO(e,s,i,o))}function bo(i,e,t){i=Wn(i,sn);const s=Wn(i.firestore,ha),o=Uw(i.converter,e);return wf(s,[Ow(Ef(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Ln.none())])}function wO(i,e,t,...s){i=Wn(i,sn);const o=Wn(i.firestore,ha),u=Ef(o);let h;return h=typeof(e=Mt(e))=="string"||e instanceof vf?mO(u,"updateDoc",i._key,e,t,s):dO(u,"updateDoc",i._key,e),wf(o,[h.toMutation(i._key,Ln.exists(!0))])}function AO(i){return wf(Wn(i.firestore,ha),[new sg(i._key,Ln.none())])}function SO(i,e){const t=Wn(i.firestore,ha),s=_i(i),o=Uw(i.converter,e);return wf(t,[Ow(Ef(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function wf(i,e){return function(s,o){const u=new ar;return s.asyncQueue.enqueueAndForget(async()=>KD(await iO(s),o,u)),u.promise}(bg(i),e)}function RO(i,e,t){const s=t.docs.get(e._key),o=new zw(i);return new jw(i,o,e._key,s,new Xl(t.hasPendingWrites,t.fromCache),e.converter)}function xO(){return new Rg("serverTimestamp")}(function(e,t=!0){(function(o){xo=o})(la),na(new Zr("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new ha(new p2(s.getProvider("auth-internal")),new v2(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ei(j0,z0,e),Ei(j0,z0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebasestorage.googleapis.com",IO="storageBucket",CO=2*60*1e3,NO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ri{constructor(e,t,s=0){super(Gm(e),`Firebase Storage: ${t} (${Gm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function Gm(i){return"storage/"+i}function DO(){const i="An unknown error occurred, please check the error payload for server response.";return new xi(Si.UNKNOWN,i)}function OO(){return new xi(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kO(){return new xi(Si.CANCELED,"User canceled the upload/download.")}function MO(i){return new xi(Si.INVALID_URL,"Invalid URL '"+i+"'.")}function PO(i){return new xi(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function zE(i){return new xi(Si.INVALID_ARGUMENT,i)}function Hw(){return new xi(Si.APP_DELETED,"The Firebase app was deleted.")}function VO(i){return new xi(Si.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=$n.makeFromUrl(e,t)}catch{return new $n(e,"")}if(s.path==="")return s;throw PO(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",I=new RegExp(`^https?://${b}/${v}/b/${o}/o${T}`,"i"),N={bucket:1,path:3},U=t===Bw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",Y=new RegExp(`^https?://${U}/${o}/${B}`,"i"),ne=[{regex:d,indices:p,postModify:u},{regex:I,indices:N,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<ne.length;ae++){const ue=ne[ae],ve=ue.regex.exec(e);if(ve){const M=ve[ue.indices.bucket];let R=ve[ue.indices.path];R||(R=""),s=new $n(M,R),ue.postModify(s);break}}if(s==null)throw MO(e);return s}}class LO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function v(...B){g||(g=!0,e.apply(null,B))}function b(B){o=setTimeout(()=>{o=null,i(I,p())},B)}function T(){u&&clearTimeout(u)}function I(B,...Y){if(g){T();return}if(B){T(),v.call(null,B,...Y);return}if(p()||h){T(),v.call(null,B,...Y);return}s<64&&(s*=2);let ne;d===1?(d=2,ne=0):ne=(s+Math.random())*1e3,b(ne)}let N=!1;function U(B){N||(N=!0,T(),!g&&(o!==null?(B||(d=2),clearTimeout(o),b(0)):B||(d=1)))}return b(0),u=setTimeout(()=>{h=!0,U(!0)},t),U}function jO(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(i){return i!==void 0}function BE(i,e,t,s){if(s<e)throw zE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw zE(`Invalid value for '${i}'. Expected ${t} or less.`)}function BO(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Yh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Yh||(Yh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,s,o,u,h,d,p,g,v,b,T=!0,I=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,U)=>{this.resolve_=N,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===Yh.NO_ERROR,p=u.getStatus();if(!d||HO(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Yh.ABORT;s(!1,new dh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new dh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());zO(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=DO();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Hw():kO();h(p)}else{const p=OO();h(p)}};this.canceled_?t(!1,new dh(!1,null,!0)):this.backoffId_=UO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function FO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function GO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function $O(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function YO(i,e,t,s,o,u,h=!0,d=!1){const p=BO(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return KO(v,e),FO(v,t),GO(v,u),$O(v,s),new qO(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function XO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this._service=e,t instanceof $n?this._location=t:this._location=$n.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qh(e,t)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XO(this._location.path)}get storage(){return this._service}get parent(){const e=QO(this._location.path);if(e===null)return null;const t=new $n(this._location.bucket,e);return new Qh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw VO(e)}}function HE(i,e){const t=e==null?void 0:e[IO];return t==null?null:$n.makeFromBucketSpec(t,i)}function WO(i,e,t,s={}){i.host=`${e}:${t}`;const o=oa(e);o&&(Mp(`https://${i.host}/b`),Pp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:ET(u,i.app.options.projectId))}class ZO{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Bw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CO,this._maxUploadRetryTime=NO,this._requests=new Set,o!=null?this._bucket=$n.makeFromBucketSpec(o,this._host):this._bucket=HE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=HE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qh(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new LO(Hw());{const h=YO(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const qE="@firebase/storage",FE="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="storage";function JO(i=Up(),e){i=Mt(i);const s=ef(i,qw).getImmediate({identifier:e}),o=yT("storage");return o&&e4(s,...o),s}function e4(i,e,t,s={}){WO(i,e,t,s)}function t4(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ZO(t,s,o,e,la)}function n4(){na(new Zr(qw,t4,"PUBLIC").setMultipleInstances(!0)),Ei(qE,FE,""),Ei(qE,FE,"esm2017")}n4();const i4={apiKey:"AIzaSyC3MMZNGSxoc0E4N2LEmv0f1ZDN4LUmefw",authDomain:"event-x-development.firebaseapp.com",projectId:"event-x-development",storageBucket:"event-x-development.firebasestorage.app",messagingSenderId:void 0,appId:void 0},Og=wT(i4),iu=u2(Og),Fw=new tr,un=lO(Og);JO(Og);const GE=i=>{let e;const t=new Set,s=(g,v)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const T=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(I=>I(e,T))}},o=()=>e,d={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=i(s,o,d);return d},r4=i=>i?GE(i):GE,s4=i=>i;function a4(i,e=s4){const t=Q_.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Q_.useDebugValue(t),t}const KE=i=>{const e=r4(i),t=s=>a4(e,s);return Object.assign(t,e),t},kg=i=>i?KE(i):KE;function o4(i,e){let t;try{t=i()}catch{return}return{getItem:o=>{var u;const h=p=>p===null?null:JSON.parse(p,void 0),d=(u=t.getItem(o))!=null?u:null;return d instanceof Promise?d.then(h):h(d)},setItem:(o,u)=>t.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>t.removeItem(o)}}const bp=i=>e=>{try{const t=i(e);return t instanceof Promise?t:{then(s){return bp(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return bp(s)(t)}}}},l4=(i,e)=>(t,s,o)=>{let u={storage:o4(()=>localStorage),partialize:U=>U,version:0,merge:(U,B)=>({...B,...U}),...e},h=!1;const d=new Set,p=new Set;let g=u.storage;if(!g)return i((...U)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),t(...U)},s,o);const v=()=>{const U=u.partialize({...s()});return g.setItem(u.name,{state:U,version:u.version})},b=o.setState;o.setState=(U,B)=>{b(U,B),v()};const T=i((...U)=>{t(...U),v()},s,o);o.getInitialState=()=>T;let I;const N=()=>{var U,B;if(!g)return;h=!1,d.forEach(Q=>{var ne;return Q((ne=s())!=null?ne:T)});const Y=((B=u.onRehydrateStorage)==null?void 0:B.call(u,(U=s())!=null?U:T))||void 0;return bp(g.getItem.bind(g))(u.name).then(Q=>{if(Q)if(typeof Q.version=="number"&&Q.version!==u.version){if(u.migrate){const ne=u.migrate(Q.state,Q.version);return ne instanceof Promise?ne.then(ae=>[!0,ae]):[!0,ne]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Q.state];return[!1,void 0]}).then(Q=>{var ne;const[ae,ue]=Q;if(I=u.merge(ue,(ne=s())!=null?ne:T),t(I,!0),ae)return v()}).then(()=>{Y==null||Y(I,void 0),I=s(),h=!0,p.forEach(Q=>Q(I))}).catch(Q=>{Y==null||Y(void 0,Q)})};return o.persist={setOptions:U=>{u={...u,...U},U.storage&&(g=U.storage)},clearStorage:()=>{g==null||g.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>N(),hasHydrated:()=>h,onHydrate:U=>(d.add(U),()=>{d.delete(U)}),onFinishHydration:U=>(p.add(U),()=>{p.delete(U)})},u.skipHydration||N(),I||T},u4=l4,hs=kg(u4(i=>({user:null,setUser:e=>i({user:e}),clearUser:()=>i({user:null})}),{name:"auth-storage"})),Xs=()=>{const[i,e]=z.useState(""),[t,s]=z.useState(""),[o,u]=z.useState(!0),{setUser:h}=hs(),d=async g=>{g.preventDefault();try{await ZI(iu,o?XT:Yp);const v=await WI(iu,i,t),b=v.user,T=_i(un,"users",b.uid),I=await gu(T);if(I.exists()){const N=I.data();h(N)}else{let N=window.prompt("Enter the role(User/Organizer)","user");N.toLowerCase()!="organizer"&&N.toLowerCase()&&(N="user");const U={uid:b.uid,name:b.displayName||"Guest",email:b.email,role:N,createdAt:new Date};console.log(b),await bo(T,U),h(U)}console.log("Email login user:",v.user)}catch(v){console.error("Email login failed:",v.message)}},p=async g=>{g.preventDefault();try{const b=(await rb(iu,Fw)).user,T=_i(un,"users",b.uid),I=await gu(T);if(I.exists()){const N=I.data();h(N)}else{let N=window.prompt("Enter your role (organizer/user):","user");N.toLowerCase()!=="organizer"&&N.toLowerCase()!=="user"&&(N="user");const U={uid:b.uid,name:b.displayName||"Guest",email:b.email,role:N,createdAt:new Date};await bo(T,U),h(U)}console.log(b)}catch(v){console.error(v.code,v.message)}};return w.jsx("div",{children:w.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-around bg-white px-4",style:{fontFamily:"Plus Jakarta Sans, Noto Sans, sans-serif"},children:[w.jsx("div",{children:w.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Campus Connect"})}),w.jsxs("form",{onSubmit:d,className:"w-full max-w-md p-6 bg-white shadow-md rounded-xl space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",value:i,id:"email",placeholder:"Enter your email",className:"w-full h-12 px-4 rounded-xl border border-gray-300 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:g=>{e(g.target.value)}})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",value:t,id:"password",placeholder:"Enter your password",className:"w-full h-12 px-4 rounded-xl border border-gray-300 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:g=>{s(g.target.value)}})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[w.jsx("input",{type:"checkbox",checked:o,onChange:g=>{u(g.target.checked)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),"Remember me"]}),w.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),w.jsx("button",{type:"submit",className:"w-full h-12 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition duration-200",children:"Login"}),w.jsx("button",{onClick:p,className:"w-full h-12 bg-gray-100 text-gray-900 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-gray-200 transition duration-200",children:"Continue with Google"}),w.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Don’t have an account? ",w.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Create an account"})]})]})]})})},c4=()=>{const[i,e]=z.useState({name:"",email:"",password:"",role:"",confirmPassword:""}),[t,s]=z.useState(!1),{setUser:o}=hs(),u=async d=>{if(d.preventDefault(),i.password!==i.confirmPassword){alert("Passwords do not match");return}try{const g=(await XI(iu,i.email,i.password)).user,v={uid:g.uid,name:g.displayName||"Guest",email:g.email,role:i.role,createdAt:new Date};await bo(_i(un,"users",g.uid),v),o(v),console.log("User registered successfully",g)}catch(p){console.error("User registration failed:",p.message)}},h=async d=>{d.preventDefault();try{const g=(await rb(iu,Fw)).user,v=_i(un,"users",g.uid),b=await gu(v);let T;if(b.exists())T=b.data();else{let I=window.prompt("Enter your role (organizer/user):","user");I!=="organizer"&&I!=="user"&&(I="user"),T={uid:g.uid,name:g.displayName||"Guest",email:g.email,role:i.role,createdAt:new Date},await bo(v,T),o(T)}console.log(g),o(T)}catch(p){console.error(p.code,p.message)}};return w.jsx("div",{children:w.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-around bg-white px-4",style:{fontFamily:"Plus Jakarta Sans, Noto Sans, sans-serif"},children:[w.jsx("div",{children:w.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Campus Connect"})}),w.jsxs("form",{onSubmit:u,className:"w-full max-w-md p-6 bg-white shadow-md rounded-xl space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"email",children:"Name"}),w.jsx("input",{type:"text",value:i.name,placeholder:"Enter your name",className:"w-full h-12 px-4 rounded-xl border border-gray-300 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:d=>{e({...i,name:d.target.value})}})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"email",children:"Role"}),w.jsxs("div",{className:"flex gap-6",children:[w.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-800",children:[w.jsx("input",{type:"radio",name:"role",value:"organizer",checked:i.role==="organizer",onChange:d=>e({...i,role:d.target.value}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),"Organizer"]}),w.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-800",children:[w.jsx("input",{type:"radio",name:"role",value:"user",checked:i.role==="user",onChange:d=>e({...i,role:d.target.value}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),"User"]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",value:i.email,id:"email",placeholder:"Enter your email",className:"w-full h-12 px-4 rounded-xl border border-gray-300 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:d=>{e({...i,email:d.target.value})}})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",value:i.password,id:"password",placeholder:"Enter your password",className:"w-full h-12 px-4 rounded-xl border border-gray-300 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:d=>{e({...i,password:d.target.value})}})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"email",children:"Confirm-Password"}),w.jsx("input",{type:"password",value:i.confirmPassword,placeholder:"Enter your email",className:"w-full h-12 px-4 rounded-xl border border-gray-300 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:d=>{e({...i,confirmPassword:d.target.value})}})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[w.jsx("input",{type:"checkbox",checked:t,onChange:d=>{s(d.target.checked)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),"Remember me"]}),w.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),w.jsx("button",{type:"submit",className:"w-full h-12 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition duration-200",children:"Sign up"}),w.jsx("button",{onClick:h,className:"w-full h-12 bg-gray-100 text-gray-900 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-gray-200 transition duration-200",children:"Continue with Google"}),w.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Already have an account? ",w.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Log in to existing account"})]})]})]})})};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),$E=i=>{const e=f4(i);return e.charAt(0).toUpperCase()+e.slice(1)},Gw=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),d4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...d},p)=>z.createElement("svg",{ref:p,...m4,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:Gw("lucide",o),...!u&&!d4(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,v])=>z.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=(i,e)=>{const t=z.forwardRef(({className:s,...o},u)=>z.createElement(p4,{ref:u,iconNode:e,className:Gw(`lucide-${h4($E(i))}`,`lucide-${i}`,s),...o}));return t.displayName=$E(i),t};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kw=jn("arrow-left",g4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],v4=jn("bookmark",y4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Km=jn("chevron-down",_4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$w=jn("eye",E4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],b4=jn("house",T4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yw=jn("loader-circle",w4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],S4=jn("log-out",A4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],x4=jn("pencil",R4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qw=jn("plus",I4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xw=jn("search",C4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ww=jn("user",N4);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zw=jn("x",D4),O4="Left",k4="Right",M4="Up",P4="Down",uo={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},wp={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},YE="mousemove",QE="mouseup",V4="touchend",L4="touchmove",U4="touchstart";function j4(i,e,t,s){return i>e?t>0?k4:O4:s>0?P4:M4}function XE(i,e){if(e===0)return i;const t=Math.PI/180*e,s=i[0]*Math.cos(t)+i[1]*Math.sin(t),o=i[1]*Math.cos(t)-i[0]*Math.sin(t);return[s,o]}function z4(i,e){const t=v=>{const b="touches"in v;b&&v.touches.length>1||i((T,I)=>{I.trackMouse&&!b&&(document.addEventListener(YE,s),document.addEventListener(QE,h));const{clientX:N,clientY:U}=b?v.touches[0]:v,B=XE([N,U],I.rotationAngle);return I.onTouchStartOrOnMouseDown&&I.onTouchStartOrOnMouseDown({event:v}),Object.assign(Object.assign(Object.assign({},T),wp),{initial:B.slice(),xy:B,start:v.timeStamp||0})})},s=v=>{i((b,T)=>{const I="touches"in v;if(I&&v.touches.length>1)return b;if(v.timeStamp-b.start>T.swipeDuration)return b.swiping?Object.assign(Object.assign({},b),{swiping:!1}):b;const{clientX:N,clientY:U}=I?v.touches[0]:v,[B,Y]=XE([N,U],T.rotationAngle),Q=B-b.xy[0],ne=Y-b.xy[1],ae=Math.abs(Q),ue=Math.abs(ne),ve=(v.timeStamp||0)-b.start,M=Math.sqrt(ae*ae+ue*ue)/(ve||1),R=[Q/(ve||1),ne/(ve||1)],x=j4(ae,ue,Q,ne),k=typeof T.delta=="number"?T.delta:T.delta[x.toLowerCase()]||uo.delta;if(ae<k&&ue<k&&!b.swiping)return b;const V={absX:ae,absY:ue,deltaX:Q,deltaY:ne,dir:x,event:v,first:b.first,initial:b.initial,velocity:M,vxvy:R};V.first&&T.onSwipeStart&&T.onSwipeStart(V),T.onSwiping&&T.onSwiping(V);let j=!1;return(T.onSwiping||T.onSwiped||T[`onSwiped${x}`])&&(j=!0),j&&T.preventScrollOnSwipe&&T.trackTouch&&v.cancelable&&v.preventDefault(),Object.assign(Object.assign({},b),{first:!1,eventData:V,swiping:!0})})},o=v=>{i((b,T)=>{let I;if(b.swiping&&b.eventData){if(v.timeStamp-b.start<T.swipeDuration){I=Object.assign(Object.assign({},b.eventData),{event:v}),T.onSwiped&&T.onSwiped(I);const N=T[`onSwiped${I.dir}`];N&&N(I)}}else T.onTap&&T.onTap({event:v});return T.onTouchEndOrOnMouseUp&&T.onTouchEndOrOnMouseUp({event:v}),Object.assign(Object.assign(Object.assign({},b),wp),{eventData:I})})},u=()=>{document.removeEventListener(YE,s),document.removeEventListener(QE,h)},h=v=>{u(),o(v)},d=(v,b)=>{let T=()=>{};if(v&&v.addEventListener){const I=Object.assign(Object.assign({},uo.touchEventOptions),b.touchEventOptions),N=[[U4,t,I],[L4,s,Object.assign(Object.assign({},I),b.preventScrollOnSwipe?{passive:!1}:{})],[V4,o,I]];N.forEach(([U,B,Y])=>v.addEventListener(U,B,Y)),T=()=>N.forEach(([U,B])=>v.removeEventListener(U,B))}return T},g={ref:v=>{v!==null&&i((b,T)=>{if(b.el===v)return b;const I={};return b.el&&b.el!==v&&b.cleanUpTouch&&(b.cleanUpTouch(),I.cleanUpTouch=void 0),T.trackTouch&&v&&(I.cleanUpTouch=d(v,T)),Object.assign(Object.assign(Object.assign({},b),{el:v}),I)})}};return e.trackMouse&&(g.onMouseDown=t),[g,d]}function B4(i,e,t,s){return!e.trackTouch||!i.el?(i.cleanUpTouch&&i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:void 0})):i.cleanUpTouch?e.preventScrollOnSwipe!==t.preventScrollOnSwipe||e.touchEventOptions.passive!==t.touchEventOptions.passive?(i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:s(i.el,e)})):i:Object.assign(Object.assign({},i),{cleanUpTouch:s(i.el,e)})}function H4(i){const{trackMouse:e}=i,t=z.useRef(Object.assign({},wp)),s=z.useRef(Object.assign({},uo)),o=z.useRef(Object.assign({},s.current));o.current=Object.assign({},s.current),s.current=Object.assign(Object.assign({},uo),i);let u;for(u in uo)s.current[u]===void 0&&(s.current[u]=uo[u]);const[h,d]=z.useMemo(()=>z4(p=>t.current=p(t.current,s.current),{trackMouse:e}),[e]);return t.current=B4(t.current,s.current,o.current,d),h}class Ou{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const q4=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},Ht={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:q4()},Mg=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},F4=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=Mg(i);Ht.publicKey=t.publicKey,Ht.blockHeadless=t.blockHeadless,Ht.storageProvider=t.storageProvider,Ht.blockList=t.blockList,Ht.limitRate=t.limitRate,Ht.origin=t.origin||e},Jw=async(i,e,t={})=>{const s=await fetch(Ht.origin+i,{method:"POST",headers:t,body:e}),o=await s.text(),u=new Ou(s.status,o);if(s.ok)return u;throw u},e1=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},G4=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},t1=i=>i.webdriver||!i.languages||i.languages.length===0,n1=()=>new Ou(451,"Unavailable For Headless Browser"),K4=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},$4=i=>{var e;return!((e=i.list)!=null&&e.length)||!i.watchVariable},Y4=(i,e)=>i instanceof FormData?i.get(e):i[e],i1=(i,e)=>{if($4(i))return!1;K4(i.list,i.watchVariable);const t=Y4(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},r1=()=>new Ou(403,"Forbidden"),Q4=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},X4=async(i,e,t)=>{const s=Number(await t.get(i)||0);return e-Date.now()+s},s1=async(i,e,t)=>{if(!e.throttle||!t)return!1;Q4(e.throttle,e.id);const s=e.id||i;return await X4(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},a1=()=>new Ou(429,"Too Many Requests"),W4=async(i,e,t,s)=>{const o=Mg(s),u=o.publicKey||Ht.publicKey,h=o.blockHeadless||Ht.blockHeadless,d=o.storageProvider||Ht.storageProvider,p={...Ht.blockList,...o.blockList},g={...Ht.limitRate,...o.limitRate};return h&&t1(navigator)?Promise.reject(n1()):(e1(u,i,e),G4(t),t&&i1(p,t)?Promise.reject(r1()):await s1(location.pathname,g,d)?Promise.reject(a1()):Jw("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},Z4=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},J4=i=>typeof i=="string"?document.querySelector(i):i,ek=async(i,e,t,s)=>{const o=Mg(s),u=o.publicKey||Ht.publicKey,h=o.blockHeadless||Ht.blockHeadless,d=Ht.storageProvider||o.storageProvider,p={...Ht.blockList,...o.blockList},g={...Ht.limitRate,...o.limitRate};if(h&&t1(navigator))return Promise.reject(n1());const v=J4(t);e1(u,i,e),Z4(v);const b=new FormData(v);return i1(p,b)?Promise.reject(r1()):await s1(location.pathname,g,d)?Promise.reject(a1()):(b.append("lib_version","4.4.1"),b.append("service_id",i),b.append("template_id",e),b.append("user_id",u),Jw("/api/v1.0/email/send-form",b))},tk={init:F4,send:W4,sendForm:ek,EmailJSResponseStatus:Ou},nk=async(i,e)=>{try{console.log(e),await tk.send("service_beyr6yj","template_4dhchdp",{user_name:e.name,email:e.email,event_title:i.title,event_date:i.date.toDate().toLocaleDateString(),event_time:i.date.toDate().toLocaleTimeString(),event_format:i.format},"0v3WXKRJQIzTKdCA3"),console.log("email send successfully")}catch(t){console.error(t.message)}};let ik={data:""},rk=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||ik,sk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ak=/\/\*[^]*?\*\/|  +/g,WE=/\n+/g,Kr=(i,e)=>{let t="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?t=u+" "+h+";":s+=u[1]=="f"?Kr(h,u):u+"{"+Kr(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=Kr(h,e?e.replace(/([^,])+/g,d=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Kr.p?Kr.p(u,h):u+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+s},er={},o1=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+o1(i[t]);return e}return i},ok=(i,e,t,s,o)=>{let u=o1(i),h=er[u]||(er[u]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(u));if(!er[h]){let p=u!==i?i:(g=>{let v,b,T=[{}];for(;v=sk.exec(g.replace(ak,""));)v[4]?T.shift():v[3]?(b=v[3].replace(WE," ").trim(),T.unshift(T[0][b]=T[0][b]||{})):T[0][v[1]]=v[2].replace(WE," ").trim();return T[0]})(i);er[h]=Kr(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let d=t&&er.g?er.g:null;return t&&(er.g=er[h]),((p,g,v,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(er[h],e,s,d),h},lk=(i,e,t)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let d=h(t),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;h=p?"."+p:d&&typeof d=="object"?d.props?"":Kr(d,""):d===!1?"":d}return s+o+(h??"")},"");function Af(i){let e=this||{},t=i.call?i(e.p):i;return ok(t.unshift?t.raw?lk(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,rk(e.target),e.g,e.o,e.k)}let l1,Ap,Sp;Af.bind({g:1});let fr=Af.bind({k:1});function uk(i,e,t,s){Kr.p=e,l1=i,Ap=t,Sp=s}function fs(i,e){let t=this||{};return function(){let s=arguments;function o(u,h){let d=Object.assign({},u),p=d.className||o.className;t.p=Object.assign({theme:Ap&&Ap()},d),t.o=/ *go\d+/.test(p),d.className=Af.apply(t,s)+(p?" "+p:"");let g=i;return i[0]&&(g=d.as||i,delete d.as),Sp&&g[0]&&Sp(d),l1(g,d)}return o}}var ck=i=>typeof i=="function",Xh=(i,e)=>ck(i)?i(e):i,hk=(()=>{let i=0;return()=>(++i).toString()})(),u1=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),fk=20,c1=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,fk)};case 1:return{...i,toasts:i.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return c1(i,{type:i.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...i,toasts:i.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let o=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},xh=[],ea={toasts:[],pausedAt:void 0},fa=i=>{ea=c1(ea,i),xh.forEach(e=>{e(ea)})},dk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mk=(i={})=>{let[e,t]=z.useState(ea),s=z.useRef(ea);z.useEffect(()=>(s.current!==ea&&t(ea),xh.push(t),()=>{let u=xh.indexOf(t);u>-1&&xh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var h,d,p;return{...i,...i[u.type],...u,removeDelay:u.removeDelay||((h=i[u.type])==null?void 0:h.removeDelay)||(i==null?void 0:i.removeDelay),duration:u.duration||((d=i[u.type])==null?void 0:d.duration)||(i==null?void 0:i.duration)||dk[u.type],style:{...i.style,...(p=i[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},pk=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:(t==null?void 0:t.id)||hk()}),ku=i=>(e,t)=>{let s=pk(e,i,t);return fa({type:2,toast:s}),s.id},rn=(i,e)=>ku("blank")(i,e);rn.error=ku("error");rn.success=ku("success");rn.loading=ku("loading");rn.custom=ku("custom");rn.dismiss=i=>{fa({type:3,toastId:i})};rn.remove=i=>fa({type:4,toastId:i});rn.promise=(i,e,t)=>{let s=rn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?Xh(e.success,o):void 0;return u?rn.success(u,{id:s,...t,...t==null?void 0:t.success}):rn.dismiss(s),o}).catch(o=>{let u=e.error?Xh(e.error,o):void 0;u?rn.error(u,{id:s,...t,...t==null?void 0:t.error}):rn.dismiss(s)}),i};var gk=(i,e)=>{fa({type:1,toast:{id:i,height:e}})},yk=()=>{fa({type:5,time:Date.now()})},ru=new Map,vk=1e3,_k=(i,e=vk)=>{if(ru.has(i))return;let t=setTimeout(()=>{ru.delete(i),fa({type:4,toastId:i})},e);ru.set(i,t)},Ek=i=>{let{toasts:e,pausedAt:t}=mk(i);z.useEffect(()=>{if(t)return;let u=Date.now(),h=e.map(d=>{if(d.duration===1/0)return;let p=(d.duration||0)+d.pauseDuration-(u-d.createdAt);if(p<0){d.visible&&rn.dismiss(d.id);return}return setTimeout(()=>rn.dismiss(d.id),p)});return()=>{h.forEach(d=>d&&clearTimeout(d))}},[e,t]);let s=z.useCallback(()=>{t&&fa({type:6,time:Date.now()})},[t]),o=z.useCallback((u,h)=>{let{reverseOrder:d=!1,gutter:p=8,defaultPosition:g}=h||{},v=e.filter(I=>(I.position||g)===(u.position||g)&&I.height),b=v.findIndex(I=>I.id===u.id),T=v.filter((I,N)=>N<b&&I.visible).length;return v.filter(I=>I.visible).slice(...d?[T+1]:[0,T]).reduce((I,N)=>I+(N.height||0)+p,0)},[e]);return z.useEffect(()=>{e.forEach(u=>{if(u.dismissed)_k(u.id,u.removeDelay);else{let h=ru.get(u.id);h&&(clearTimeout(h),ru.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:gk,startPause:yk,endPause:s,calculateOffset:o}}},Tk=fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bk=fr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wk=fr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ak=fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sk=fr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Rk=fs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${Sk} 1s linear infinite;
`,xk=fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ik=fr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ck=fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ik} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Nk=fs("div")`
  position: absolute;
`,Dk=fs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ok=fr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kk=fs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ok} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Mk=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?z.createElement(kk,null,e):e:t==="blank"?null:z.createElement(Dk,null,z.createElement(Rk,{...s}),t!=="loading"&&z.createElement(Nk,null,t==="error"?z.createElement(Ak,{...s}):z.createElement(Ck,{...s})))},Pk=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Vk=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Lk="0%{opacity:0;} 100%{opacity:1;}",Uk="0%{opacity:1;} 100%{opacity:0;}",jk=fs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zk=fs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Bk=(i,e)=>{let t=i.includes("top")?1:-1,[s,o]=u1()?[Lk,Uk]:[Pk(t),Vk(t)];return{animation:e?`${fr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Hk=z.memo(({toast:i,position:e,style:t,children:s})=>{let o=i.height?Bk(i.position||e||"top-center",i.visible):{opacity:0},u=z.createElement(Mk,{toast:i}),h=z.createElement(zk,{...i.ariaProps},Xh(i.message,i));return z.createElement(jk,{className:i.className,style:{...o,...t,...i.style}},typeof s=="function"?s({icon:u,message:h}):z.createElement(z.Fragment,null,u,h))});uk(z.createElement);var qk=({id:i,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=z.useCallback(h=>{if(h){let d=()=>{let p=h.getBoundingClientRect().height;s(i,p)};d(),new MutationObserver(d).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return z.createElement("div",{ref:u,className:e,style:t},o)},Fk=(i,e)=>{let t=i.includes("top"),s=t?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:u1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},Gk=Af`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mh=16,Kk=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:u,containerClassName:h})=>{let{toasts:d,handlers:p}=Ek(t);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:mh,left:mh,right:mh,bottom:mh,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(g=>{let v=g.position||e,b=p.calculateOffset(g,{reverseOrder:i,gutter:s,defaultPosition:e}),T=Fk(v,b);return z.createElement(qk,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?Gk:"",style:T},g.type==="custom"?Xh(g.message,g):o?o(g):z.createElement(Hk,{toast:g,position:v}))}))},bn=rn;const Mu=kg((i,e)=>({isLoading:!0,events:[],selectedEvent:null,registrants:[],userRegistrations:[],getAllEvents:async()=>{i({isLoading:!0});try{const t=new Date;t.setHours(0,0,0,0);const s=VE(Fl(un,"events"),LE("date",">=",it.fromDate(t))),u=(await fh(s)).docs.map(h=>({id:h.id,...h.data()}));i({events:u})}catch(t){console.log(t.message),bn.error("Error in Loading data! refresh the page")}finally{i({isLoading:!1})}},getEventsByCreaterId:async t=>{i({isLoading:!0});try{const s=VE(Fl(un,"events"),LE("organizer.uid","==",t)),u=(await fh(s)).docs.map(h=>({id:h.id,...h.data()}));i({events:u})}catch(s){console.log("error",s.message),bn.error("Error in Loading data! refresh the page")}finally{i({isLoading:!1})}},getEventById:async t=>{try{const s=_i(un,"events",t),o=await gu(s),u={id:o.id,...o.data()};i({selectedEvent:u})}catch(s){console.log(s.response),bn.error("Error in Loading data! refresh the page")}},addNewEvent:async(t,s)=>{try{const o={...t,date:it.fromDate(new Date(t.date)),createdAt:it.now(),organizer:{uid:s.uid,name:s.name,email:s.email},createdAt:xO()};return(await SO(Fl(un,"events"),o)).id}catch(o){throw console.error("Error adding event:",o),bn.error("Error in Adding event!"),o}},deleteEvent:async t=>{try{await AO(_i(un,"events",t)),i(s=>({events:s.events.filter(o=>o.id!==t)})),bn.success("EVent deleted successfully")}catch(s){bn.error("Error in deleting the event"),console.log(s.message)}},updateEvent:async(t,s)=>{try{s.date&&!(s.date instanceof it)&&(s.date=it.fromDate(new Date(s.date))),await wO(_i(un,"events",t),{...s}),i(o=>{events.state.events.map(u=>u.id===t?{...u,...s}:u)}),bn.success("Event Updated successfully")}catch(o){console.log(o.message),bn.error("Error in updating event")}},registerForAnEvent:async t=>{try{const s=e().selectedEvent;console.log(s.id);const o=_i(un,"events",s.id,"registrants",t.uid),u=_i(un,"users",t.uid,"registrations",s.id);if((await gu(o)).exists()){bn.success("Already Registered!");return}await Promise.all([bo(o,{uid:t.uid,name:t.name,email:t.email,registeredAt:new Date}),bo(u,{eventId:s.id,registeredAt:new Date})]),nk(s,t),bn.success("Registered Successfully!")}catch(s){console.log(s.message),bn.error("Error in registering!")}},getRegistrants:async t=>{try{const s=Fl(un,"events",t,"registrants"),u=(await fh(s)).docs.map(h=>({uid:h.id,...h.data()}));i({registrants:u})}catch(s){console.log(s),bn.error("Error in Loading data! refresh the page")}},getRegisteredEventsByUser:async t=>{try{const s=Fl(un,"users",t,"registrations"),u=(await fh(s)).docs.map(h=>({id:h.id,...h.data()}));i({userRegistrations:u})}catch(s){console.log(s.message)}}})),$k=()=>{const[i,e]=z.useState("upcoming");H4({onSwipedLeft:()=>e("past"),onSwipedRight:()=>e("upcoming"),preventDefaultTouchmoveEvent:!0,trackTouch:!0,trackMouse:!0});const{events:t,getEventsByCreaterId:s,isLoading:o}=Mu(),{user:u}=hs();z.useEffect(()=>{s(u.uid)},[u.uid]);const h=new Date;h.setHours(0,0,0,0);const d=t.filter(p=>{var v,b;const g=p.date instanceof Date?p.date:((b=(v=p.date)==null?void 0:v.toDate)==null?void 0:b.call(v))||new Date(p.date);return i==="upcoming"?g>=h:g<h});return o?w.jsx("div",{className:"flex justify-center items-center h-screen",children:w.jsx(Yw,{size:20,className:"animate-spin"})}):w.jsxs("div",{className:" bg-[#f8f9fc] font-['Plus Jakarta Sans','Noto Sans',sans-serif]",children:[w.jsxs("div",{className:"flex items-center justify-center border-b border-[#ced3e9] px-2 gap-10",children:[w.jsx("button",{className:`flex flex-col items-center border-b-[3px] pb-[13px] pt-4 ${i==="upcoming"?"border-[#4768fa] text-[#47579e] ":"border-transparent text-[#0d0f1c]"}`,onClick:()=>e("upcoming"),children:w.jsx("span",{className:"text-md font-bold",children:"Upcoming"})}),w.jsx("button",{className:`flex flex-col items-center border-b-[3px] pb-[13px] pt-4 ${i==="past"?"border-[#4768fa] text-[#47579e]":"border-transparent text-[#0d0f1c] "}`,onClick:()=>e("past"),children:w.jsx("span",{className:"text-md font-bold",children:"Past"})})]}),w.jsx("button",{className:"hidden lg:flex fixed bottom-24 right-7 z-10 h-12 w-12 rounded-full bg-[#607afb] text-white items-center justify-center shadow-lg ",children:w.jsx(Qw,{size:28})}),w.jsx("div",{className:"flex items-center justify-center",children:w.jsx("div",{className:"w-2xl p-4 grid gap-4 sm:grid-cols-1  xl:grid-cols-3",children:d.length>0?d.map((p,g)=>w.jsxs("div",{className:"flex flex-col rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[w.jsx("div",{className:"w-full aspect-video bg-cover bg-center",style:{backgroundImage:`url(${p.bannerURL})`}}),w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("div",{className:"flex flex-col justify-center gap-1 p-4 w-full",children:[w.jsx("p",{className:"text-[#0e141b] text-lg font-bold tracking-[-0.015em]",children:p.title}),w.jsx("p",{className:"text-[#4e7397] text-base",children:p.date.toDate().toLocaleDateString()}),w.jsx("p",{className:"text-[#4e7397] text-base",children:p.date.toDate().toLocaleTimeString()})]}),w.jsx("div",{className:"flex gap-2 items-center pr-3",children:w.jsx(Wt,{to:`/event/${p.id}`,children:w.jsxs("button",{className:"flex items-center gap-1 h-8 px-4 bg-[#e6e9f4] text-sm font-medium rounded-full text-[#0d0f1c]",children:[w.jsx(x4,{size:18})," View"]})})})]})]},g)):w.jsxs("p",{className:"text-center text-sm text-[#47579e]",children:["No ",i," events."]})})})]})},Yk=async i=>{const e=new FormData;e.append("file",i),e.append("upload_preset","event-x"),e.append("folder","events/banner");try{return(await(await fetch("https://api.cloudinary.com/v1_1/dwdrdoit2/image/upload",{method:"POST",body:e})).json()).secure_url}catch(t){return console.error("Cloudinary Upload Error:",t),null}},Qk=()=>{const i=vu(),[e,t]=z.useState(),[s,o]=z.useState({title:"",description:"",type:"",level:"",format:"",date:"",bannerURL:null,bannerPreview:""}),{user:u}=hs(),{addNewEvent:h}=Mu(),d=v=>{const{name:b,value:T}=v.target;o(I=>({...I,[b]:T}))},p=v=>{const b=v.target.files[0];if(b){const T=URL.createObjectURL(b);o(I=>({...I,bannerPreview:T})),t(b)}},g=async v=>{if(v.preventDefault(),!e){alert("Upload the banner");return}try{const b=await Yk(e);if(!b){alert("image upload file");return}const T={...s,bannerURL:b};h(T,{uid:u.uid,name:u.name,email:u.email}),i("/")}catch{console.log("not added")}};return w.jsx("div",{className:"flex items-center justify-center",children:w.jsxs("form",{onSubmit:g,className:"relative flex min-h-screen flex-col justify-between items-center bg-[#f8f9fc] overflow-x-hidden w-full max-w-4xl",style:{fontFamily:'"Plus Jakarta Sans", "Noto Sans", sans-serif'},children:[w.jsxs("div",{className:"w-full",children:[w.jsxs("div",{className:"flex items-center justify-between bg-[#f8f9fc] p-4 pb-2",children:[w.jsx("div",{className:"text-[#0d0f1c] flex size-12 items-center",children:w.jsx(Wt,{to:"/",children:w.jsx(Zw,{size:"30"})})}),w.jsx("h2",{className:"flex-1 text-center text-lg font-bold tracking-[-0.015em] text-[#0d0f1c] pr-12",children:"Create Event"})]}),w.jsx("div",{className:"flex w-full flex-wrap items-end gap-4 px-4 py-3",children:w.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:w.jsx("input",{name:"title",value:s.title,onChange:d,placeholder:"Event Title",className:"form-input h-14 w-full rounded-xl bg-[#e6e9f4] p-4 text-base font-normal text-[#0d0f1c] placeholder:text-[#47569e] focus:outline-none",required:!0})})}),w.jsx("div",{className:"flex flex-wrap items-end gap-4 px-4 py-3",children:w.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:w.jsx("textarea",{name:"description",value:s.description,onChange:d,placeholder:"Event Description",className:"form-input min-h-36 w-full resize-none rounded-xl bg-[#e6e9f4] p-4 text-base font-normal text-[#0d0f1c] placeholder:text-[#47569e] focus:outline-none",required:!0})})}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 px-4",children:[w.jsxs("select",{name:"type",value:s.type,onChange:d,className:"form-select rounded-xl bg-[#e6e9f4] p-2 text-[#0d0f1c]",required:!0,children:[w.jsx("option",{value:"",children:"Select Event Type"}),w.jsx("option",{value:"Workshop",children:"Workshop"}),w.jsx("option",{value:"Seminar",children:"Seminar"}),w.jsx("option",{value:"Bootcamp",children:"Bootcamp"})]}),w.jsxs("select",{name:"level",value:s.level,onChange:d,className:"form-select rounded-xl bg-[#e6e9f4] p-2 text-[#0d0f1c]",required:!0,children:[w.jsx("option",{value:"",children:"Select Level"}),w.jsx("option",{value:"Beginner",children:"Beginner"}),w.jsx("option",{value:"Intermediate",children:"Intermediate"}),w.jsx("option",{value:"Advanced",children:"Advanced"})]}),w.jsxs("select",{name:"format",value:s.format,onChange:d,className:"form-select rounded-xl bg-[#e6e9f4] p-2 text-[#0d0f1c]",required:!0,children:[w.jsx("option",{value:"",children:"Select Format"}),w.jsx("option",{value:"Online",children:"Online"}),w.jsx("option",{value:"Offline",children:"Offline"}),w.jsx("option",{value:"Hybrid",children:"Hybrid"})]}),w.jsx("input",{type:"date",name:"date",value:s.date,onChange:d,className:"form-input rounded-xl bg-[#e6e9f4] p-2 text-[#0d0f1c]",required:!0})]}),w.jsx("div",{className:"p-4",children:w.jsxs("div",{className:"flex flex-col items-stretch rounded-xl xl:flex-row xl:items-start",children:[w.jsxs("div",{className:"flex w-full min-w-72 grow flex-col justify-center gap-1 py-4 xl:px-4",children:[w.jsx("p",{className:"text-lg font-bold tracking-[-0.015em] text-[#0d0f1c]",children:"Event Banner"}),w.jsx("div",{className:"flex items-end justify-between gap-3",children:w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("p",{className:"text-base font-normal text-[#47569e]",children:"Recommended size: 1280x720px"}),w.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"mt-1 text-sm text-gray-500",required:!0})]})})]}),w.jsx("div",{className:"aspect-video w-full rounded-xl bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${s.bannerPreview||"https://via.placeholder.com/1280x720"})`}})]})})]}),w.jsxs("div",{className:"w-full",children:[w.jsx("div",{className:"flex px-4 py-3",children:w.jsx("button",{type:"submit",className:"flex h-12 min-w-[84px] flex-1 items-center justify-center rounded-full bg-[#607afb] px-5 text-base font-bold text-[#f8f9fc]",children:w.jsx("span",{className:"truncate",children:"Create Event"})})}),w.jsx("div",{className:"h-5 bg-[#f8f9fc]"})]})]})})},h1=kg(i=>({triggerFocus:!1,setTriggerFocus:e=>i({triggerFocus:e})})),Xk=()=>{const{getAllEvents:i,events:e,isLoading:t}=Mu(),[s,o]=z.useState(null),[u,h]=z.useState({Level:"",Type:"",Format:""}),d=v=>{o(s===v?null:v)},p=(v,b)=>{h(T=>({...T,[v]:b})),o(null)};if(z.useEffect(()=>{i()},[]),t)return w.jsx("div",{className:"min-h-screen flex h-[60vh] w-full justify-center items-center",children:w.jsx(Yw,{className:"animate-spin"})});const g=e.filter(v=>{const b=u.Level===""||v.level===u.Level,T=u.Type===""||v.type===u.Type,I=u.Format===""||v.format===u.Format;return b&&T&&I});return w.jsxs("div",{className:"h-screen",children:[w.jsxs("div",{className:"flex  flex-wrap gap-3 p-4 md:justify-center sm:justify-start ",children:[w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>d("Level"),className:"flex h-8 items-center gap-2 rounded-xl bg-[#e7edf3] px-4 text-sm font-medium text-[#0e141b]",children:[u.Level||"Level",w.jsx(Km,{size:16})]}),s==="Level"&&w.jsx("div",{className:"absolute z-10 mt-2 w-40 rounded-lg bg-white p-2 shadow-lg",children:["Beginner","Intermediate","Advanced"].map(v=>w.jsx("div",{onClick:()=>p("Level",v),className:"cursor-pointer rounded-md px-3 py-1 text-sm text-gray-800 hover:bg-gray-100",children:v},v))})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>d("Type"),className:"flex h-8 items-center gap-2 rounded-xl bg-[#e7edf3] px-4 text-sm font-medium text-[#0e141b]",children:[u.Type||"Type",w.jsx(Km,{size:16})]}),s==="Type"&&w.jsx("div",{className:"absolute z-10 mt-2 w-40 rounded-lg bg-white p-2 shadow-lg",children:["Workshop","Seminar","Webinar"].map(v=>w.jsx("div",{onClick:()=>p("Type",v),className:"cursor-pointer rounded-md px-3 py-1 text-sm text-gray-800 hover:bg-gray-100",children:v},v))})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>d("Format"),className:"flex h-8 items-center gap-2 rounded-xl bg-[#e7edf3] px-4 text-sm font-medium text-[#0e141b]",children:[u.Format||"Format",w.jsx(Km,{size:16})]}),s==="Format"&&w.jsx("div",{className:"absolute z-10 mt-2 w-40 rounded-lg bg-white p-2 shadow-lg",children:["Online","Offline","Hybrid"].map(v=>w.jsx("div",{onClick:()=>p("Format",v),className:"cursor-pointer rounded-md px-3 py-1 text-sm text-gray-800 hover:bg-gray-100",children:v},v))})]}),(u.Level||u.Type||u.Format)&&w.jsxs("button",{onClick:()=>h({Level:"",Type:"",Format:""}),className:"flex h-8 items-center gap-2 rounded-xl bg-[#e7edf3] px-4 text-sm font-medium text-[#0e141b]",children:[w.jsx(Zw,{}),"Clear Filters"]})]}),w.jsx("div",{className:"flex items-center justify-center px-4",children:w.jsx("div",{className:"w-full max-w-7xl grid gap-6 sm:grid-cols-1 md:grid-cols-2 xl:grid-cols-3",children:g.length>0?g.map((v,b)=>w.jsxs("div",{className:"flex flex-col rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 bg-white",children:[w.jsx("div",{className:"w-full aspect-video bg-cover bg-center",style:{backgroundImage:`url(${v.bannerURL})`}}),w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("div",{className:"flex flex-col justify-center gap-1 p-4 w-full",children:[w.jsx("p",{className:"text-[#0e141b] text-lg font-bold tracking-[-0.015em]",children:v.title}),w.jsx("p",{className:"text-[#4e7397] text-base",children:v.date.toDate().toLocaleDateString()}),w.jsx("p",{className:"text-[#4e7397] text-base",children:v.date.toDate().toLocaleTimeString()})]}),w.jsx("div",{className:"flex gap-2 items-center pr-4",children:w.jsx(Wt,{to:`/event/${v.id}`,children:w.jsxs("button",{className:"flex items-center gap-1 h-8 px-4 bg-[#e6e9f4] text-sm font-medium rounded-full text-[#0d0f1c]",children:[w.jsx($w,{size:18})," View"]})})})]})]},b)):w.jsx("div",{className:"col-span-full flex justify-center items-center min-h-[200px]",children:w.jsx("p",{className:"text-gray-600 text-center text-base",children:"No events match the selected filters."})})})})]})},Wk=()=>{const i=z.useRef(),{triggerFocus:e,setTriggerFocus:t}=h1();return z.useEffect(()=>{var s;e&&((s=i.current)==null||s.focus(),t(!1))},[e]),w.jsx("div",{children:w.jsxs("div",{className:"relative flex flex-col bg-slate-50 justify-between overflow-x-hidden mt-4",style:{fontFamily:"Plus Jakarta Sans, Noto Sans, sans-serif"},children:[w.jsx("div",{className:"px-4 py-3",children:w.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:w.jsxs("div",{className:"flex w-full rounded-xl h-full",children:[w.jsx("div",{className:"text-[#4e7397] bg-[#e7edf3] pl-4 flex items-center justify-center rounded-l-xl",children:w.jsx(Xw,{})}),w.jsx("input",{ref:i,placeholder:"Search events",className:"form-input flex-1 bg-[#e7edf3] rounded-r-xl text-[#0e141b] placeholder-[#4e7397] px-4 text-base focus:outline-none"})]})})}),w.jsx(Xk,{})]})})},Zk=()=>{const{setUser:i,user:e}=hs();return w.jsxs("div",{className:"flex items-center justify-between border-b border-[#ced3e9] bg-slate-50 p-2 pb-2  ",children:[w.jsx(Wt,{to:"/",children:w.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] flex-1  pl-6",children:"Events"})}),w.jsxs("div",{className:"flex w-12 items-center gap-5 justify-end pr-5",children:[e.role==="organizer"&&w.jsx(Wt,{to:"/add-event",children:w.jsxs("button",{className:"flex p-1 items-center justify-center border-b-1 border-b-transparent  text-[#0e141b] hover:border-b hover:border-black ",children:[w.jsx("span",{children:w.jsx(Qw,{})}),"Add"]})}),w.jsx(Wt,{to:"/profile",children:w.jsxs("button",{className:"flex p-1 items-center justify-center border-b-1 border-b-transparent  text-[#0e141b] hover:border-b hover:border-black ",children:[w.jsx("span",{children:w.jsx(Ww,{})}),"Profile"]})}),w.jsxs("button",{onClick:()=>{i(null)},className:"flex p-1 items-center border-b-1 border-b-transparent  justify-center  text-[#0e141b] hover:border-b hover:border-black",children:[w.jsx("span",{children:w.jsx(S4,{})}),"Logout"]})]})]})},Jk=()=>{const{setTriggerFocus:i}=h1(),e=vu(),t=()=>{i(!0),e("/")};return w.jsx("div",{className:"fixed bottom-0 w-full",children:w.jsxs("div",{className:"border-t border-[#e7edf3] bg-slate-50 px-4 pb-3 pt-2 flex justify-around ",children:[w.jsx(Wt,{to:"/",children:w.jsx("button",{className:"flex flex-col items-center text-[#4e7397] text-xs",children:w.jsx(b4,{className:"w-6 h-6"})})}),w.jsx("button",{onClick:t,className:"flex flex-col items-center text-[#4e7397] text-xs",children:w.jsx(Xw,{className:"w-6 h-6"})}),w.jsx(Wt,{to:"/registered-events",children:w.jsx("button",{className:"flex flex-col items-center text-[#4e7397] text-xs",children:w.jsx(v4,{className:"w-6 h-6"})})}),w.jsx(Wt,{to:"/profile",children:w.jsx("button",{className:"flex flex-col items-center text-[#4e7397] text-xs",children:w.jsx(Ww,{className:"w-6 h-6"})})})]})})};function eM(){const i={language:"English",darkMode:!1},[e,t]=z.useState(i),[s,o]=z.useState(i),[u,h]=z.useState(!1),d=g=>{o({...s,[g]:!s[g]})},p=g=>{o({...s,[g.target.name]:g.target.value})};return w.jsxs("div",{className:"p-4 bg-[#f8f9fc] text-[#0d0f1c]",children:[w.jsx("h3",{className:"text-lg font-bold px-4 pb-2 pt-4",children:"Settings"}),w.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[w.jsx("p",{className:"text-base",children:"Language"}),u?w.jsxs("select",{name:"language",className:"border rounded px-2 py-1",value:s.language,onChange:p,children:[w.jsx("option",{children:"English"}),w.jsx("option",{children:"Hindi"}),w.jsx("option",{children:"Tamil"})]}):w.jsx("p",{children:e.language})]}),w.jsxs("div",{className:"flex items-center justify-between px-4 py-2 pb-10",children:[w.jsx("p",{className:"text-base",children:"Dark Mode"}),w.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.darkMode,onChange:()=>d("darkMode")}),w.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer dark:bg-gray-700 peer-checked:bg-blue-600"})]})]})]})}const tM=()=>{const{user:i}=hs(),e=i,[t,s]=z.useState(!1),[o,u]=z.useState(e),[h,d]=z.useState(e),p=b=>{d({...h,[b.target.name]:b.target.value})},g=()=>{u(h),s(!1)},v=()=>{d(o),s(!1)};return w.jsx("div",{className:"min-h-screen bg-gray-100 flex justify-center px-4 py-8",children:w.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-lg rounded-2xl p-6 font-['Plus_Jakarta_Sans']",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx(Wt,{to:"/",className:"text-gray-600 hover:text-blue-600 text-xl",children:"←"}),w.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center flex-1 pr-5",children:"Profile"})]}),w.jsxs("div",{className:"flex flex-col items-center gap-3 mb-6",children:[w.jsx("div",{className:"w-32 h-32 rounded-full bg-cover bg-center border",style:{backgroundImage:`url(${e.BannerUrl})`}}),t?w.jsx("input",{className:"text-center border px-3 py-1 rounded w-full max-w-xs",name:"name",value:h.name,onChange:p,placeholder:"Your name"}):w.jsxs(w.Fragment,{children:[w.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.name}),w.jsx("p",{className:"text-sm text-gray-500",children:o.role}),w.jsxs("p",{className:"text-sm text-gray-500",children:["Joined ",o.joined]})]})]}),w.jsxs("div",{className:"space-y-4 mb-6",children:[["email"].map(b=>w.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[w.jsx("p",{className:"text-gray-700 capitalize",children:b}),t?w.jsx("input",{className:"border px-3 py-1 rounded w-2/3 text-right",name:b,value:h[b],onChange:p}):w.jsx("p",{className:"text-gray-800 text-right",children:o[b]})]},b)),w.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[w.jsx("p",{className:"text-gray-700",children:"Password"}),w.jsx("button",{className:"text-blue-600 text-sm font-medium hover:underline",children:"Change"})]})]}),w.jsx("div",{className:"flex justify-center gap-4",children:t?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium",children:"Save"}),w.jsx("button",{onClick:v,className:"bg-gray-300 hover:bg-gray-400 text-black px-6 py-2 rounded-full font-medium",children:"Cancel"})]}):w.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium",children:"Edit Profile"})}),w.jsx("div",{className:"mt-8",children:w.jsx(eM,{})})]})})},nM=()=>{const i={name:"Jane Doe",role:"Event Organizer",joinedYear:"2022",email:"jane@example.com",phone:"+91 98765 43210",location:"Chennai, India",imageURL:"https://example.com/profile.jpg",bio:"Passionate about creating engaging and impactful tech events for students."};return w.jsxs("div",{className:"min-h-screen bg-[#f8f9fc] p-6 font-['Plus Jakarta Sans','Noto Sans',sans-serif]",children:[w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx("div",{className:"bg-center bg-cover bg-no-repeat rounded-full w-32 h-32",style:{backgroundImage:`url(${i.imageURL})`}}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-[#0d0f1c] text-2xl font-bold",children:i.name}),w.jsx("p",{className:"text-[#47579e] text-base",children:i.role}),w.jsxs("p",{className:"text-[#47579e] text-base",children:["Organizer since ",i.joinedYear]})]})]}),w.jsxs("div",{className:"mt-8 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded shadow",children:[w.jsx("p",{className:"text-[#0d0f1c] font-medium",children:"Email"}),w.jsx("p",{className:"text-[#47579e]",children:i.email})]}),w.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded shadow",children:[w.jsx("p",{className:"text-[#0d0f1c] font-medium",children:"Phone"}),w.jsx("p",{className:"text-[#47579e]",children:i.phone})]}),w.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded shadow",children:[w.jsx("p",{className:"text-[#0d0f1c] font-medium",children:"Location"}),w.jsx("p",{className:"text-[#47579e]",children:i.location})]}),w.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[w.jsx("p",{className:"text-[#0d0f1c] font-medium mb-2",children:"About"}),w.jsx("p",{className:"text-[#47579e] text-sm leading-relaxed",children:i.bio})]})]})]})},iM=()=>{const{id:i}=sT(),e=vu(),{selectedEvent:t,getEventById:s,updateEvent:o,deleteEvent:u,registerForAnEvent:h}=Mu(),{user:d}=hs(),[p,g]=z.useState(!1),[v,b]=z.useState(null);z.useEffect(()=>{s(i)},[i]),z.useEffect(()=>{t&&b({title:t.title||"",location:t.location||"",time:t.date?t.date.toDate().toLocaleTimeString():"",date:t.date?t.date.toDate().toLocaleDateString():"",level:t.level||"",type:t.type||"",format:t.format||""})},[t]);const T=t,I=Y=>{b({...v,[Y.target.name]:Y.target.value})},N=Y=>{u(Y),e("/")},U=async()=>{const Y=new Date(`${v.date}T${v.time}`),Q={...v,date:Y};await o(i,Q),console.log("Saved Data:",v),g(!1)},B=()=>{b({title:T==null?void 0:T.title,location:T==null?void 0:T.location,time:T==null?void 0:T.date.toDate().toLocaleTimeString(),date:T==null?void 0:T.date.toDate().toLocaleDateString(),level:T==null?void 0:T.level,type:T==null?void 0:T.type,format:T==null?void 0:T.format}),g(!1)};return!T||!v?w.jsx("h1",{children:"No event"}):w.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4 py-8",children:w.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-md p-6 font-['Plus Jakarta Sans']",children:[w.jsx("div",{className:"mb-4",children:w.jsxs(Wt,{to:"/",className:"inline-flex items-center text-sm text-gray-600 hover:text-blue-600",children:[w.jsx(Kw,{className:"mr-2"}),"Back"]})}),w.jsx("div",{className:"w-full aspect-[3/2] bg-cover bg-center rounded-xl border border-gray-300",style:{backgroundImage:`url(${T.bannerURL})`}}),w.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mt-6",children:p?w.jsx("input",{name:"title",value:v.title,onChange:I,className:"w-full mt-2 border border-gray-300 px-4 py-2 rounded text-center text-xl",placeholder:"Event Title"}):v.title}),w.jsx("div",{className:"mt-6",children:w.jsx("table",{className:"w-full mt-6 text-sm text-gray-800 border-separate border-spacing-y-3 text-center",children:w.jsx("tbody",{children:["Location","Time","Date","Level","Type","Format"].map(Y=>{const Q=Y.toLowerCase();return w.jsxs("tr",{children:[w.jsx("td",{className:"w-1/3 text-gray-500 font-medium",children:Y}),w.jsx("td",{children:p?w.jsx("input",{name:Q,value:v[Q],onChange:I,className:"w-full border border-gray-300 px-3 py-2 rounded"}):w.jsx("span",{children:v[Q]})})]},Q)})})})}),w.jsx("div",{className:"flex flex-col gap-3 mt-8 max-w-md mx-auto",children:d.role==="organizer"?p?w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:U,className:"w-full h-12 rounded-full bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Save"}),w.jsx("button",{onClick:B,className:"w-full h-12 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold",children:"Cancel"})]}):w.jsxs("div",{className:"flex flex-wrap gap-3",children:[w.jsx(Wt,{to:`/event/${T.id}/registrants`,className:"w-full sm:w-auto flex-1 h-12 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold flex items-center justify-center",children:"Registrants"}),w.jsx("button",{onClick:()=>g(!0),className:"w-full sm:w-auto flex-1 h-12 rounded-full bg-yellow-100 hover:bg-yellow-200 text-yellow-900 font-semibold",children:"Edit"}),w.jsx("button",{onClick:()=>N(T.id),className:"w-full sm:w-auto flex-1 h-12 rounded-full bg-red-100 hover:bg-red-200 text-red-700 font-semibold",children:"Delete"})]}):w.jsx("button",{onClick:()=>h(d),className:"w-full h-12 rounded-full bg-green-100 hover:bg-green-200 text-green-800 font-semibold",children:"Register"})})]})})},rM=()=>{const{id:i}=sT(),{registrants:e,getRegistrants:t}=Mu(),[s,o]=z.useState("");z.useEffect(()=>{t(i)},[i,t]);const u=e.filter(h=>h.name.toLowerCase().includes(s.toLowerCase()));return w.jsxs("div",{className:"relative flex min-h-screen flex-col bg-[#f9f9fb] justify-between overflow-x-hidden",style:{fontFamily:'"Plus Jakarta Sans", "Noto Sans", sans-serif'},children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center bg-[#f9f9fb] p-4 pb-2 justify-between",children:[w.jsx("div",{className:"text-[#0f111a] flex size-12 shrink-0 items-center",children:w.jsx(Wt,{to:"/",children:w.jsx(Kw,{size:20})})}),w.jsx("h2",{className:"text-[#0f111a] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Registrants"})]}),w.jsx("div",{className:"px-4 py-3",children:w.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:w.jsxs("div",{className:"flex w-full items-stretch rounded-xl h-full",children:[w.jsx("div",{className:"text-[#56618f] flex border-none bg-[#e9eaf2] items-center justify-center pl-4 rounded-l-xl",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),w.jsx("input",{placeholder:"Search registrants",value:s,className:"form-input flex w-full flex-1 resize-none overflow-hidden rounded-xl text-[#0f111a] focus:outline-0 focus:ring-0 border-none bg-[#e9eaf2] h-full placeholder:text-[#56618f] px-4 rounded-l-none text-base font-normal",onChange:h=>{o(h.target.value)}})]})})}),u.map((h,d)=>w.jsxs("div",{className:"flex gap-4 bg-[#f9f9fb] px-4 py-3",children:[w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-[70px] w-fit",style:{backgroundImage:`url("${h.image}")`}}),w.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[w.jsx("p",{className:"text-[#0f111a] text-base font-medium leading-normal",children:h.name}),w.jsx("p",{className:"text-[#56618f] text-sm font-normal leading-normal",children:h.email}),w.jsxs("p",{className:"text-[#56618f] text-sm font-normal leading-normal",children:["Registered on: ",h.date]})]})]},d))]}),w.jsx("div",{className:"h-5 bg-[#f9f9fb]"})]})},sM=()=>w.jsx("div",{className:"flex items-center justify-center",children:w.jsxs("div",{className:"w-2xl p-4 grid gap-6 sm:grid-cols-1 xl:grid-cols-3",children:[w.jsx("h2",{className:"text-[#0f111a] text-[22px] font-bold tracking-[-0.015em] px-4 pb-3 pt-5",children:"Upcoming Events"}),[{title:"Building Engaging Online Courses",date:"August 5, 2024 · 11:00 AM - 12:00 PM",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuASUBkqxyGl-W2uaQ9z1CJHhEb7kTc7l0EvC8jyfpxGdCF60qPM-q7L3f85FuyZ2cLbMhESosGwVD77jTqffEt3PXoD5oqoIORZbF7iEosyOMIz9AdsAjzjr4J2J22SNlykJBvSf_AionlgH7lqBnOESe3Ymsm0OOFhsSWsYXuYUfzXpRXQkZdY46KqcCEWMWOiaO8pG7smNpRcgaqfz1KFWiNNAw_DS5yw6tolQcCUbM8tUg3IbolBHT4PGCbXLlHxubAG4hEoRufS"},{title:"Effective Online Teaching Strategies",date:"July 20, 2024 · 2:00 PM - 3:30 PM",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAURnu1Qz2O2egxDpILC7Gt6tUpeNd_ZCz60NPfX6ksyR4jApGtHCorDzoFc4I9TSRziBryZzMx-DA_eA48tpZA4qJtwBQHZt8mzh3xmoAK7jxKuqSvZlIvt-y_aQT6VjC7ag5XUbksVft4bBUMd6kNsHu31_NIBCgEPl_7opBdI0JZC0Q7cpIm_dVTFitJUSwdH4ABGm_aVAQONTqknB0XthSoGOHWe7B18TCQGNWx8UbCa4Ejc65srp9X3nC2eLlhHhGNuVC37rTJ"},{title:"AI in Education: Trends and Tools",date:"July 15, 2024 · 10:00 AM - 11:00 AM",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAlR3JoD1I8kqDTFlDAsxttjTgrR6tO4-OXK3JHPxUtjJlizWV9nwJ3RE5lsuNSMheFsh-asFJo1msbjTg1GIAy-t3luO5JWBsOJiU4QATurGJ5xEe9lAiboYK2VJF-AFHXPkIgeQGQgqEV66iztHRMTFalP1SyWwkdj7hAh1DVIejnWXuKCVlIfxHJctBiPyeXwiv6CqJ4fZH03t-jqm6kUy1hku64GuxnL24acXi-arB-2RPS5L2H9wBfGUAL8AN1YBfwrpOtYdrg"}].map((i,e)=>w.jsxs("div",{className:"flex flex-col rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[w.jsx("div",{className:"w-full aspect-video bg-cover bg-center",style:{backgroundImage:`url(${i.image})`}}),w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("div",{className:"flex flex-col justify-center gap-1 p-4 w-full",children:[w.jsx("p",{className:"text-[#0e141b] text-lg font-bold tracking-[-0.015em]",children:i.title}),w.jsx("p",{className:"text-[#4e7397] text-base",children:i.date}),w.jsx("p",{className:"text-[#4e7397] text-base",children:i.date})]}),w.jsx("div",{className:"flex gap-2 items-center pr-3",children:w.jsx(Wt,{to:"/event",children:w.jsxs("button",{className:"flex items-center gap-1 h-8 px-4 bg-[#e6e9f4] text-sm font-medium rounded-full text-[#0d0f1c]",children:[w.jsx($w,{size:18})," View"]})})})]})]},e)),w.jsx("div",{className:"flex px-4 py-3 justify-end",children:w.jsx("button",{className:"flex min-w-[84px] max-w-[480px] items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#e9eaf2] text-[#0f111a] text-sm font-bold",children:w.jsx("span",{className:"truncate",children:"View All"})})})]})});function aM(){const{user:i}=hs();return z.useEffect(()=>{console.log("User state changed:",i)},[i]),w.jsxs("div",{className:"min-h-screen",children:[(i==null?void 0:i.role)&&w.jsx(Zk,{}),w.jsxs(LS,{children:[w.jsx(yi,{path:"/",element:i?i.role=="user"?w.jsx(Wk,{}):w.jsx($k,{}):w.jsx(Xs,{})}),w.jsx(yi,{path:"/profile",element:i?w.jsx(tM,{}):w.jsx(Xs,{})}),w.jsx(yi,{path:"/add-event",element:(i==null?void 0:i.role)=="organizer"?w.jsx(Qk,{}):w.jsx(Om,{to:"/"})}),w.jsx(yi,{path:"/organizer-profile",element:i?w.jsx(nM,{}):w.jsx(Xs,{})}),w.jsx(yi,{path:"/event/:id",element:i?w.jsx(iM,{}):w.jsx(Xs,{})}),w.jsx(yi,{path:"/login",element:i?w.jsx(Om,{to:"/"}):w.jsx(Xs,{})}),w.jsx(yi,{path:"/signup",element:i?w.jsx(Om,{to:"/"}):w.jsx(c4,{})}),w.jsx(yi,{path:"/event/:id/registrants",element:i?w.jsx(rM,{}):w.jsx(Xs,{})}),w.jsx(yi,{path:"/registered-events",element:i?w.jsx(sM,{}):w.jsx(Xs,{})})]}),(i==null?void 0:i.role)&&i.role==="user"&&w.jsx(Jk,{}),w.jsx(Kk,{})]})}KA.createRoot(document.getElementById("root")).render(w.jsx(z.StrictMode,{children:w.jsx(oR,{children:w.jsx(aM,{})})}));
